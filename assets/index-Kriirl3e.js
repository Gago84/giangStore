(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function aR(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var qd={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function oR(){if(Y_)return Al;Y_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var X_;function lR(){return X_||(X_=1,qd.exports=oR()),qd.exports}var te=lR(),Hd={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function uR(){if($_)return we;$_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function R(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,$={};function F(D,ee,oe){this.props=D,this.context=ee,this.refs=$,this.updater=oe||B}F.prototype.isReactComponent={},F.prototype.setState=function(D,ee){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ee,"setState")},F.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function G(){}G.prototype=F.prototype;function se(D,ee,oe){this.props=D,this.context=ee,this.refs=$,this.updater=oe||B}var ie=se.prototype=new G;ie.constructor=se,H(ie,F.prototype),ie.isPureReactComponent=!0;var Re=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},Pe=Object.prototype.hasOwnProperty;function V(D,ee,oe,ne,ge,Ie){return oe=Ie.ref,{$$typeof:r,type:D,key:ee,ref:oe!==void 0?oe:null,props:Ie}}function w(D,ee){return V(D.type,ee,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var ee={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return ee[oe]})}var M=/\/+/g;function x(D,ee){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):ee.toString(36)}function C(){}function Lt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(ee){D.status==="pending"&&(D.status="fulfilled",D.value=ee)},function(ee){D.status==="pending"&&(D.status="rejected",D.reason=ee)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ot(D,ee,oe,ne,ge){var Ie=typeof D;(Ie==="undefined"||Ie==="boolean")&&(D=null);var Te=!1;if(D===null)Te=!0;else switch(Ie){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(D.$$typeof){case r:case e:Te=!0;break;case E:return Te=D._init,ot(Te(D._payload),ee,oe,ne,ge)}}if(Te)return ge=ge(D),Te=ne===""?"."+x(D,0):ne,Re(ge)?(oe="",Te!=null&&(oe=Te.replace(M,"$&/")+"/"),ot(ge,ee,oe,"",function(Gn){return Gn})):ge!=null&&(I(ge)&&(ge=w(ge,oe+(ge.key==null||D&&D.key===ge.key?"":(""+ge.key).replace(M,"$&/")+"/")+Te)),ee.push(ge)),1;Te=0;var Nt=ne===""?".":ne+":";if(Re(D))for(var Ze=0;Ze<D.length;Ze++)ne=D[Ze],Ie=Nt+x(ne,Ze),Te+=ot(ne,ee,oe,Ie,ge);else if(Ze=R(D),typeof Ze=="function")for(D=Ze.call(D),Ze=0;!(ne=D.next()).done;)ne=ne.value,Ie=Nt+x(ne,Ze++),Te+=ot(ne,ee,oe,Ie,ge);else if(Ie==="object"){if(typeof D.then=="function")return ot(Lt(D),ee,oe,ne,ge);throw ee=String(D),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Te}function K(D,ee,oe){if(D==null)return D;var ne=[],ge=0;return ot(D,ne,"","",function(Ie){return ee.call(oe,Ie,ge++)}),ne}function ae(D){if(D._status===-1){var ee=D._result;ee=ee(),ee.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=ee)}if(D._status===1)return D._result.default;throw D._result}var me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Be(){}return we.Children={map:K,forEach:function(D,ee,oe){K(D,function(){ee.apply(this,arguments)},oe)},count:function(D){var ee=0;return K(D,function(){ee++}),ee},toArray:function(D){return K(D,function(ee){return ee})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},we.Component=F,we.Fragment=n,we.Profiler=o,we.PureComponent=se,we.StrictMode=s,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,we.__COMPILER_RUNTIME={__proto__:null,c:function(D){return de.H.useMemoCache(D)}},we.cache=function(D){return function(){return D.apply(null,arguments)}},we.cloneElement=function(D,ee,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ne=H({},D.props),ge=D.key,Ie=void 0;if(ee!=null)for(Te in ee.ref!==void 0&&(Ie=void 0),ee.key!==void 0&&(ge=""+ee.key),ee)!Pe.call(ee,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ee.ref===void 0||(ne[Te]=ee[Te]);var Te=arguments.length-2;if(Te===1)ne.children=oe;else if(1<Te){for(var Nt=Array(Te),Ze=0;Ze<Te;Ze++)Nt[Ze]=arguments[Ze+2];ne.children=Nt}return V(D.type,ge,void 0,void 0,Ie,ne)},we.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},we.createElement=function(D,ee,oe){var ne,ge={},Ie=null;if(ee!=null)for(ne in ee.key!==void 0&&(Ie=""+ee.key),ee)Pe.call(ee,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ge[ne]=ee[ne]);var Te=arguments.length-2;if(Te===1)ge.children=oe;else if(1<Te){for(var Nt=Array(Te),Ze=0;Ze<Te;Ze++)Nt[Ze]=arguments[Ze+2];ge.children=Nt}if(D&&D.defaultProps)for(ne in Te=D.defaultProps,Te)ge[ne]===void 0&&(ge[ne]=Te[ne]);return V(D,Ie,void 0,void 0,null,ge)},we.createRef=function(){return{current:null}},we.forwardRef=function(D){return{$$typeof:m,render:D}},we.isValidElement=I,we.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:ae}},we.memo=function(D,ee){return{$$typeof:y,type:D,compare:ee===void 0?null:ee}},we.startTransition=function(D){var ee=de.T,oe={};de.T=oe;try{var ne=D(),ge=de.S;ge!==null&&ge(oe,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Be,me)}catch(Ie){me(Ie)}finally{de.T=ee}},we.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},we.use=function(D){return de.H.use(D)},we.useActionState=function(D,ee,oe){return de.H.useActionState(D,ee,oe)},we.useCallback=function(D,ee){return de.H.useCallback(D,ee)},we.useContext=function(D){return de.H.useContext(D)},we.useDebugValue=function(){},we.useDeferredValue=function(D,ee){return de.H.useDeferredValue(D,ee)},we.useEffect=function(D,ee,oe){var ne=de.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(D,ee)},we.useId=function(){return de.H.useId()},we.useImperativeHandle=function(D,ee,oe){return de.H.useImperativeHandle(D,ee,oe)},we.useInsertionEffect=function(D,ee){return de.H.useInsertionEffect(D,ee)},we.useLayoutEffect=function(D,ee){return de.H.useLayoutEffect(D,ee)},we.useMemo=function(D,ee){return de.H.useMemo(D,ee)},we.useOptimistic=function(D,ee){return de.H.useOptimistic(D,ee)},we.useReducer=function(D,ee,oe){return de.H.useReducer(D,ee,oe)},we.useRef=function(D){return de.H.useRef(D)},we.useState=function(D){return de.H.useState(D)},we.useSyncExternalStore=function(D,ee,oe){return de.H.useSyncExternalStore(D,ee,oe)},we.useTransition=function(){return de.H.useTransition()},we.version="19.1.1",we}var W_;function Bm(){return W_||(W_=1,Hd.exports=uR()),Hd.exports}var X=Bm(),Fd={exports:{}},Sl={},Gd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function cR(){return Z_||(Z_=1,function(r){function e(K,ae){var me=K.length;K.push(ae);e:for(;0<me;){var Be=me-1>>>1,D=K[Be];if(0<o(D,ae))K[Be]=ae,K[me]=D,me=Be;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ae=K[0],me=K.pop();if(me!==ae){K[0]=me;e:for(var Be=0,D=K.length,ee=D>>>1;Be<ee;){var oe=2*(Be+1)-1,ne=K[oe],ge=oe+1,Ie=K[ge];if(0>o(ne,me))ge<D&&0>o(Ie,ne)?(K[Be]=Ie,K[ge]=me,Be=ge):(K[Be]=ne,K[oe]=me,Be=oe);else if(ge<D&&0>o(Ie,me))K[Be]=Ie,K[ge]=me,Be=ge;else break e}}return ae}function o(K,ae){var me=K.sortIndex-ae.sortIndex;return me!==0?me:K.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,R=3,B=!1,H=!1,$=!1,F=!1,G=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function Re(K){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=K)s(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function de(K){if($=!1,Re(K),!H)if(n(g)!==null)H=!0,Pe||(Pe=!0,x());else{var ae=n(y);ae!==null&&ot(de,ae.startTime-K)}}var Pe=!1,V=-1,w=5,I=-1;function O(){return F?!0:!(r.unstable_now()-I<w)}function M(){if(F=!1,Pe){var K=r.unstable_now();I=K;var ae=!0;try{e:{H=!1,$&&($=!1,se(V),V=-1),B=!0;var me=R;try{t:{for(Re(K),S=n(g);S!==null&&!(S.expirationTime>K&&O());){var Be=S.callback;if(typeof Be=="function"){S.callback=null,R=S.priorityLevel;var D=Be(S.expirationTime<=K);if(K=r.unstable_now(),typeof D=="function"){S.callback=D,Re(K),ae=!0;break t}S===n(g)&&s(g),Re(K)}else s(g);S=n(g)}if(S!==null)ae=!0;else{var ee=n(y);ee!==null&&ot(de,ee.startTime-K),ae=!1}}break e}finally{S=null,R=me,B=!1}ae=void 0}}finally{ae?x():Pe=!1}}}var x;if(typeof ie=="function")x=function(){ie(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Lt=C.port2;C.port1.onmessage=M,x=function(){Lt.postMessage(null)}}else x=function(){G(M,0)};function ot(K,ae){V=G(function(){K(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(K){switch(R){case 1:case 2:case 3:var ae=3;break;default:ae=R}var me=R;R=ae;try{return K()}finally{R=me}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=R;R=K;try{return ae()}finally{R=me}},r.unstable_scheduleCallback=function(K,ae,me){var Be=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=me+D,K={id:E++,callback:ae,priorityLevel:K,startTime:me,expirationTime:D,sortIndex:-1},me>Be?(K.sortIndex=me,e(y,K),n(g)===null&&K===n(y)&&($?(se(V),V=-1):$=!0,ot(de,me-Be))):(K.sortIndex=D,e(g,K),H||B||(H=!0,Pe||(Pe=!0,x()))),K},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(K){var ae=R;return function(){var me=R;R=ae;try{return K.apply(this,arguments)}finally{R=me}}}}(Kd)),Kd}var J_;function hR(){return J_||(J_=1,Gd.exports=cR()),Gd.exports}var Qd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function fR(){if(ev)return Yt;ev=1;var r=Bm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},Yt.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Yt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Yt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Yt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:B}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:R,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Yt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Yt.requestFormReset=function(g){s.d.r(g)},Yt.unstable_batchedUpdates=function(g,y){return g(y)},Yt.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.1",Yt}var tv;function dR(){if(tv)return Qd.exports;tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qd.exports=fR(),Qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function mR(){if(nv)return Sl;nv=1;var r=hR(),e=Bm(),n=dR();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case F:return"Profiler";case $:return"StrictMode";case de:return"Suspense";case Pe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case Re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return i=t.displayName||null,i!==null?i:Lt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Lt(t(i))}catch{}}return null}var ot=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],D=-1;function ee(t){return{current:t}}function oe(t){0>D||(t.current=Be[D],Be[D]=null,D--)}function ne(t,i){D++,Be[D]=t.current,t.current=i}var ge=ee(null),Ie=ee(null),Te=ee(null),Nt=ee(null);function Ze(t,i){switch(ne(Te,i),ne(Ie,t),ne(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?A_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=A_(i),t=S_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(ge),ne(ge,t)}function Gn(){oe(ge),oe(Ie),oe(Te)}function nr(t){t.memoizedState!==null&&ne(Nt,t);var i=ge.current,a=S_(i,t.type);i!==a&&(ne(Ie,t),ne(ge,a))}function yi(t){Ie.current===t&&(oe(ge),oe(Ie)),Nt.current===t&&(oe(Nt),yl._currentValue=me)}var $r=Object.prototype.hasOwnProperty,Wr=r.unstable_scheduleCallback,Zr=r.unstable_cancelCallback,mo=r.unstable_shouldYield,cu=r.unstable_requestPaint,vn=r.unstable_now,jh=r.unstable_getCurrentPriorityLevel,po=r.unstable_ImmediatePriority,Qs=r.unstable_UserBlockingPriority,Jr=r.unstable_NormalPriority,qh=r.unstable_LowPriority,Ys=r.unstable_IdlePriority,go=r.log,hu=r.unstable_setDisableYieldValue,lt=null,Fe=null;function ln(t){if(typeof go=="function"&&hu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(lt,t)}catch{}}var Kt=Math.clz32?Math.clz32:es,fu=Math.log,Hh=Math.LN2;function es(t){return t>>>=0,t===0?32:31-(fu(t)/Hh|0)|0}var ts=256,ns=4194304;function Pn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xs(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Pn(l):(v&=T,v!==0?h=Pn(v):a||(a=T&~t,a!==0&&(h=Pn(a))))):(T=l&~d,T!==0?h=Pn(T):v!==0?h=Pn(v):a||(a=l&~t,a!==0&&(h=Pn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function is(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function yo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _o(){var t=ts;return ts<<=1,(ts&4194048)===0&&(ts=256),t}function vo(){var t=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),t}function _i(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function vi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Eo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,b=t.expirationTimes,U=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Kt(a),Z=1<<Q;T[Q]=0,b[Q]=-1;var z=U[Q];if(z!==null)for(U[Q]=null,Q=0;Q<z.length;Q++){var j=z[Q];j!==null&&(j.lane&=-536870913)}a&=~Z}l!==0&&Kn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Kn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Kt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function To(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Kt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $s(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function rr(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:q_(t.type))}function du(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var nt=Math.random().toString(36).slice(2),Rt="__reactFiber$"+nt,pt="__reactProps$"+nt,En="__reactContainer$"+nt,Ao="__reactEvents$"+nt,Fh="__reactListeners$"+nt,sr="__reactHandles$"+nt,mu="__reactResources$"+nt,rs="__reactMarker$"+nt;function ar(t){delete t[Rt],delete t[pt],delete t[Ao],delete t[Fh],delete t[sr]}function Ei(t){var i=t[Rt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[En]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=I_(t);t!==null;){if(a=t[Rt])return a;t=I_(t)}return i}t=a,a=t.parentNode}return null}function Qn(t){if(t=t[Rt]||t[En]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Yn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Jt(t){var i=t[mu];return i||(i=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(t){t[rs]=!0}var So=new Set,Ws={};function xn(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(Ws[t]=i,t=0;t<i.length;t++)So.add(i[t])}var pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gu={},ss={};function yu(t){return $r.call(ss,t)?!0:$r.call(gu,t)?!1:pu.test(t)?ss[t]=!0:(gu[t]=!0,!1)}function or(t,i,a){if(yu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Xn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ut(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var as,_u;function Ai(t){if(as===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);as=i&&i[1]||"",_u=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+as+t+_u}var Zs=!1;function Js(t,i){if(!t||Zs)return"";Zs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(j){var z=j}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(j){z=j}t.call(Z.prototype)}}else{try{throw Error()}catch(j){z=j}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var b=v.split(`
`),U=T.split(`
`);for(h=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===b.length||h===U.length)for(l=b.length-1,h=U.length-1;1<=l&&0<=h&&b[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(b[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||b[l]!==U[h]){var Q=`
`+b[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Zs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ai(a):""}function Ro(t){switch(t.tag){case 26:case 27:case 5:return Ai(t.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return Js(t.type,!1);case 11:return Js(t.type.render,!1);case 1:return Js(t.type,!0);case 31:return Ai("Activity");default:return""}}function ea(t){try{var i="";do i+=Ro(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gh(t){var i=wo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ta(t){t._valueTracker||(t._valueTracker=Gh(t))}function bo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=wo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Kh=/[\n"\\]/g;function gt(t){return t.replace(Kh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function un(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+en(i)):t.value!==""+en(i)&&(t.value=""+en(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?lr(t,v,en(i)):a!=null?lr(t,v,en(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function ls(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function lr(t,i,a){i==="number"&&os(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Si(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,a){if(i!=null&&(i=""+en(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+en(a):""}function us(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=en(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Tn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||cs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Io(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&vu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&vu(t,d,i[d])}function Co(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(t){return Yh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ri=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wi=null,bi=null;function Do(t){var i=Qn(t);if(i&&(t=i.stateNode)){var a=t[pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(un(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[pt]||null;if(!h)throw Error(s(90));un(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&bo(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Si(t,!!a.multiple,i,!1)}}}var $n=!1;function Eu(t,i,a){if($n)return t(i,a);$n=!0;try{var l=t(i);return l}finally{if($n=!1,(wi!==null||bi!==null)&&(dc(),wi&&(i=wi,t=bi,bi=wi=null,Do(i),t)))for(i=0;i<t.length;i++)Do(t[i])}}function hs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(kn)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{Sn=!1}var Wn=null,ur=null,Ii=null;function No(){if(Ii)return Ii;var t,i=ur,a=i.length,l,h="value"in Wn?Wn.value:Wn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ii=h.slice(t,1<l?1-l:void 0)}function Zn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Jn(){return!0}function Oo(){return!1}function Ot(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jn:Oo,this.isPropagationStopped=Oo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=Ot(qe),ds=E({},qe,{view:0,detail:0}),Tu=Ot(ds),ra,sa,ei,ms=E({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ei&&(ei&&t.type==="mousemove"?(ra=t.screenX-ei.screenX,sa=t.screenY-ei.screenY):sa=ra=0,ei=t),ra)},movementY:function(t){return"movementY"in t?t.movementY:sa}}),Rn=Ot(ms),Au=E({},ms,{dataTransfer:0}),Xh=Ot(Au),ps=E({},ds,{relatedTarget:0}),aa=Ot(ps),Vo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=Ot(Vo),Su=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),la=Ot(Su),$h=E({},qe,{data:0}),Mo=Ot($h),gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Po(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=wu[t])?!!i[t]:!1}function ys(){return Po}var bu=E({},ds,{key:function(t){if(t.key){var i=gs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Zn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(t){return t.type==="keypress"?Zn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ua=Ot(bu),Iu=E({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xo=Ot(Iu),Ci=E({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),Cu=Ot(Ci),Du=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nu=Ot(Du),Ou=E({},ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ca=Ot(Ou),tn=E({},qe,{newState:0,oldState:0}),Vu=Ot(tn),Mu=[9,13,27,32],ti=kn&&"CompositionEvent"in window,c=null;kn&&"documentMode"in document&&(c=document.documentMode);var p=kn&&"TextEvent"in window&&!c,_=kn&&(!ti||c&&8<c&&11>=c),A=" ",k=!1;function q(t,i){switch(t){case"keyup":return Mu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xe=!1;function wt(t,i){switch(t){case"compositionend":return re(i);case"keypress":return i.which!==32?null:(k=!0,A);case"textInput":return t=i.data,t===A&&k?null:t;default:return null}}function ke(t,i){if(xe)return t==="compositionend"||!ti&&q(t,i)?(t=No(),Ii=ur=Wn=null,xe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vt[t.type]:i==="textarea"}function Di(t,i,a,l){wi?bi?bi.push(l):bi=[l]:wi=l,i=vc(i,"onChange"),0<i.length&&(a=new ia("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var zt=null,ni=null;function ko(t){y_(t,0)}function Pu(t){var i=Yn(t);if(bo(i))return t}function Up(t,i){if(t==="change")return i}var zp=!1;if(kn){var Wh;if(kn){var Zh="oninput"in document;if(!Zh){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),Zh=typeof Bp.oninput=="function"}Wh=Zh}else Wh=!1;zp=Wh&&(!document.documentMode||9<document.documentMode)}function jp(){zt&&(zt.detachEvent("onpropertychange",qp),ni=zt=null)}function qp(t){if(t.propertyName==="value"&&Pu(ni)){var i=[];Di(i,ni,t,An(t)),Eu(ko,i)}}function kA(t,i,a){t==="focusin"?(jp(),zt=i,ni=a,zt.attachEvent("onpropertychange",qp)):t==="focusout"&&jp()}function LA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(ni)}function UA(t,i){if(t==="click")return Pu(i)}function zA(t,i){if(t==="input"||t==="change")return Pu(i)}function BA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var cn=typeof Object.is=="function"?Object.is:BA;function Lo(t,i){if(cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!$r.call(i,h)||!cn(t[h],i[h]))return!1}return!0}function Hp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fp(t,i){var a=Hp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Hp(a)}}function Gp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Gp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Kp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=os(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=os(t.document)}return i}function Jh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var jA=kn&&"documentMode"in document&&11>=document.documentMode,ha=null,ef=null,Uo=null,tf=!1;function Qp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tf||ha==null||ha!==os(l)||(l=ha,"selectionStart"in l&&Jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Uo&&Lo(Uo,l)||(Uo=l,l=vc(ef,"onSelect"),0<l.length&&(i=new ia("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ha)))}function _s(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var fa={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},nf={},Yp={};kn&&(Yp=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function vs(t){if(nf[t])return nf[t];if(!fa[t])return t;var i=fa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Yp)return nf[t]=i[a];return t}var Xp=vs("animationend"),$p=vs("animationiteration"),Wp=vs("animationstart"),qA=vs("transitionrun"),HA=vs("transitionstart"),FA=vs("transitioncancel"),Zp=vs("transitionend"),Jp=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function Ln(t,i){Jp.set(t,i),xn(i,[t])}var eg=new WeakMap;function wn(t,i){if(typeof t=="object"&&t!==null){var a=eg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ea(i)},eg.set(t,i),i)}return{value:t,source:i,stack:ea(i)}}var bn=[],da=0,sf=0;function xu(){for(var t=da,i=sf=da=0;i<t;){var a=bn[i];bn[i++]=null;var l=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var d=bn[i];if(bn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&tg(a,h,d)}}function ku(t,i,a,l){bn[da++]=t,bn[da++]=i,bn[da++]=a,bn[da++]=l,sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function af(t,i,a,l){return ku(t,i,a,l),Lu(t)}function ma(t,i){return ku(t,null,null,i),Lu(t)}function tg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Kt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Lu(t){if(50<ul)throw ul=0,fd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var pa={};function GA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,i,a,l){return new GA(t,i,a,l)}function of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,i){var a=t.alternate;return a===null?(a=hn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ng(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Uu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")of(t)&&(v=1);else if(typeof t=="string")v=QS(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=hn(31,a,i,h),t.elementType=I,t.lanes=d,t;case H:return Es(a.children,h,d,i);case $:v=8,h|=24;break;case F:return t=hn(12,a,i,h|2),t.elementType=F,t.lanes=d,t;case de:return t=hn(13,a,i,h),t.elementType=de,t.lanes=d,t;case Pe:return t=hn(19,a,i,h),t.elementType=Pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:case ie:v=10;break e;case se:v=9;break e;case Re:v=11;break e;case V:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=hn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Es(t,i,a,l){return t=hn(7,t,l,i),t.lanes=a,t}function lf(t,i,a){return t=hn(6,t,null,i),t.lanes=a,t}function uf(t,i,a){return i=hn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ga=[],ya=0,zu=null,Bu=0,In=[],Cn=0,Ts=null,Oi=1,Vi="";function As(t,i){ga[ya++]=Bu,ga[ya++]=zu,zu=t,Bu=i}function ig(t,i,a){In[Cn++]=Oi,In[Cn++]=Vi,In[Cn++]=Ts,Ts=t;var l=Oi;t=Vi;var h=32-Kt(l)-1;l&=~(1<<h),a+=1;var d=32-Kt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Oi=1<<32-Kt(i)+h|a<<h|l,Vi=d+t}else Oi=1<<d|a<<h|l,Vi=t}function cf(t){t.return!==null&&(As(t,1),ig(t,1,0))}function hf(t){for(;t===zu;)zu=ga[--ya],ga[ya]=null,Bu=ga[--ya],ga[ya]=null;for(;t===Ts;)Ts=In[--Cn],In[Cn]=null,Vi=In[--Cn],In[Cn]=null,Oi=In[--Cn],In[Cn]=null}var nn=null,ut=null,je=!1,Ss=null,ii=!1,ff=Error(s(519));function Rs(t){var i=Error(s(418,""));throw jo(wn(i,t)),ff}function rg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Rt]=t,i[pt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<hl.length;a++)Ne(hl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),ls(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ta(i);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),us(i,l.value,l.defaultValue,l.children),ta(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||T_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Ec),i=!0):i=!1,i||Rs(t)}function sg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:nn=nn.return}}function zo(t){if(t!==nn)return!1;if(!je)return sg(t),je=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cd(t.type,t.memoizedProps)),a=!a),a&&ut&&Rs(t),sg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ut=zn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,wr(t.type)?(t=Vd,Vd=null,ut=t):ut=i):ut=nn?zn(t.stateNode.nextSibling):null;return!0}function Bo(){ut=nn=null,je=!1}function ag(){var t=Ss;return t!==null&&(an===null?an=t:an.push.apply(an,t),Ss=null),t}function jo(t){Ss===null?Ss=[t]:Ss.push(t)}var df=ee(null),ws=null,Mi=null;function cr(t,i,a){ne(df,i._currentValue),i._currentValue=a}function Pi(t){t._currentValue=df.current,oe(df)}function mf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function pf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var b=0;b<i.length;b++)if(T.context===i[b]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),mf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),mf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function qo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;cn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Nt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(yl):t=[yl])}h=h.return}t!==null&&pf(i,t,a,l),i.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function bs(t){ws=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return og(ws,t)}function qu(t,i){return ws===null&&bs(t),og(t,i)}function og(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mi===null){if(t===null)throw Error(s(308));Mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Mi=Mi.next=i;return a}var KA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},QA=r.unstable_scheduleCallback,YA=r.unstable_NormalPriority,It={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new KA,data:new Map,refCount:0}}function Ho(t){t.refCount--,t.refCount===0&&QA(YA,function(){t.controller.abort()})}var Fo=null,yf=0,_a=0,va=null;function XA(t,i){if(Fo===null){var a=Fo=[];yf=0,_a=vd(),va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yf++,i.then(lg,lg),i}function lg(){if(--yf===0&&Fo!==null){va!==null&&(va.status="fulfilled");var t=Fo;Fo=null,_a=0,va=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function $A(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ug=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&XA(t,i),ug!==null&&ug(t,i)};var Is=ee(null);function _f(){var t=Is.current;return t!==null?t:Je.pooledCache}function Hu(t,i){i===null?ne(Is,Is.current):ne(Is,i.pool)}function cg(){var t=_f();return t===null?null:{parent:It._currentValue,pool:t}}var Go=Error(s(460)),hg=Error(s(474)),Fu=Error(s(542)),vf={then:function(){}};function fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gu(){}function dg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gu,Gu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,pg(t),t;default:if(typeof i.status=="string")i.then(Gu,Gu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,pg(t),t}throw Ko=i,Go}}var Ko=null;function mg(){if(Ko===null)throw Error(s(459));var t=Ko;return Ko=null,t}function pg(t){if(t===Go||t===Fu)throw Error(s(483))}var hr=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function dr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Lu(t),tg(t,null,a),i}return ku(t,l,i,a),Lu(t)}function Qo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,To(t,a)}}function Af(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Sf=!1;function Yo(){if(Sf){var t=va;if(t!==null)throw t}}function Xo(t,i,a,l){Sf=!1;var h=t.updateQueue;hr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var b=T,U=b.next;b.next=null,v===null?d=U:v.next=U,v=b;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=U:T.next=U,Q.lastBaseUpdate=b))}if(d!==null){var Z=h.baseState;v=0,Q=U=b=null,T=d;do{var z=T.lane&-536870913,j=z!==T.lane;if(j?(Le&z)===z:(l&z)===z){z!==0&&z===_a&&(Sf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=t,ye=T;z=i;var $e=a;switch(ye.tag){case 1:if(Ee=ye.payload,typeof Ee=="function"){Z=Ee.call($e,Z,z);break e}Z=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ye.payload,z=typeof Ee=="function"?Ee.call($e,Z,z):Ee,z==null)break e;Z=E({},Z,z);break e;case 2:hr=!0}}z=T.callback,z!==null&&(t.flags|=64,j&&(t.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(U=Q=j,b=Z):Q=Q.next=j,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;j=T,T=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);Q===null&&(b=Z),h.baseState=b,h.firstBaseUpdate=U,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Tr|=v,t.lanes=v,t.memoizedState=Z}}function gg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function yg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gg(a[t],i)}var Ea=ee(null),Ku=ee(0);function _g(t,i){t=ji,ne(Ku,t),ne(Ea,i),ji=t|i.baseLanes}function Rf(){ne(Ku,ji),ne(Ea,Ea.current)}function wf(){ji=Ku.current,oe(Ea),oe(Ku)}var mr=0,be=null,Ye=null,yt=null,Qu=!1,Ta=!1,Cs=!1,Yu=0,$o=0,Aa=null,WA=0;function ft(){throw Error(s(321))}function bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!cn(t[a],i[a]))return!1;return!0}function If(t,i,a,l,h,d){return mr=d,be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?ty:ny,Cs=!1,d=a(l,h),Cs=!1,Ta&&(d=Eg(i,a,l,h)),vg(t),d}function vg(t){K.H=ec;var i=Ye!==null&&Ye.next!==null;if(mr=0,yt=Ye=be=null,Qu=!1,$o=0,Aa=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&ju(t)&&(Mt=!0))}function Eg(t,i,a,l){be=t;var h=0;do{if(Ta&&(Aa=null),$o=0,Ta=!1,25<=h)throw Error(s(301));if(h+=1,yt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=rS,d=i(a,l)}while(Ta);return d}function ZA(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Wo(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(be.flags|=1024),i}function Cf(){var t=Yu!==0;return Yu=0,t}function Df(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Nf(t){if(Qu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Qu=!1}mr=0,yt=Ye=be=null,Ta=!1,$o=Yu=0,Aa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?be.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Ye===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=yt===null?be.memoizedState:yt.next;if(i!==null)yt=i,Ye=t;else{if(t===null)throw be.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?be.memoizedState=yt=t:yt=yt.next=t}return yt}function Of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(t){var i=$o;return $o+=1,Aa===null&&(Aa=[]),t=dg(Aa,t,i),i=be,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?ty:ny),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wo(t);if(t.$$typeof===ie)return Qt(t)}throw Error(s(438,String(t)))}function Vf(t){var i=null,a=be.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Of(),be.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function xi(t,i){return typeof i=="function"?i(t):i}function $u(t){var i=_t();return Mf(i,Ye,t)}function Mf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,b=null,U=i,Q=!1;do{var Z=U.lane&-536870913;if(Z!==U.lane?(Le&Z)===Z:(mr&Z)===Z){var z=U.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Z===_a&&(Q=!0);else if((mr&z)===z){U=U.next,z===_a&&(Q=!0);continue}else Z={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},b===null?(T=b=Z,v=d):b=b.next=Z,be.lanes|=z,Tr|=z;Z=U.action,Cs&&a(d,Z),d=U.hasEagerState?U.eagerState:a(d,Z)}else z={lane:Z,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},b===null?(T=b=z,v=d):b=b.next=z,be.lanes|=Z,Tr|=Z;U=U.next}while(U!==null&&U!==i);if(b===null?v=d:b.next=T,!cn(d,t.memoizedState)&&(Mt=!0,Q&&(a=va,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=b,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Pf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);cn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Tg(t,i,a){var l=be,h=_t(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!cn((Ye||h).memoizedState,a);v&&(h.memoizedState=a,Mt=!0),h=h.queue;var T=Rg.bind(null,l,h,t);if(Zo(2048,8,T,[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Sa(9,Wu(),Sg.bind(null,l,h,a,i),null),Je===null)throw Error(s(349));d||(mr&124)!==0||Ag(l,i,a)}return a}function Ag(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=be.updateQueue,i===null?(i=Of(),be.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Sg(t,i,a,l){i.value=a,i.getSnapshot=l,wg(i)&&bg(t)}function Rg(t,i,a){return a(function(){wg(i)&&bg(t)})}function wg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!cn(t,a)}catch{return!0}}function bg(t){var i=ma(t,2);i!==null&&gn(i,t,2)}function xf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Cs){ln(!0);try{a()}finally{ln(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},i}function Ig(t,i,a,l){return t.baseState=a,Mf(t,Ye,typeof l=="function"?l:xi)}function JA(t,i,a,l,h){if(Ju(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Cg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Cg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),b=K.S;b!==null&&b(v,T),Dg(t,i,T)}catch(U){kf(t,i,U)}finally{K.T=d}}else try{d=a(h,l),Dg(t,i,d)}catch(U){kf(t,i,U)}}function Dg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ng(t,i,l)},function(l){return kf(t,i,l)}):Ng(t,i,a)}function Ng(t,i,a){i.status="fulfilled",i.value=a,Og(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Cg(t,a)))}function kf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Og(i),i=i.next;while(i!==l)}t.action=null}function Og(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Vg(t,i){return i}function Mg(t,i){if(je){var a=Je.formState;if(a!==null){e:{var l=be;if(je){if(ut){t:{for(var h=ut,d=ii;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=zn(h.nextSibling),l=h.data==="F!";break e}}Rs(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:i},a.queue=l,a=Zg.bind(null,be,l),l.dispatch=a,l=xf(!1),d=jf.bind(null,be,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=JA.bind(null,be,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Pg(t){var i=_t();return xg(i,Ye,t)}function xg(t,i,a){if(i=Mf(t,i,Vg)[0],t=$u(xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Wo(i)}catch(v){throw v===Go?Fu:v}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(be.flags|=2048,Sa(9,Wu(),eS.bind(null,h,a),null)),[l,d,t]}function eS(t,i){t.action=i}function kg(t){var i=_t(),a=Ye;if(a!==null)return xg(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Sa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=be.updateQueue,i===null&&(i=Of(),be.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Wu(){return{destroy:void 0,resource:void 0}}function Lg(){return _t().memoizedState}function Zu(t,i,a,l){var h=rn();l=l===void 0?null:l,be.flags|=t,h.memoizedState=Sa(1|i,Wu(),a,l)}function Zo(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&bf(l,Ye.memoizedState.deps)?h.memoizedState=Sa(i,d,a,l):(be.flags|=t,h.memoizedState=Sa(1|i,d,a,l))}function Ug(t,i){Zu(8390656,8,t,i)}function zg(t,i){Zo(2048,8,t,i)}function Bg(t,i){return Zo(4,2,t,i)}function jg(t,i){return Zo(4,4,t,i)}function qg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Hg(t,i,a){a=a!=null?a.concat([t]):null,Zo(4,4,qg.bind(null,i,t),a)}function Lf(){}function Fg(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Gg(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&bf(i,l[1]))return l[0];if(l=t(),Cs){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,i],l}function Uf(t,i,a){return a===void 0||(mr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Yy(),be.lanes|=t,Tr|=t,a)}function Kg(t,i,a,l){return cn(a,i)?a:Ea.current!==null?(t=Uf(t,a,l),cn(t,i)||(Mt=!0),t):(mr&42)===0?(Mt=!0,t.memoizedState=a):(t=Yy(),be.lanes|=t,Tr|=t,i)}function Qg(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,jf(t,!1,i,a);try{var b=h(),U=K.S;if(U!==null&&U(T,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var Q=$A(b,l);Jo(t,i,Q,pn(t))}else Jo(t,i,l,pn(t))}catch(Z){Jo(t,i,{then:function(){},status:"rejected",reason:Z},pn())}finally{ae.p=d,K.T=v}}function tS(){}function zf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Yg(t).queue;Qg(t,h,i,me,a===null?tS:function(){return Xg(t),a(l)})}function Yg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Xg(t){var i=Yg(t).next.queue;Jo(t,i,{},pn())}function Bf(){return Qt(yl)}function $g(){return _t().memoizedState}function Wg(){return _t().memoizedState}function nS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();t=fr(a);var l=dr(i,t,a);l!==null&&(gn(l,i,a),Qo(l,i,a)),i={cache:gf()},t.payload=i;return}i=i.return}}function iS(t,i,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(t)?Jg(i,a):(a=af(t,i,a,l),a!==null&&(gn(a,t,l),ey(a,i,l)))}function Zg(t,i,a){var l=pn();Jo(t,i,a,l)}function Jo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))Jg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,cn(T,v))return ku(t,i,h,0),Je===null&&xu(),!1}catch{}finally{}if(a=af(t,i,h,l),a!==null)return gn(a,t,l),ey(a,i,l),!0}return!1}function jf(t,i,a,l){if(l={lane:2,revertLane:vd(),action:l,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(i)throw Error(s(479))}else i=af(t,a,l,2),i!==null&&gn(i,t,2)}function Ju(t){var i=t.alternate;return t===be||i!==null&&i===be}function Jg(t,i){Ta=Qu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ey(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,To(t,a)}}var ec={readContext:Qt,use:Xu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},ty={readContext:Qt,use:Xu,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:Ug,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Zu(4194308,4,qg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Zu(4194308,4,t,i)},useInsertionEffect:function(t,i){Zu(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Cs){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Cs){ln(!0);try{a(i)}finally{ln(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=iS.bind(null,be,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=xf(t);var i=t.queue,a=Zg.bind(null,be,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(t,i){var a=rn();return Uf(a,t,i)},useTransition:function(){var t=xf(!1);return t=Qg.bind(null,be,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=be,h=rn();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Le&124)!==0||Ag(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ug(Rg.bind(null,l,d,t),[t]),l.flags|=2048,Sa(9,Wu(),Sg.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=Je.identifierPrefix;if(je){var a=Vi,l=Oi;a=(l&~(1<<32-Kt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Yu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=WA++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Bf,useFormState:Mg,useActionState:Mg,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=jf.bind(null,be,!0,a),a.dispatch=i,[t,i]},useMemoCache:Vf,useCacheRefresh:function(){return rn().memoizedState=nS.bind(null,be)}},ny={readContext:Qt,use:Xu,useCallback:Fg,useContext:Qt,useEffect:zg,useImperativeHandle:Hg,useInsertionEffect:Bg,useLayoutEffect:jg,useMemo:Gg,useReducer:$u,useRef:Lg,useState:function(){return $u(xi)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=_t();return Kg(a,Ye.memoizedState,t,i)},useTransition:function(){var t=$u(xi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:Bf,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,i){var a=_t();return Ig(a,Ye,t,i)},useMemoCache:Vf,useCacheRefresh:Wg},rS={readContext:Qt,use:Xu,useCallback:Fg,useContext:Qt,useEffect:zg,useImperativeHandle:Hg,useInsertionEffect:Bg,useLayoutEffect:jg,useMemo:Gg,useReducer:Pf,useRef:Lg,useState:function(){return Pf(xi)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=_t();return Ye===null?Uf(a,t,i):Kg(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Pf(xi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:Bf,useFormState:kg,useActionState:kg,useOptimistic:function(t,i){var a=_t();return Ye!==null?Ig(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:Wg},Ra=null,el=0;function tc(t){var i=el;return el+=1,Ra===null&&(Ra=[]),dg(Ra,t,i)}function tl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function nc(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function iy(t){var i=t._init;return i(t._payload)}function ry(t){function i(P,N){if(t){var L=P.deletions;L===null?(P.deletions=[N],P.flags|=16):L.push(N)}}function a(P,N){if(!t)return null;for(;N!==null;)i(P,N),N=N.sibling;return null}function l(P){for(var N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function h(P,N){return P=Ni(P,N),P.index=0,P.sibling=null,P}function d(P,N,L){return P.index=L,t?(L=P.alternate,L!==null?(L=L.index,L<N?(P.flags|=67108866,N):L):(P.flags|=67108866,N)):(P.flags|=1048576,N)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,N,L,Y){return N===null||N.tag!==6?(N=lf(L,P.mode,Y),N.return=P,N):(N=h(N,L),N.return=P,N)}function b(P,N,L,Y){var he=L.type;return he===H?Q(P,N,L.props.children,Y,L.key):N!==null&&(N.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&iy(he)===N.type)?(N=h(N,L.props),tl(N,L),N.return=P,N):(N=Uu(L.type,L.key,L.props,null,P.mode,Y),tl(N,L),N.return=P,N)}function U(P,N,L,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=uf(L,P.mode,Y),N.return=P,N):(N=h(N,L.children||[]),N.return=P,N)}function Q(P,N,L,Y,he){return N===null||N.tag!==7?(N=Es(L,P.mode,Y,he),N.return=P,N):(N=h(N,L),N.return=P,N)}function Z(P,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=lf(""+N,P.mode,L),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case R:return L=Uu(N.type,N.key,N.props,null,P.mode,L),tl(L,N),L.return=P,L;case B:return N=uf(N,P.mode,L),N.return=P,N;case w:var Y=N._init;return N=Y(N._payload),Z(P,N,L)}if(ot(N)||x(N))return N=Es(N,P.mode,L,null),N.return=P,N;if(typeof N.then=="function")return Z(P,tc(N),L);if(N.$$typeof===ie)return Z(P,qu(P,N),L);nc(P,N)}return null}function z(P,N,L,Y){var he=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return he!==null?null:T(P,N,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case R:return L.key===he?b(P,N,L,Y):null;case B:return L.key===he?U(P,N,L,Y):null;case w:return he=L._init,L=he(L._payload),z(P,N,L,Y)}if(ot(L)||x(L))return he!==null?null:Q(P,N,L,Y,null);if(typeof L.then=="function")return z(P,N,tc(L),Y);if(L.$$typeof===ie)return z(P,N,qu(P,L),Y);nc(P,L)}return null}function j(P,N,L,Y,he){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return P=P.get(L)||null,T(N,P,""+Y,he);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case R:return P=P.get(Y.key===null?L:Y.key)||null,b(N,P,Y,he);case B:return P=P.get(Y.key===null?L:Y.key)||null,U(N,P,Y,he);case w:var Ce=Y._init;return Y=Ce(Y._payload),j(P,N,L,Y,he)}if(ot(Y)||x(Y))return P=P.get(L)||null,Q(N,P,Y,he,null);if(typeof Y.then=="function")return j(P,N,L,tc(Y),he);if(Y.$$typeof===ie)return j(P,N,L,qu(N,Y),he);nc(N,Y)}return null}function Ee(P,N,L,Y){for(var he=null,Ce=null,fe=N,_e=N=0,xt=null;fe!==null&&_e<L.length;_e++){fe.index>_e?(xt=fe,fe=null):xt=fe.sibling;var ze=z(P,fe,L[_e],Y);if(ze===null){fe===null&&(fe=xt);break}t&&fe&&ze.alternate===null&&i(P,fe),N=d(ze,N,_e),Ce===null?he=ze:Ce.sibling=ze,Ce=ze,fe=xt}if(_e===L.length)return a(P,fe),je&&As(P,_e),he;if(fe===null){for(;_e<L.length;_e++)fe=Z(P,L[_e],Y),fe!==null&&(N=d(fe,N,_e),Ce===null?he=fe:Ce.sibling=fe,Ce=fe);return je&&As(P,_e),he}for(fe=l(fe);_e<L.length;_e++)xt=j(fe,P,_e,L[_e],Y),xt!==null&&(t&&xt.alternate!==null&&fe.delete(xt.key===null?_e:xt.key),N=d(xt,N,_e),Ce===null?he=xt:Ce.sibling=xt,Ce=xt);return t&&fe.forEach(function(Nr){return i(P,Nr)}),je&&As(P,_e),he}function ye(P,N,L,Y){if(L==null)throw Error(s(151));for(var he=null,Ce=null,fe=N,_e=N=0,xt=null,ze=L.next();fe!==null&&!ze.done;_e++,ze=L.next()){fe.index>_e?(xt=fe,fe=null):xt=fe.sibling;var Nr=z(P,fe,ze.value,Y);if(Nr===null){fe===null&&(fe=xt);break}t&&fe&&Nr.alternate===null&&i(P,fe),N=d(Nr,N,_e),Ce===null?he=Nr:Ce.sibling=Nr,Ce=Nr,fe=xt}if(ze.done)return a(P,fe),je&&As(P,_e),he;if(fe===null){for(;!ze.done;_e++,ze=L.next())ze=Z(P,ze.value,Y),ze!==null&&(N=d(ze,N,_e),Ce===null?he=ze:Ce.sibling=ze,Ce=ze);return je&&As(P,_e),he}for(fe=l(fe);!ze.done;_e++,ze=L.next())ze=j(fe,P,_e,ze.value,Y),ze!==null&&(t&&ze.alternate!==null&&fe.delete(ze.key===null?_e:ze.key),N=d(ze,N,_e),Ce===null?he=ze:Ce.sibling=ze,Ce=ze);return t&&fe.forEach(function(sR){return i(P,sR)}),je&&As(P,_e),he}function $e(P,N,L,Y){if(typeof L=="object"&&L!==null&&L.type===H&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case R:e:{for(var he=L.key;N!==null;){if(N.key===he){if(he=L.type,he===H){if(N.tag===7){a(P,N.sibling),Y=h(N,L.props.children),Y.return=P,P=Y;break e}}else if(N.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&iy(he)===N.type){a(P,N.sibling),Y=h(N,L.props),tl(Y,L),Y.return=P,P=Y;break e}a(P,N);break}else i(P,N);N=N.sibling}L.type===H?(Y=Es(L.props.children,P.mode,Y,L.key),Y.return=P,P=Y):(Y=Uu(L.type,L.key,L.props,null,P.mode,Y),tl(Y,L),Y.return=P,P=Y)}return v(P);case B:e:{for(he=L.key;N!==null;){if(N.key===he)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(P,N.sibling),Y=h(N,L.children||[]),Y.return=P,P=Y;break e}else{a(P,N);break}else i(P,N);N=N.sibling}Y=uf(L,P.mode,Y),Y.return=P,P=Y}return v(P);case w:return he=L._init,L=he(L._payload),$e(P,N,L,Y)}if(ot(L))return Ee(P,N,L,Y);if(x(L)){if(he=x(L),typeof he!="function")throw Error(s(150));return L=he.call(L),ye(P,N,L,Y)}if(typeof L.then=="function")return $e(P,N,tc(L),Y);if(L.$$typeof===ie)return $e(P,N,qu(P,L),Y);nc(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(P,N.sibling),Y=h(N,L),Y.return=P,P=Y):(a(P,N),Y=lf(L,P.mode,Y),Y.return=P,P=Y),v(P)):a(P,N)}return function(P,N,L,Y){try{el=0;var he=$e(P,N,L,Y);return Ra=null,he}catch(fe){if(fe===Go||fe===Fu)throw fe;var Ce=hn(29,fe,null,P.mode);return Ce.lanes=Y,Ce.return=P,Ce}finally{}}}var wa=ry(!0),sy=ry(!1),Dn=ee(null),ri=null;function pr(t){var i=t.alternate;ne(Ct,Ct.current&1),ne(Dn,t),ri===null&&(i===null||Ea.current!==null||i.memoizedState!==null)&&(ri=t)}function ay(t){if(t.tag===22){if(ne(Ct,Ct.current),ne(Dn,t),ri===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ri=t)}}else gr()}function gr(){ne(Ct,Ct.current),ne(Dn,Dn.current)}function ki(t){oe(Dn),ri===t&&(ri=null),oe(Ct)}var Ct=ee(0);function ic(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Od(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function qf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=pn(),h=fr(l);h.payload=i,a!=null&&(h.callback=a),i=dr(t,h,l),i!==null&&(gn(i,t,l),Qo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=pn(),h=fr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=dr(t,h,l),i!==null&&(gn(i,t,l),Qo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=pn(),l=fr(a);l.tag=2,i!=null&&(l.callback=i),i=dr(t,l,a),i!==null&&(gn(i,t,a),Qo(i,t,a))}};function oy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Lo(a,l)||!Lo(h,d):!0}function ly(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Hf.enqueueReplaceState(i,i.state,null)}function Ds(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function uy(t){rc(t)}function cy(t){console.error(t)}function hy(t){rc(t)}function sc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function fy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ff(t,i,a){return a=fr(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(t,i)},a}function dy(t){return t=fr(t),t.tag=3,t}function my(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){fy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){fy(i,a,l),typeof h!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function sS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&qo(i,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return ri===null?md():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===vf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),gd(t,l,h)),!1;case 22:return a.flags|=65536,l===vf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),gd(t,l,h)),!1}throw Error(s(435,a.tag))}return gd(t,l,h),md(),!1}if(je)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==ff&&(t=Error(s(422),{cause:l}),jo(wn(t,a)))):(l!==ff&&(i=Error(s(423),{cause:l}),jo(wn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=wn(l,a),h=Ff(t.stateNode,l,h),Af(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=wn(d,a),ll===null?ll=[d]:ll.push(d),ct!==4&&(ct=2),i===null)return!0;l=wn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ff(a.stateNode,l,t),Af(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ar===null||!Ar.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=dy(h),my(h,t,a,l),Af(a,h),!1}a=a.return}while(a!==null);return!1}var py=Error(s(461)),Mt=!1;function Bt(t,i,a,l){i.child=t===null?sy(i,null,a,l):wa(i,t.child,a,l)}function gy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return bs(i),l=If(t,i,a,v,d,h),T=Cf(),t!==null&&!Mt?(Df(t,i,h),Li(t,i,h)):(je&&T&&cf(i),i.flags|=1,Bt(t,i,l,h),i.child)}function yy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!of(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,_y(t,i,d,l,h)):(t=Uu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Zf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Lo,a(v,l)&&t.ref===i.ref)return Li(t,i,h)}return i.flags|=1,t=Ni(d,l),t.ref=i.ref,t.return=i,i.child=t}function _y(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Lo(d,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,Zf(t,h))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,Li(t,i,h)}return Gf(t,i,a,l,h)}function vy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ey(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(i,d!==null?d.cachePool:null),d!==null?_g(i,d):Rf(),ay(i);else return i.lanes=i.childLanes=536870912,Ey(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Hu(i,d.cachePool),_g(i,d),gr(),i.memoizedState=null):(t!==null&&Hu(i,null),Rf(),gr());return Bt(t,i,h,a),i.child}function Ey(t,i,a,l){var h=_f();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Hu(i,null),Rf(),ay(i),t!==null&&qo(t,i,l,!0),null}function ac(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Gf(t,i,a,l,h){return bs(i),a=If(t,i,a,l,void 0,h),l=Cf(),t!==null&&!Mt?(Df(t,i,h),Li(t,i,h)):(je&&l&&cf(i),i.flags|=1,Bt(t,i,a,h),i.child)}function Ty(t,i,a,l,h,d){return bs(i),i.updateQueue=null,a=Eg(i,l,a,h),vg(t),l=Cf(),t!==null&&!Mt?(Df(t,i,d),Li(t,i,d)):(je&&l&&cf(i),i.flags|=1,Bt(t,i,a,d),i.child)}function Ay(t,i,a,l,h){if(bs(i),i.stateNode===null){var d=pa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ef(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):pa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(qf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Hf.enqueueReplaceState(d,d.state,null),Xo(i,l,d,h),Yo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,b=Ds(a,T);d.props=b;var U=d.context,Q=a.contextType;v=pa,typeof Q=="object"&&Q!==null&&(v=Qt(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==v)&&ly(i,d,l,v),hr=!1;var z=i.memoizedState;d.state=z,Xo(i,l,d,h),Yo(),U=i.memoizedState,T||z!==U||hr?(typeof Z=="function"&&(qf(i,a,Z,l),U=i.memoizedState),(b=hr||oy(i,a,b,l,z,U,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=U),d.props=l,d.state=U,d.context=v,l=b):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Tf(t,i),v=i.memoizedProps,Q=Ds(a,v),d.props=Q,Z=i.pendingProps,z=d.context,U=a.contextType,b=pa,typeof U=="object"&&U!==null&&(b=Qt(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||z!==b)&&ly(i,d,l,b),hr=!1,z=i.memoizedState,d.state=z,Xo(i,l,d,h),Yo();var j=i.memoizedState;v!==Z||z!==j||hr||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof T=="function"&&(qf(i,a,T,l),j=i.memoizedState),(Q=hr||oy(i,a,Q,l,z,j,b)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,b)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=b,l=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,ac(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=wa(i,t.child,null,h),i.child=wa(i,null,a,h)):Bt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Li(t,i,h),t}function Sy(t,i,a,l){return Bo(),i.flags|=256,Bt(t,i,a,l),i.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:cg()}}function Yf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Nn),t}function Ry(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(je){if(h?pr(i):gr(),je){var T=ut,b;if(b=T){e:{for(b=T,T=ii;b.nodeType!==8;){if(!T){T=null;break e}if(b=zn(b.nextSibling),b===null){T=null;break e}}T=b}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ts!==null?{id:Oi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},b=hn(18,null,null,0),b.stateNode=T,b.return=i,i.child=b,nn=i,ut=null,b=!0):b=!1}b||Rs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Od(T)?i.lanes=32:i.lanes=536870912,null;ki(i)}return T=l.children,l=l.fallback,h?(gr(),h=i.mode,T=oc({mode:"hidden",children:T},h),l=Es(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Qf(a),h.childLanes=Yf(t,v,a),i.memoizedState=Kf,l):(pr(i),Xf(i,T))}if(b=t.memoizedState,b!==null&&(T=b.dehydrated,T!==null)){if(d)i.flags&256?(pr(i),i.flags&=-257,i=$f(t,i,a)):i.memoizedState!==null?(gr(),i.child=t.child,i.flags|=128,i=null):(gr(),h=l.fallback,T=i.mode,l=oc({mode:"visible",children:l.children},T),h=Es(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,wa(i,t.child,null,a),l=i.child,l.memoizedState=Qf(a),l.childLanes=Yf(t,v,a),i.memoizedState=Kf,i=h);else if(pr(i),Od(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,jo({value:l,source:null,stack:null}),i=$f(t,i,a)}else if(Mt||qo(t,i,a,!1),v=(a&t.childLanes)!==0,Mt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:ir(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,ma(t,l),gn(v,t,l),py;T.data==="$?"||md(),i=$f(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=b.treeContext,ut=zn(T.nextSibling),nn=i,je=!0,Ss=null,ii=!1,t!==null&&(In[Cn++]=Oi,In[Cn++]=Vi,In[Cn++]=Ts,Oi=t.id,Vi=t.overflow,Ts=i),i=Xf(i,l.children),i.flags|=4096);return i}return h?(gr(),h=l.fallback,T=i.mode,b=t.child,U=b.sibling,l=Ni(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,U!==null?h=Ni(U,h):(h=Es(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Qf(a):(b=T.cachePool,b!==null?(U=It._currentValue,b=b.parent!==U?{parent:U,pool:U}:b):b=cg(),T={baseLanes:T.baseLanes|a,cachePool:b}),h.memoizedState=T,h.childLanes=Yf(t,v,a),i.memoizedState=Kf,l):(pr(i),a=t.child,t=a.sibling,a=Ni(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Xf(t,i){return i=oc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function oc(t,i){return t=hn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function $f(t,i,a){return wa(i,t.child,null,a),t=Xf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function wy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),mf(t.return,i,a)}function Wf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function by(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Bt(t,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wy(t,a,i);else if(t.tag===19)wy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ne(Ct,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ic(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Wf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ic(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Wf(i,!0,a,null,d);break;case"together":Wf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Li(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Tr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(qo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ni(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ni(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Zf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function aS(t,i,a){switch(i.tag){case 3:Ze(i,i.stateNode.containerInfo),cr(i,It,t.memoizedState.cache),Bo();break;case 27:case 5:nr(i);break;case 4:Ze(i,i.stateNode.containerInfo);break;case 10:cr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ry(t,i,a):(pr(i),t=Li(t,i,a),t!==null?t.sibling:null);pr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(qo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return by(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,vy(t,i,a);case 24:cr(i,It,t.memoizedState.cache)}return Li(t,i,a)}function Iy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Zf(t,a)&&(i.flags&128)===0)return Mt=!1,aS(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,je&&(i.flags&1048576)!==0&&ig(i,Bu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")of(l)?(t=Ds(l,t),i.tag=1,i=Ay(null,i,l,t,a)):(i.tag=0,i=Gf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===Re){i.tag=11,i=gy(null,i,l,t,a);break e}else if(h===V){i.tag=14,i=yy(null,i,l,t,a);break e}}throw i=Lt(l)||l,Error(s(306,i,""))}}return i;case 0:return Gf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ds(l,i.pendingProps),Ay(t,i,l,h,a);case 3:e:{if(Ze(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Tf(t,i),Xo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,cr(i,It,l),l!==d.cache&&pf(i,[It],a,!0),Yo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Sy(t,i,l,a);break e}else if(l!==h){h=wn(Error(s(424)),i),jo(h),i=Sy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=zn(t.firstChild),nn=i,je=!0,Ss=null,ii=!0,a=sy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bo(),l===h){i=Li(t,i,a);break e}Bt(t,i,l,a)}i=i.child}return i;case 26:return ac(t,i),t===null?(a=O_(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,t=i.pendingProps,l=Tc(Te.current).createElement(a),l[Rt]=i,l[pt]=t,qt(l,a,t),ht(l),i.stateNode=l):i.memoizedState=O_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return nr(i),t===null&&je&&(l=i.stateNode=C_(i.type,i.pendingProps,Te.current),nn=i,ii=!0,h=ut,wr(i.type)?(Vd=h,ut=zn(l.firstChild)):ut=h),Bt(t,i,i.pendingProps.children,a),ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&je&&((h=l=ut)&&(l=PS(l,i.type,i.pendingProps,ii),l!==null?(i.stateNode=l,nn=i,ut=zn(l.firstChild),ii=!1,h=!0):h=!1),h||Rs(i)),nr(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Cd(h,d)?l=null:v!==null&&Cd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=If(t,i,ZA,null,null,a),yl._currentValue=h),ac(t,i),Bt(t,i,l,a),i.child;case 6:return t===null&&je&&((t=a=ut)&&(a=xS(a,i.pendingProps,ii),a!==null?(i.stateNode=a,nn=i,ut=null,t=!0):t=!1),t||Rs(i)),null;case 13:return Ry(t,i,a);case 4:return Ze(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=wa(i,null,l,a):Bt(t,i,l,a),i.child;case 11:return gy(t,i,i.type,i.pendingProps,a);case 7:return Bt(t,i,i.pendingProps,a),i.child;case 8:return Bt(t,i,i.pendingProps.children,a),i.child;case 12:return Bt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,cr(i,i.type,l.value),Bt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,bs(i),h=Qt(h),l=l(h),i.flags|=1,Bt(t,i,l,a),i.child;case 14:return yy(t,i,i.type,i.pendingProps,a);case 15:return _y(t,i,i.type,i.pendingProps,a);case 19:return by(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=oc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ni(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return vy(t,i,a);case 24:return bs(i),l=Qt(It),t===null?(h=_f(),h===null&&(h=Je,d=gf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Ef(i),cr(i,It,h)):((t.lanes&a)!==0&&(Tf(t,i),Xo(i,null,null,a),Yo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),cr(i,It,l)):(l=d.cache,cr(i,It,l),l!==h.cache&&pf(i,[It],a,!0))),Bt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ui(t){t.flags|=4}function Cy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!k_(i)){if(i=Dn.current,i!==null&&((Le&4194048)===Le?ri!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==ri))throw Ko=vf,hg;t.flags|=8192}}function lc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?vo():536870912,t.lanes|=i,Da|=i)}function nl(t,i){if(!je)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function oS(t,i,a){var l=i.pendingProps;switch(hf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Pi(It),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(zo(i)?Ui(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ag())),rt(i),null;case 26:return a=i.memoizedState,t===null?(Ui(i),a!==null?(rt(i),Cy(i,a)):(rt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Ui(i),rt(i),Cy(i,a)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Ui(i),rt(i),i.flags&=-16777217),null;case 27:yi(i),a=Te.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=ge.current,zo(i)?rg(i):(t=C_(h,l,a),i.stateNode=t,Ui(i))}return rt(i),null;case 5:if(yi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(t=ge.current,zo(i))rg(i);else{switch(h=Tc(Te.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Rt]=i,t[pt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ui(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Te.current,zo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Rt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||T_(t.nodeValue,a)),t||Rs(i)}else t=Tc(t).createTextNode(l),t[Rt]=i,i.stateNode=t}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=zo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Rt]=i}else Bo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=ag(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ki(i),i):(ki(i),null)}if(ki(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),lc(i,i.updateQueue),rt(i),null;case 4:return Gn(),t===null&&Sd(i.stateNode.containerInfo),rt(i),null;case 10:return Pi(i.type),rt(i),null;case 19:if(oe(Ct),h=i.memoizedState,h===null)return rt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)nl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ic(t),d!==null){for(i.flags|=128,nl(h,!1),t=d.updateQueue,i.updateQueue=t,lc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ng(a,t),a=a.sibling;return ne(Ct,Ct.current&1|2),i.child}t=t.sibling}h.tail!==null&&vn()>hc&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304)}else{if(!l)if(t=ic(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,lc(i,t),nl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!je)return rt(i),null}else 2*vn()-h.renderingStartTime>hc&&a!==536870912&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=vn(),i.sibling=null,t=Ct.current,ne(Ct,l?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return ki(i),wf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&lc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&oe(Is),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Pi(It),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function lS(t,i){switch(hf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Pi(It),Gn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return yi(i),null;case 13:if(ki(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Bo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return oe(Ct),null;case 4:return Gn(),null;case 10:return Pi(i.type),null;case 22:case 23:return ki(i),wf(),t!==null&&oe(Is),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Pi(It),null;case 25:return null;default:return null}}function Dy(t,i){switch(hf(i),i.tag){case 3:Pi(It),Gn();break;case 26:case 27:case 5:yi(i);break;case 4:Gn();break;case 13:ki(i);break;case 19:oe(Ct);break;case 10:Pi(i.type);break;case 22:case 23:ki(i),wf(),t!==null&&oe(Is);break;case 24:Pi(It)}}function il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(i,i.return,T)}}function yr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var b=a,U=T;try{U()}catch(Q){We(h,b,Q)}}}l=l.next}while(l!==d)}}catch(Q){We(i,i.return,Q)}}function Ny(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{yg(i,a)}catch(l){We(t,t.return,l)}}}function Oy(t,i,a){a.props=Ds(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function rl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function si(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function Vy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Jf(t,i,a){try{var l=t.stateNode;DS(l,t.type,a,i),l[pt]=i}catch(h){We(t,t.return,h)}}function My(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wr(t.type)||t.tag===4}function ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||My(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function td(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ec));else if(l!==4&&(l===27&&wr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(td(t,i,a),t=t.sibling;t!==null;)td(t,i,a),t=t.sibling}function uc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&wr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(uc(t,i,a),t=t.sibling;t!==null;)uc(t,i,a),t=t.sibling}function Py(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qt(i,l,a),i[Rt]=t,i[pt]=a}catch(d){We(t,t.return,d)}}var zi=!1,dt=!1,nd=!1,xy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function uS(t,i){if(t=t.containerInfo,bd=Ic,t=Kp(t),Jh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,b=-1,U=0,Q=0,Z=t,z=null;t:for(;;){for(var j;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(b=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(j=Z.firstChild)!==null;)z=Z,Z=j;for(;;){if(Z===t)break t;if(z===a&&++U===h&&(T=v),z===d&&++Q===l&&(b=v),(j=Z.nextSibling)!==null)break;Z=z,z=Z.parentNode}Z=j}a=T===-1||b===-1?null:{start:T,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Id={focusedElem:t,selectionRange:a},Ic=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ee=Ds(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){We(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Nd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function ky(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_r(t,a),l&4&&il(5,a);break;case 1:if(_r(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Ds(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&Ny(a),l&512&&rl(a,a.return);break;case 3:if(_r(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{yg(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&Py(a);case 26:case 5:_r(t,a),i===null&&l&4&&Vy(a),l&512&&rl(a,a.return);break;case 12:_r(t,a);break;case 13:_r(t,a),l&4&&zy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_S.bind(null,a),kS(t,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){i=i!==null&&i.memoizedState!==null||dt,h=zi;var d=dt;zi=l,(dt=i)&&!d?vr(t,a,(a.subtreeFlags&8772)!==0):_r(t,a),zi=h,dt=d}break;case 30:break;default:_r(t,a)}}function Ly(t){var i=t.alternate;i!==null&&(t.alternate=null,Ly(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ar(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,sn=!1;function Bi(t,i,a){for(a=a.child;a!==null;)Uy(t,i,a),a=a.sibling}function Uy(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:dt||si(a,i),Bi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||si(a,i);var l=it,h=sn;wr(a.type)&&(it=a.stateNode,sn=!1),Bi(t,i,a),dl(a.stateNode),it=l,sn=h;break;case 5:dt||si(a,i);case 6:if(l=it,h=sn,it=null,Bi(t,i,a),it=l,sn=h,it!==null)if(sn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{it.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:it!==null&&(sn?(t=it,b_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Tl(t)):b_(it,a.stateNode));break;case 4:l=it,h=sn,it=a.stateNode.containerInfo,sn=!0,Bi(t,i,a),it=l,sn=h;break;case 0:case 11:case 14:case 15:dt||yr(2,a,i),dt||yr(4,a,i),Bi(t,i,a);break;case 1:dt||(si(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Oy(a,i,l)),Bi(t,i,a);break;case 21:Bi(t,i,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,Bi(t,i,a),dt=l;break;default:Bi(t,i,a)}}function zy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tl(t)}catch(a){We(i,i.return,a)}}function cS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new xy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new xy),i;default:throw Error(s(435,t.tag))}}function id(t,i){var a=cS(t);i.forEach(function(l){var h=vS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(wr(T.type)){it=T.stateNode,sn=!1;break e}break;case 5:it=T.stateNode,sn=!1;break e;case 3:case 4:it=T.stateNode.containerInfo,sn=!0;break e}T=T.return}if(it===null)throw Error(s(160));Uy(d,v,h),it=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)By(i,t),i=i.sibling}var Un=null;function By(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),l&4&&(yr(3,t,t.return),il(3,t),yr(5,t,t.return));break;case 1:fn(i,t),dn(t),l&512&&(dt||a===null||si(a,a.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Un;if(fn(i,t),dn(t),l&512&&(dt||a===null||si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[rs]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[Rt]=t,ht(d),l=d;break e;case"link":var v=P_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=P_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=t,ht(d),l=d}t.stateNode=l}else x_(h,t.type,t.stateNode);else t.stateNode=M_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?x_(h,t.type,t.stateNode):M_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),dn(t),l&512&&(dt||a===null||si(a,a.return)),a!==null&&l&4&&Jf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),dn(t),l&512&&(dt||a===null||si(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(j){We(t,t.return,j)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Jf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(nd=!0);break;case 6:if(fn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(j){We(t,t.return,j)}}break;case 3:if(Rc=null,h=Un,Un=Ac(i.containerInfo),fn(i,t),Un=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Tl(i.containerInfo)}catch(j){We(t,t.return,j)}nd&&(nd=!1,jy(t));break;case 4:l=Un,Un=Ac(t.stateNode.containerInfo),fn(i,t),dn(t),Un=l;break;case 12:fn(i,t),dn(t);break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ud=vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,id(t,l)));break;case 22:h=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,U=zi,Q=dt;if(zi=U||h,dt=Q||b,fn(i,t),dt=Q,zi=U,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||zi||dt||Ns(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(d=b.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=b.stateNode;var Z=b.memoizedProps.style,z=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(j){We(b,b.return,j)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(j){We(b,b.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,id(t,a))));break;case 19:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,id(t,l)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(My(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ed(t);uc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var T=ed(t);uc(t,T,v);break;case 3:case 4:var b=a.stateNode.containerInfo,U=ed(t);td(t,U,b);break;default:throw Error(s(161))}}catch(Q){We(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;jy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function _r(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ky(t,i.alternate,i),i=i.sibling}function Ns(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:yr(4,i,i.return),Ns(i);break;case 1:si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Oy(i,i.return,a),Ns(i);break;case 27:dl(i.stateNode);case 26:case 5:si(i,i.return),Ns(i);break;case 22:i.memoizedState===null&&Ns(i);break;case 30:Ns(i);break;default:Ns(i)}t=t.sibling}}function vr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:vr(h,d,a),il(4,d);break;case 1:if(vr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){We(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)gg(b[h],T)}catch(U){We(l,l.return,U)}}a&&v&64&&Ny(d),rl(d,d.return);break;case 27:Py(d);case 26:case 5:vr(h,d,a),a&&l===null&&v&4&&Vy(d),rl(d,d.return);break;case 12:vr(h,d,a);break;case 13:vr(h,d,a),a&&v&4&&zy(h,d);break;case 22:d.memoizedState===null&&vr(h,d,a),rl(d,d.return);break;case 30:break;default:vr(h,d,a)}i=i.sibling}}function rd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ho(a))}function sd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ho(t))}function ai(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)qy(t,i,a,l),i=i.sibling}function qy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,a,l),h&2048&&il(9,i);break;case 1:ai(t,i,a,l);break;case 3:ai(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ho(t)));break;case 12:if(h&2048){ai(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){We(i,i.return,b)}}else ai(t,i,a,l);break;case 13:ai(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ai(t,i,a,l):sl(t,i):d._visibility&2?ai(t,i,a,l):(d._visibility|=2,ba(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&rd(v,i);break;case 24:ai(t,i,a,l),h&2048&&sd(i.alternate,i);break;default:ai(t,i,a,l)}}function ba(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,b=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:ba(d,v,T,b,h),il(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?ba(d,v,T,b,h):sl(d,v):(Q._visibility|=2,ba(d,v,T,b,h)),h&&U&2048&&rd(v.alternate,v);break;case 24:ba(d,v,T,b,h),h&&U&2048&&sd(v.alternate,v);break;default:ba(d,v,T,b,h)}i=i.sibling}}function sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:sl(a,l),h&2048&&rd(l.alternate,l);break;case 24:sl(a,l),h&2048&&sd(l.alternate,l);break;default:sl(a,l)}i=i.sibling}}var al=8192;function Ia(t){if(t.subtreeFlags&al)for(t=t.child;t!==null;)Hy(t),t=t.sibling}function Hy(t){switch(t.tag){case 26:Ia(t),t.flags&al&&t.memoizedState!==null&&XS(Un,t.memoizedState,t.memoizedProps);break;case 5:Ia(t);break;case 3:case 4:var i=Un;Un=Ac(t.stateNode.containerInfo),Ia(t),Un=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=al,al=16777216,Ia(t),al=i):Ia(t));break;default:Ia(t)}}function Fy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Ky(l,t)}Fy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gy(t),t=t.sibling}function Gy(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&yr(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,cc(t)):ol(t);break;default:ol(t)}}function cc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Ky(l,t)}Fy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:yr(8,i,i.return),cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,cc(i));break;default:cc(i)}t=t.sibling}}function Ky(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:yr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ho(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(Ly(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var hS={getCacheForType:function(t){var i=Qt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},fS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,De=null,Le=0,Ke=0,mn=null,Er=!1,Ca=!1,ad=!1,ji=0,ct=0,Tr=0,Os=0,od=0,Nn=0,Da=0,ll=null,an=null,ld=!1,ud=0,hc=1/0,fc=null,Ar=null,jt=0,Sr=null,Na=null,Oa=0,cd=0,hd=null,Qy=null,ul=0,fd=null;function pn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(K.T!==null){var t=_a;return t!==0?t:vd()}return rr()}function Yy(){Nn===0&&(Nn=(Le&536870912)===0||je?_o():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),Nn}function gn(t,i,a){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Va(t,0),Rr(t,Le,Nn,!1)),vi(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Os|=a),ct===4&&Rr(t,Le,Nn,!1)),oi(t))}function Xy(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||is(t,i),h=l?pS(t,i):pd(t,i,!0),d=l;do{if(h===0){Ca&&!l&&Rr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!dS(a)){h=pd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=ll;var b=T.current.memoizedState.isDehydrated;if(b&&(Va(T,v).flags|=256),v=pd(T,v,!1),v!==2){if(ad&&!b){T.errorRecoveryDisabledLanes|=d,Os|=d,h=4;break e}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Va(t,0),Rr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Rr(l,i,Nn,!Er);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=ud+300-vn(),10<h)){if(Rr(l,i,Nn,!Er),Xs(l,0,!0)!==0)break e;l.timeoutHandle=R_($y.bind(null,l,a,an,fc,ld,i,Nn,Os,Da,Er,d,2,-0,0),h);break e}$y(l,a,an,fc,ld,i,Nn,Os,Da,Er,d,0,-0,0)}}break}while(!0);oi(t)}function $y(t,i,a,l,h,d,v,T,b,U,Q,Z,z,j){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(gl={stylesheets:null,count:0,unsuspend:YS},Hy(i),Z=$S(),Z!==null)){t.cancelPendingCommit=Z(i_.bind(null,t,i,d,a,l,h,v,T,b,Q,1,z,j)),Rr(t,d,v,!U);return}i_(t,i,d,a,l,h,v,T,b)}function dS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rr(t,i,a,l){i&=~od,i&=~Os,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Kt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Kn(t,a,i)}function dc(){return(Ge&6)===0?(cl(0),!1):!0}function dd(){if(De!==null){if(Ke===0)var t=De.return;else t=De,Mi=ws=null,Nf(t),Ra=null,el=0,t=De;for(;t!==null;)Dy(t.alternate,t),t=t.return;De=null}}function Va(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,OS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),dd(),Je=t,De=a=Ni(t.current,null),Le=i,Ke=0,mn=null,Er=!1,Ca=is(t,i),ad=!1,Da=Nn=od=Os=Tr=ct=0,an=ll=null,ld=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Kt(l),d=1<<h;i|=t[h],l&=~d}return ji=i,xu(),a}function Wy(t,i){be=null,K.H=ec,i===Go||i===Fu?(i=mg(),Ke=3):i===hg?(i=mg(),Ke=4):Ke=i===py?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,De===null&&(ct=1,sc(t,wn(i,t.current)))}function Zy(){var t=K.H;return K.H=ec,t===null?ec:t}function Jy(){var t=K.A;return K.A=hS,t}function md(){ct=4,Er||(Le&4194048)!==Le&&Dn.current!==null||(Ca=!0),(Tr&134217727)===0&&(Os&134217727)===0||Je===null||Rr(Je,Le,Nn,!1)}function pd(t,i,a){var l=Ge;Ge|=2;var h=Zy(),d=Jy();(Je!==t||Le!==i)&&(fc=null,Va(t,i)),i=!1;var v=ct;e:do try{if(Ke!==0&&De!==null){var T=De,b=mn;switch(Ke){case 8:dd(),v=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var U=Ke;if(Ke=0,mn=null,Ma(t,T,b,U),a&&Ca){v=0;break e}break;default:U=Ke,Ke=0,mn=null,Ma(t,T,b,U)}}mS(),v=ct;break}catch(Q){Wy(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Mi=ws=null,Ge=l,K.H=h,K.A=d,De===null&&(Je=null,Le=0,xu()),v}function mS(){for(;De!==null;)e_(De)}function pS(t,i){var a=Ge;Ge|=2;var l=Zy(),h=Jy();Je!==t||Le!==i?(fc=null,hc=vn()+500,Va(t,i)):Ca=is(t,i);e:do try{if(Ke!==0&&De!==null){i=De;var d=mn;t:switch(Ke){case 1:Ke=0,mn=null,Ma(t,i,d,1);break;case 2:case 9:if(fg(d)){Ke=0,mn=null,t_(i);break}i=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),oi(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:fg(d)?(Ke=0,mn=null,t_(i)):(Ke=0,mn=null,Ma(t,i,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var T=De;if(!v||k_(v)){Ke=0,mn=null;var b=T.sibling;if(b!==null)De=b;else{var U=T.return;U!==null?(De=U,mc(U)):De=null}break t}}Ke=0,mn=null,Ma(t,i,d,5);break;case 6:Ke=0,mn=null,Ma(t,i,d,6);break;case 8:dd(),ct=6;break e;default:throw Error(s(462))}}gS();break}catch(Q){Wy(t,Q)}while(!0);return Mi=ws=null,K.H=l,K.A=h,Ge=a,De!==null?0:(Je=null,Le=0,xu(),ct)}function gS(){for(;De!==null&&!mo();)e_(De)}function e_(t){var i=Iy(t.alternate,t,ji);t.memoizedProps=t.pendingProps,i===null?mc(t):De=i}function t_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ty(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=Ty(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Nf(i);default:Dy(a,i),i=De=ng(i,ji),i=Iy(a,i,ji)}t.memoizedProps=t.pendingProps,i===null?mc(t):De=i}function Ma(t,i,a,l){Mi=ws=null,Nf(i),Ra=null,el=0;var h=i.return;try{if(sS(t,h,i,a,Le)){ct=1,sc(t,wn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ct=1,sc(t,wn(a,t.current)),De=null;return}i.flags&32768?(je||l===1?t=!0:Ca||(Le&536870912)!==0?t=!1:(Er=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),n_(i,t)):mc(i)}function mc(t){var i=t;do{if((i.flags&32768)!==0){n_(i,Er);return}t=i.return;var a=oS(i.alternate,i,ji);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ct===0&&(ct=5)}function n_(t,i){do{var a=lS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ct=6,De=null}function i_(t,i,a,l,h,d,v,T,b){t.cancelPendingCommit=null;do pc();while(jt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=sf,Eo(t,a,d,v,T,b),t===Je&&(De=Je=null,Le=0),Na=i,Sr=t,Oa=a,cd=d,hd=h,Qy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ES(Jr,function(){return l_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ae.p,ae.p=2,v=Ge,Ge|=4;try{uS(t,i,a)}finally{Ge=v,ae.p=h,K.T=l}}jt=1,r_(),s_(),a_()}}function r_(){if(jt===1){jt=0;var t=Sr,i=Na,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{By(i,t);var d=Id,v=Kp(t.containerInfo),T=d.focusedElem,b=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Gp(T.ownerDocument.documentElement,T)){if(b!==null&&Jh(T)){var U=b.start,Q=b.end;if(Q===void 0&&(Q=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(Q,T.value.length);else{var Z=T.ownerDocument||document,z=Z&&Z.defaultView||window;if(z.getSelection){var j=z.getSelection(),Ee=T.textContent.length,ye=Math.min(b.start,Ee),$e=b.end===void 0?ye:Math.min(b.end,Ee);!j.extend&&ye>$e&&(v=$e,$e=ye,ye=v);var P=Fp(T,ye),N=Fp(T,$e);if(P&&N&&(j.rangeCount!==1||j.anchorNode!==P.node||j.anchorOffset!==P.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var L=Z.createRange();L.setStart(P.node,P.offset),j.removeAllRanges(),ye>$e?(j.addRange(L),j.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),j.addRange(L))}}}}for(Z=[],j=T;j=j.parentNode;)j.nodeType===1&&Z.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var Y=Z[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ic=!!bd,Id=bd=null}finally{Ge=h,ae.p=l,K.T=a}}t.current=i,jt=2}}function s_(){if(jt===2){jt=0;var t=Sr,i=Na,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{ky(t,i.alternate,i)}finally{Ge=h,ae.p=l,K.T=a}}jt=3}}function a_(){if(jt===4||jt===3){jt=0,cu();var t=Sr,i=Na,a=Oa,l=Qy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Na=Sr=null,o_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ar=null),$s(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ae.p,ae.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,ae.p=h}}(Oa&3)!==0&&pc(),oi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===fd?ul++:(ul=0,fd=t):ul=0,cl(0)}}function o_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ho(i)))}function pc(t){return r_(),s_(),a_(),l_()}function l_(){if(jt!==5)return!1;var t=Sr,i=cd;cd=0;var a=$s(Oa),l=K.T,h=ae.p;try{ae.p=32>a?32:a,K.T=null,a=hd,hd=null;var d=Sr,v=Oa;if(jt=0,Na=Sr=null,Oa=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,Gy(d.current),qy(d,d.current,v,a),Ge=T,cl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{ae.p=h,K.T=l,o_(t,i)}}function u_(t,i,a){i=wn(a,i),i=Ff(t.stateNode,i,2),t=dr(t,i,2),t!==null&&(vi(t,2),oi(t))}function We(t,i,a){if(t.tag===3)u_(t,t,a);else for(;i!==null;){if(i.tag===3){u_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ar===null||!Ar.has(l))){t=wn(a,t),a=dy(2),l=dr(i,a,2),l!==null&&(my(a,l,i,t),vi(l,2),oi(l));break}}i=i.return}}function gd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new fS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ad=!0,h.add(a),t=yS.bind(null,t,i,a),i.then(t,t))}function yS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>vn()-ud?(Ge&2)===0&&Va(t,0):od|=a,Da===Le&&(Da=0)),oi(t)}function c_(t,i){i===0&&(i=vo()),t=ma(t,i),t!==null&&(vi(t,i),oi(t))}function _S(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),c_(t,a)}function vS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),c_(t,a)}function ES(t,i){return Wr(t,i)}var gc=null,Pa=null,yd=!1,yc=!1,_d=!1,Vs=0;function oi(t){t!==Pa&&t.next===null&&(Pa===null?gc=Pa=t:Pa=Pa.next=t),yc=!0,yd||(yd=!0,AS())}function cl(t,i){if(!_d&&yc){_d=!0;do for(var a=!1,l=gc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Kt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,m_(l,d))}else d=Le,d=Xs(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||is(l,d)||(a=!0,m_(l,d));l=l.next}while(a);_d=!1}}function TS(){h_()}function h_(){yc=yd=!1;var t=0;Vs!==0&&(NS()&&(t=Vs),Vs=0);for(var i=vn(),a=null,l=gc;l!==null;){var h=l.next,d=f_(l,i);d===0?(l.next=null,a===null?gc=h:a.next=h,h===null&&(Pa=a)):(a=l,(t!==0||(d&3)!==0)&&(yc=!0)),l=h}cl(t)}function f_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Kt(d),T=1<<v,b=h[v];b===-1?((T&a)===0||(T&l)!==0)&&(h[v]=yo(T,i)):b<=i&&(t.expiredLanes|=T),d&=~T}if(i=Je,a=Le,a=Xs(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Zr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||is(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Zr(l),$s(a)){case 2:case 8:a=Qs;break;case 32:a=Jr;break;case 268435456:a=Ys;break;default:a=Jr}return l=d_.bind(null,t),a=Wr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Zr(l),t.callbackPriority=2,t.callbackNode=null,2}function d_(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(pc()&&t.callbackNode!==a)return null;var l=Le;return l=Xs(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Xy(t,l,i),f_(t,vn()),t.callbackNode!=null&&t.callbackNode===a?d_.bind(null,t):null)}function m_(t,i){if(pc())return null;Xy(t,i,!0)}function AS(){VS(function(){(Ge&6)!==0?Wr(po,TS):h_()})}function vd(){return Vs===0&&(Vs=_o()),Vs}function p_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:na(""+t)}function g_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function SS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=p_((h[pt]||null).action),v=l.submitter;v&&(i=(i=v[pt]||null)?p_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ia("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var b=v?g_(h,v):new FormData(h);zf(a,{pending:!0,data:b,method:h.method,action:d},null,b)}}else typeof d=="function"&&(T.preventDefault(),b=v?g_(h,v):new FormData(h),zf(a,{pending:!0,data:b,method:h.method,action:d},d,b))},currentTarget:h}]})}}for(var Ed=0;Ed<rf.length;Ed++){var Td=rf[Ed],RS=Td.toLowerCase(),wS=Td[0].toUpperCase()+Td.slice(1);Ln(RS,"on"+wS)}Ln(Xp,"onAnimationEnd"),Ln($p,"onAnimationIteration"),Ln(Wp,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(qA,"onTransitionRun"),Ln(HA,"onTransitionStart"),Ln(FA,"onTransitionCancel"),Ln(Zp,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function y_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],b=T.instance,U=T.currentTarget;if(T=T.listener,b!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(Q){rc(Q)}h.currentTarget=null,d=b}else for(v=0;v<l.length;v++){if(T=l[v],b=T.instance,U=T.currentTarget,T=T.listener,b!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(Q){rc(Q)}h.currentTarget=null,d=b}}}}function Ne(t,i){var a=i[Ao];a===void 0&&(a=i[Ao]=new Set);var l=t+"__bubble";a.has(l)||(__(i,t,2,!1),a.add(l))}function Ad(t,i,a){var l=0;i&&(l|=4),__(a,t,l,i)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Sd(t){if(!t[_c]){t[_c]=!0,So.forEach(function(a){a!=="selectionchange"&&(bS.has(a)||Ad(a,!1,t),Ad(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[_c]||(i[_c]=!0,Ad("selectionchange",!1,i))}}function __(t,i,a,l){switch(q_(i)){case 2:var h=JS;break;case 8:h=eR;break;default:h=Ld}a=h.bind(null,i,a,t),h=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Rd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ei(T),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Eu(function(){var U=d,Q=An(a),Z=[];e:{var z=Jp.get(t);if(z!==void 0){var j=ia,Ee=t;switch(t){case"keypress":if(Zn(a)===0)break e;case"keydown":case"keyup":j=ua;break;case"focusin":Ee="focus",j=aa;break;case"focusout":Ee="blur",j=aa;break;case"beforeblur":case"afterblur":j=aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Cu;break;case Xp:case $p:case Wp:j=oa;break;case Zp:j=Nu;break;case"scroll":case"scrollend":j=Tu;break;case"wheel":j=ca;break;case"copy":case"cut":case"paste":j=la;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=xo;break;case"toggle":case"beforetoggle":j=Vu}var ye=(i&4)!==0,$e=!ye&&(t==="scroll"||t==="scrollend"),P=ye?z!==null?z+"Capture":null:z;ye=[];for(var N=U,L;N!==null;){var Y=N;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||P===null||(Y=hs(N,P),Y!=null&&ye.push(fl(N,Y,L))),$e)break;N=N.return}0<ye.length&&(z=new j(z,Ee,null,a,Q),Z.push({event:z,listeners:ye}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",z&&a!==Ri&&(Ee=a.relatedTarget||a.fromElement)&&(Ei(Ee)||Ee[En]))break e;if((j||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,j?(Ee=a.relatedTarget||a.toElement,j=U,Ee=Ee?Ei(Ee):null,Ee!==null&&($e=u(Ee),ye=Ee.tag,Ee!==$e||ye!==5&&ye!==27&&ye!==6)&&(Ee=null)):(j=null,Ee=U),j!==Ee)){if(ye=Rn,Y="onMouseLeave",P="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ye=xo,Y="onPointerLeave",P="onPointerEnter",N="pointer"),$e=j==null?z:Yn(j),L=Ee==null?z:Yn(Ee),z=new ye(Y,N+"leave",j,a,Q),z.target=$e,z.relatedTarget=L,Y=null,Ei(Q)===U&&(ye=new ye(P,N+"enter",Ee,a,Q),ye.target=L,ye.relatedTarget=$e,Y=ye),$e=Y,j&&Ee)t:{for(ye=j,P=Ee,N=0,L=ye;L;L=xa(L))N++;for(L=0,Y=P;Y;Y=xa(Y))L++;for(;0<N-L;)ye=xa(ye),N--;for(;0<L-N;)P=xa(P),L--;for(;N--;){if(ye===P||P!==null&&ye===P.alternate)break t;ye=xa(ye),P=xa(P)}ye=null}else ye=null;j!==null&&v_(Z,z,j,ye,!1),Ee!==null&&$e!==null&&v_(Z,$e,Ee,ye,!0)}}e:{if(z=U?Yn(U):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var he=Up;else if(bt(z))if(zp)he=zA;else{he=LA;var Ce=kA}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&Co(U.elementType)&&(he=Up):he=UA;if(he&&(he=he(t,U))){Di(Z,he,a,Q);break e}Ce&&Ce(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&lr(z,"number",z.value)}switch(Ce=U?Yn(U):window,t){case"focusin":(bt(Ce)||Ce.contentEditable==="true")&&(ha=Ce,ef=U,Uo=null);break;case"focusout":Uo=ef=ha=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,Qp(Z,a,Q);break;case"selectionchange":if(jA)break;case"keydown":case"keyup":Qp(Z,a,Q)}var fe;if(ti)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else xe?q(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(xe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&xe&&(fe=No()):(Wn=Q,ur="value"in Wn?Wn.value:Wn.textContent,xe=!0)),Ce=vc(U,_e),0<Ce.length&&(_e=new Mo(_e,t,null,a,Q),Z.push({event:_e,listeners:Ce}),fe?_e.data=fe:(fe=re(a),fe!==null&&(_e.data=fe)))),(fe=p?wt(t,a):ke(t,a))&&(_e=vc(U,"onBeforeInput"),0<_e.length&&(Ce=new Mo("onBeforeInput","beforeinput",null,a,Q),Z.push({event:Ce,listeners:_e}),Ce.data=fe)),SS(Z,t,U,a,Q)}y_(Z,i)})}function fl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=hs(t,a),h!=null&&l.unshift(fl(t,h,d)),h=hs(t,i),h!=null&&l.push(fl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function v_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,b=T.alternate,U=T.stateNode;if(T=T.tag,b!==null&&b===l)break;T!==5&&T!==26&&T!==27||U===null||(b=U,h?(U=hs(a,d),U!=null&&v.unshift(fl(a,U,b))):h||(U=hs(a,d),U!=null&&v.push(fl(a,U,b)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var IS=/\r\n?/g,CS=/\u0000|\uFFFD/g;function E_(t){return(typeof t=="string"?t:""+t).replace(IS,`
`).replace(CS,"")}function T_(t,i){return i=E_(i),E_(t)===i}function Ec(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Tn(t,""+l);break;case"className":Xn(t,"class",l);break;case"tabIndex":Xn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(t,a,l);break;case"style":Io(t,l,d);break;case"data":if(i!=="object"){Xn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=na(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=na(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ec);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),or(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":or(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qh.get(a)||a,or(t,a,l))}}function wd(t,i,a,l,h,d){switch(a){case"style":Io(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ws.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):or(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,v,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var T=d=v=h=null,b=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":b=Q;break;case"defaultChecked":U=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Xe(t,i,l,Q,a,null)}}ls(t,d,T,b,U,v,h,!1),ta(t);return;case"select":Ne("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xe(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Si(t,!!l,i,!1):a!=null&&Si(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(t,i,v,T,a,null)}us(t,l,h,d),ta(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,b,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<hl.length;l++)Ne(hl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,U,l,a,null)}return;default:if(Co(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&wd(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(t,i,T,l,a,null))}function DS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,b=null,U=null,Q=null;for(j in a){var Z=a[j];if(a.hasOwnProperty(j)&&Z!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":b=Z;default:l.hasOwnProperty(j)||Xe(t,i,j,null,l,Z)}}for(var z in l){var j=l[z];if(Z=a[z],l.hasOwnProperty(z)&&(j!=null||Z!=null))switch(z){case"type":d=j;break;case"name":h=j;break;case"checked":U=j;break;case"defaultChecked":Q=j;break;case"value":v=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:j!==Z&&Xe(t,i,z,j,l,Z)}}un(t,v,T,b,U,Q,d,h);return;case"select":j=v=T=z=null;for(d in a)if(b=a[d],a.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":j=b;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,b)}for(h in l)if(d=l[h],b=a[h],l.hasOwnProperty(h)&&(d!=null||b!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==b&&Xe(t,i,h,d,l,b)}i=T,a=v,l=j,z!=null?Si(t,!!a,z,!1):!!l!=!!a&&(i!=null?Si(t,!!a,i,!0):Si(t,!!a,a?[]:"",!1));return;case"textarea":j=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,i,v,h,l,d)}Qe(t,z,j);return;case"option":for(var Ee in a)if(z=a[Ee],a.hasOwnProperty(Ee)&&z!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Xe(t,i,Ee,null,l,z)}for(b in l)if(z=l[b],j=a[b],l.hasOwnProperty(b)&&z!==j&&(z!=null||j!=null))switch(b){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xe(t,i,b,z,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)z=a[ye],a.hasOwnProperty(ye)&&z!=null&&!l.hasOwnProperty(ye)&&Xe(t,i,ye,null,l,z);for(U in l)if(z=l[U],j=a[U],l.hasOwnProperty(U)&&z!==j&&(z!=null||j!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Xe(t,i,U,z,l,j)}return;default:if(Co(i)){for(var $e in a)z=a[$e],a.hasOwnProperty($e)&&z!==void 0&&!l.hasOwnProperty($e)&&wd(t,i,$e,void 0,l,z);for(Q in l)z=l[Q],j=a[Q],!l.hasOwnProperty(Q)||z===j||z===void 0&&j===void 0||wd(t,i,Q,z,l,j);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!l.hasOwnProperty(P)&&Xe(t,i,P,null,l,z);for(Z in l)z=l[Z],j=a[Z],!l.hasOwnProperty(Z)||z===j||z==null&&j==null||Xe(t,i,Z,z,l,j)}var bd=null,Id=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function A_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Cd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dd=null;function NS(){var t=window.event;return t&&t.type==="popstate"?t===Dd?!1:(Dd=t,!0):(Dd=null,!1)}var R_=typeof setTimeout=="function"?setTimeout:void 0,OS=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,VS=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(t){return w_.resolve(null).then(t).catch(MS)}:R_;function MS(t){setTimeout(function(){throw t})}function wr(t){return t==="head"}function b_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&dl(v.documentElement),a&2&&dl(v.body),a&4)for(a=v.head,dl(a),v=a.firstChild;v;){var T=v.nextSibling,b=v.nodeName;v[rs]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Tl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Tl(i)}function Nd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nd(a),ar(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function PS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[rs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function xS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function Od(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function kS(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Vd=null;function I_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function C_(t,i,a){switch(i=Tc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function dl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ar(t)}var On=new Map,D_=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=ae.d;ae.d={f:LS,r:US,D:zS,C:BS,L:jS,m:qS,X:FS,S:HS,M:GS};function LS(){var t=qi.f(),i=dc();return t||i}function US(t){var i=Qn(t);i!==null&&i.tag===5&&i.type==="form"?Xg(i):qi.r(t)}var ka=typeof document>"u"?null:document;function N_(t,i,a){var l=ka;if(l&&typeof i=="string"&&i){var h=gt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),D_.has(h)||(D_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),ht(i),l.head.appendChild(i)))}}function zS(t){qi.D(t),N_("dns-prefetch",t,null)}function BS(t,i){qi.C(t,i),N_("preconnect",t,i)}function jS(t,i,a){qi.L(t,i,a);var l=ka;if(l&&t&&i){var h='link[rel="preload"][as="'+gt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gt(a.imageSizes)+'"]')):h+='[href="'+gt(t)+'"]';var d=h;switch(i){case"style":d=La(t);break;case"script":d=Ua(t)}On.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),On.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ml(d))||i==="script"&&l.querySelector(pl(d))||(i=l.createElement("link"),qt(i,"link",t),ht(i),l.head.appendChild(i)))}}function qS(t,i){qi.m(t,i);var a=ka;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ua(t)}if(!On.has(d)&&(t=E({rel:"modulepreload",href:t},i),On.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(d)))return}l=a.createElement("link"),qt(l,"link",t),ht(l),a.head.appendChild(l)}}}function HS(t,i,a){qi.S(t,i,a);var l=ka;if(l&&t){var h=Jt(l).hoistableStyles,d=La(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(ml(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=On.get(d))&&Md(t,a);var b=v=l.createElement("link");ht(b),qt(b,"link",t),b._p=new Promise(function(U,Q){b.onload=U,b.onerror=Q}),b.addEventListener("load",function(){T.loading|=1}),b.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Sc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function FS(t,i){qi.X(t,i);var a=ka;if(a&&t){var l=Jt(a).hoistableScripts,h=Ua(t),d=l.get(h);d||(d=a.querySelector(pl(h)),d||(t=E({src:t,async:!0},i),(i=On.get(h))&&Pd(t,i),d=a.createElement("script"),ht(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function GS(t,i){qi.M(t,i);var a=ka;if(a&&t){var l=Jt(a).hoistableScripts,h=Ua(t),d=l.get(h);d||(d=a.querySelector(pl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=On.get(h))&&Pd(t,i),d=a.createElement("script"),ht(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function O_(t,i,a,l){var h=(h=Te.current)?Ac(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=La(a.href),a=Jt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=La(a.href);var d=Jt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(ml(t)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),d||KS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ua(a),a=Jt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function La(t){return'href="'+gt(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function V_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function KS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),ht(i),t.head.appendChild(i))}function Ua(t){return'[src="'+gt(t)+'"]'}function pl(t){return"script[async]"+t}function M_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+gt(a.href)+'"]');if(l)return i.instance=l,ht(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),qt(l,"style",h),Sc(l,a.precedence,t),i.instance=l;case"stylesheet":h=La(a.href);var d=t.querySelector(ml(h));if(d)return i.state.loading|=4,i.instance=d,ht(d),d;l=V_(a),(h=On.get(h))&&Md(l,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var v=d;return v._p=new Promise(function(T,b){v.onload=T,v.onerror=b}),qt(d,"link",l),i.state.loading|=4,Sc(d,a.precedence,t),i.instance=d;case"script":return d=Ua(a.src),(h=t.querySelector(pl(d)))?(i.instance=h,ht(h),h):(l=a,(h=On.get(d))&&(l=E({},a),Pd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Sc(l,a.precedence,t));return i.instance}function Sc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Rc=null;function P_(t,i,a){if(Rc===null){var l=new Map,h=Rc=new Map;h.set(a,l)}else h=Rc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[rs]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function x_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function QS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function k_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var gl=null;function YS(){}function XS(t,i,a){if(gl===null)throw Error(s(475));var l=gl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=La(a.href),d=t.querySelector(ml(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=wc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ht(d);return}d=t.ownerDocument||t,a=V_(a),(h=On.get(h))&&Md(a,h),d=d.createElement("link"),ht(d);var v=d;v._p=new Promise(function(T,b){v.onload=T,v.onerror=b}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=wc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function $S(){if(gl===null)throw Error(s(475));var t=gl;return t.stylesheets&&t.count===0&&xd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&xd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function wc(){if(this.count--,this.count===0){if(this.stylesheets)xd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function xd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,i.forEach(WS,t),bc=null,wc.call(t))}function WS(t,i){if(!(i.state.loading&4)){var a=bc.get(t);if(a)var l=a.get(null);else{a=new Map,bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=wc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var yl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function ZS(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function L_(t,i,a,l,h,d,v,T,b,U,Q,Z){return t=new ZS(t,i,a,v,T,b,U,Z),i=1,d===!0&&(i|=24),d=hn(3,null,null,i),t.current=d,d.stateNode=t,i=gf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Ef(d),t}function U_(t){return t?(t=pa,t):pa}function z_(t,i,a,l,h,d){h=U_(h),l.context===null?l.context=h:l.pendingContext=h,l=fr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=dr(t,l,i),a!==null&&(gn(a,t,i),Qo(a,t,i))}function B_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function kd(t,i){B_(t,i),(t=t.alternate)&&B_(t,i)}function j_(t){if(t.tag===13){var i=ma(t,67108864);i!==null&&gn(i,t,67108864),kd(t,67108864)}}var Ic=!0;function JS(t,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=2,Ld(t,i,a,l)}finally{ae.p=d,K.T=h}}function eR(t,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=8,Ld(t,i,a,l)}finally{ae.p=d,K.T=h}}function Ld(t,i,a,l){if(Ic){var h=Ud(l);if(h===null)Rd(t,i,l,Cc,a),H_(t,l);else if(nR(h,t,i,a,l))l.stopPropagation();else if(H_(t,l),i&4&&-1<tR.indexOf(t)){for(;h!==null;){var d=Qn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Pn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var b=1<<31-Kt(v);T.entanglements[1]|=b,v&=~b}oi(d),(Ge&6)===0&&(hc=vn()+500,cl(0))}}break;case 13:T=ma(d,2),T!==null&&gn(T,d,2),dc(),kd(d,2)}if(d=Ud(l),d===null&&Rd(t,i,l,Cc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Rd(t,i,l,null,a)}}function Ud(t){return t=An(t),zd(t)}var Cc=null;function zd(t){if(Cc=null,t=Ei(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Cc=t,null}function q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jh()){case po:return 2;case Qs:return 8;case Jr:case qh:return 32;case Ys:return 268435456;default:return 32}default:return 32}}var Bd=!1,br=null,Ir=null,Cr=null,_l=new Map,vl=new Map,Dr=[],tR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(t,i){switch(t){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":_l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function El(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Qn(i),i!==null&&j_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function nR(t,i,a,l,h){switch(i){case"focusin":return br=El(br,t,i,a,l,h),!0;case"dragenter":return Ir=El(Ir,t,i,a,l,h),!0;case"mouseover":return Cr=El(Cr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return _l.set(d,El(_l.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,vl.set(d,El(vl.get(d)||null,t,i,a,l,h)),!0}return!1}function F_(t){var i=Ei(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,du(t.priority,function(){if(a.tag===13){var l=pn();l=ir(l);var h=ma(a,l);h!==null&&gn(h,a,l),kd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ud(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ri=l,a.target.dispatchEvent(l),Ri=null}else return i=Qn(a),i!==null&&j_(i),t.blockedOn=a,!1;i.shift()}return!0}function G_(t,i,a){Dc(t)&&a.delete(i)}function iR(){Bd=!1,br!==null&&Dc(br)&&(br=null),Ir!==null&&Dc(Ir)&&(Ir=null),Cr!==null&&Dc(Cr)&&(Cr=null),_l.forEach(G_),vl.forEach(G_)}function Nc(t,i){t.blockedOn===i&&(t.blockedOn=null,Bd||(Bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,iR)))}var Oc=null;function K_(t){Oc!==t&&(Oc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(zd(l||a)===null)continue;break}var d=Qn(a);d!==null&&(t.splice(i,3),i-=3,zf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Tl(t){function i(b){return Nc(b,t)}br!==null&&Nc(br,t),Ir!==null&&Nc(Ir,t),Cr!==null&&Nc(Cr,t),_l.forEach(i),vl.forEach(i);for(var a=0;a<Dr.length;a++){var l=Dr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Dr.length&&(a=Dr[0],a.blockedOn===null);)F_(a),a.blockedOn===null&&Dr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[pt]||null;if(typeof d=="function")v||K_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pt]||null)T=v.formAction;else if(zd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),K_(a)}}}function jd(t){this._internalRoot=t}Vc.prototype.render=jd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=pn();z_(a,l,t,i,null,null)},Vc.prototype.unmount=jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;z_(t.current,2,null,t,null,null),dc(),i[En]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var i=rr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Dr.length&&i!==0&&i<Dr[a].priority;a++);Dr.splice(a,0,t),a===0&&F_(t)}};var Q_=e.version;if(Q_!=="19.1.1")throw Error(s(527,Q_,"19.1.1"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var rR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{lt=Mc.inject(rR),Fe=Mc}catch{}}return Sl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=uy,d=cy,v=hy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=L_(t,1,!1,null,null,a,l,h,d,v,T,null),t[En]=i.current,Sd(t),new jd(i)},Sl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=uy,v=cy,T=hy,b=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),i=L_(t,1,!0,i,a??null,l,h,d,v,T,b,U),i.context=U_(null),a=i.current,l=pn(),l=ir(l),h=fr(l),h.callback=null,dr(a,h,l),a=l,i.current.lanes=a,vi(i,a),oi(i),t[En]=i.current,Sd(t),new Vc(i)},Sl.version="19.1.1",Sl}var iv;function pR(){if(iv)return Fd.exports;iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fd.exports=mR(),Fd.exports}var gR=pR();const yR=aR(gR);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rv="popstate";function _R(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return dm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:zl(o)}return ER(e,n,null,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function di(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vR(){return Math.random().toString(36).substring(2,10)}function sv(r,e){return{usr:r.state,key:r.key,idx:e}}function dm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?io(e):e,state:n,key:e&&e.key||s||vR()}}function zl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function io(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function ER(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let F=E(),G=F==null?null:F-y;y=F,g&&g({action:m,location:$.location,delta:G})}function R(F,G){m="PUSH";let se=dm($.location,F,G);y=E()+1;let ie=sv(se,y),Re=$.createHref(se);try{f.pushState(ie,"",Re)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(Re)}u&&g&&g({action:m,location:$.location,delta:1})}function B(F,G){m="REPLACE";let se=dm($.location,F,G);y=E();let ie=sv(se,y),Re=$.createHref(se);f.replaceState(ie,"",Re),u&&g&&g({action:m,location:$.location,delta:0})}function H(F){return TR(F)}let $={get action(){return m},get location(){return r(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(rv,S),g=F,()=>{o.removeEventListener(rv,S),g=null}},createHref(F){return e(o,F)},createURL:H,encodeLocation(F){let G=H(F);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:R,replace:B,go(F){return f.go(F)}};return $}function TR(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:zl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function FE(r,e,n="/"){return AR(r,e,n,!1)}function AR(r,e,n,s){let o=typeof e=="string"?io(e):e,u=Yi(o.pathname||"/",n);if(u==null)return null;let f=GE(r);SR(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=PR(u);m=VR(f[g],y,s)}return m}function GE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(st(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Gi([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),GE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:NR(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of KE(u.path))o(u,f,m)}),e}function KE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=KE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function SR(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:OR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var RR=/^:[\w-]+$/,wR=3,bR=2,IR=1,CR=10,DR=-2,av=r=>r==="*";function NR(r,e){let n=r.split("/"),s=n.length;return n.some(av)&&(s+=DR),e&&(s+=bR),n.filter(o=>!av(o)).reduce((o,u)=>o+(RR.test(u)?wR:u===""?IR:CR),s)}function OR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function VR(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),R=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Gi([u,S.pathname]),pathnameBase:UR(Gi([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=Gi([u,S.pathnameBase]))}return f}function eh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=MR(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},R)=>{if(E==="*"){let H=m[R]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const B=m[R];return S&&!B?y[E]=void 0:y[E]=(B||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function MR(r,e=!1,n=!0){di(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function PR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return di(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Yi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function xR(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?io(r):r;return{pathname:n?n.startsWith("/")?n:kR(n,e):e,search:zR(s),hash:BR(o)}}function kR(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Yd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LR(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function QE(r){let e=LR(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function YE(r,e,n,s=!1){let o;typeof r=="string"?o=io(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),Yd("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Yd("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Yd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?e[S]:"/"}let g=xR(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Gi=r=>r.join("/").replace(/\/\/+/g,"/"),UR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),zR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,BR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function jR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var XE=["POST","PUT","PATCH","DELETE"];new Set(XE);var qR=["GET",...XE];new Set(qR);var ro=X.createContext(null);ro.displayName="DataRouter";var Eh=X.createContext(null);Eh.displayName="DataRouterState";X.createContext(!1);var $E=X.createContext({isTransitioning:!1});$E.displayName="ViewTransition";var HR=X.createContext(new Map);HR.displayName="Fetchers";var FR=X.createContext(null);FR.displayName="Await";var pi=X.createContext(null);pi.displayName="Navigation";var $l=X.createContext(null);$l.displayName="Location";var er=X.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var jm=X.createContext(null);jm.displayName="RouteError";function GR(r,{relative:e}={}){st(Wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=X.useContext(pi),{hash:o,pathname:u,search:f}=Zl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Gi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Wl(){return X.useContext($l)!=null}function qs(){return st(Wl(),"useLocation() may be used only in the context of a <Router> component."),X.useContext($l).location}var WE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZE(r){X.useContext(pi).static||X.useLayoutEffect(r)}function JE(){let{isDataRoute:r}=X.useContext(er);return r?rw():KR()}function KR(){st(Wl(),"useNavigate() may be used only in the context of a <Router> component.");let r=X.useContext(ro),{basename:e,navigator:n}=X.useContext(pi),{matches:s}=X.useContext(er),{pathname:o}=qs(),u=JSON.stringify(QE(s)),f=X.useRef(!1);return ZE(()=>{f.current=!0}),X.useCallback((g,y={})=>{if(di(f.current,WE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=YE(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Gi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}X.createContext(null);function Zl(r,{relative:e}={}){let{matches:n}=X.useContext(er),{pathname:s}=qs(),o=JSON.stringify(QE(n));return X.useMemo(()=>YE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function QR(r,e){return eT(r,e)}function eT(r,e,n,s){st(Wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=X.useContext(pi),{matches:u}=X.useContext(er),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let G=E&&E.path||"";tT(g,!E||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let S=qs(),R;if(e){let G=typeof e=="string"?io(e):e;st(y==="/"||G.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),R=G}else R=S;let B=R.pathname||"/",H=B;if(y!=="/"){let G=y.replace(/^\//,"").split("/");H="/"+B.replace(/^\//,"").split("/").slice(G.length).join("/")}let $=FE(r,{pathname:H});di(E||$!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),di($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=ZR($&&$.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:Gi([y,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:Gi([y,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,n,s);return e&&F?X.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},F):F}function YR(){let r=iw(),e=jR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=X.createElement(X.Fragment,null,X.createElement("p",null,"💿 Hey developer 👋"),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:u},"ErrorBoundary")," or"," ",X.createElement("code",{style:u},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:o},n):null,f)}var XR=X.createElement(YR,null),$R=class extends X.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?X.createElement(er.Provider,{value:this.props.routeContext},X.createElement(jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WR({routeContext:r,match:e,children:n}){let s=X.useContext(ro);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(er.Provider,{value:r},n)}function ZR(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);st(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:S}=n,R=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let S,R=!1,B=null,H=null;n&&(S=u&&y.route.id?u[y.route.id]:void 0,B=y.route.errorElement||XR,f&&(m<0&&E===0?(tT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,H=null):m===E&&(R=!0,H=y.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),F=()=>{let G;return S?G=B:R?G=H:y.route.Component?G=X.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=g,X.createElement(WR,{match:y,routeContext:{outlet:g,matches:$,isDataRoute:n!=null},children:G})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?X.createElement($R,{location:n.location,revalidation:n.revalidation,component:B,error:S,children:F(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):F()},null)}function qm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JR(r){let e=X.useContext(ro);return st(e,qm(r)),e}function ew(r){let e=X.useContext(Eh);return st(e,qm(r)),e}function tw(r){let e=X.useContext(er);return st(e,qm(r)),e}function Hm(r){let e=tw(r),n=e.matches[e.matches.length-1];return st(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function nw(){return Hm("useRouteId")}function iw(){let r=X.useContext(jm),e=ew("useRouteError"),n=Hm("useRouteError");return r!==void 0?r:e.errors?.[n]}function rw(){let{router:r}=JR("useNavigate"),e=Hm("useNavigate"),n=X.useRef(!1);return ZE(()=>{n.current=!0}),X.useCallback(async(o,u={})=>{di(n.current,WE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var ov={};function tT(r,e,n){!e&&!ov[r]&&(ov[r]=!0,di(!1,n))}X.memo(sw);function sw({routes:r,future:e,state:n}){return eT(r,void 0,n,e)}function jc(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!Wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=X.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=io(n));let{pathname:g="/",search:y="",hash:E="",state:S=null,key:R="default"}=n,B=X.useMemo(()=>{let H=Yi(g,f);return H==null?null:{location:{pathname:H,search:y,hash:E,state:S,key:R},navigationType:s}},[f,g,y,E,S,R,s]);return di(B!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:X.createElement(pi.Provider,{value:m},X.createElement($l.Provider,{children:e,value:B}))}function ow({children:r,location:e}){return QR(mm(r),e)}function mm(r,e=[]){let n=[];return X.Children.forEach(r,(s,o)=>{if(!X.isValidElement(s))return;let u=[...e,o];if(s.type===X.Fragment){n.push.apply(n,mm(s.props.children,u));return}st(s.type===jc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=mm(s.props.children,u)),n.push(f)}),n}var qc="get",Hc="application/x-www-form-urlencoded";function Th(r){return r!=null&&typeof r.tagName=="string"}function lw(r){return Th(r)&&r.tagName.toLowerCase()==="button"}function uw(r){return Th(r)&&r.tagName.toLowerCase()==="form"}function cw(r){return Th(r)&&r.tagName.toLowerCase()==="input"}function hw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function fw(r,e){return r.button===0&&(!e||e==="_self")&&!hw(r)}var Pc=null;function dw(){if(Pc===null)try{new FormData(document.createElement("form"),0),Pc=!1}catch{Pc=!0}return Pc}var mw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xd(r){return r!=null&&!mw.has(r)?(di(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):r}function pw(r,e){let n,s,o,u,f;if(uw(r)){let m=r.getAttribute("action");s=m?Yi(m,e):null,n=r.getAttribute("method")||qc,o=Xd(r.getAttribute("enctype"))||Hc,u=new FormData(r)}else if(lw(r)||cw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Yi(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||qc,o=Xd(r.getAttribute("formenctype"))||Xd(m.getAttribute("enctype"))||Hc,u=new FormData(m,r),!dw()){let{name:y,type:E,value:S}=r;if(E==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,S)}}else{if(Th(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qc,s=null,o=Hc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function gw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Yi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function yw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _w(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function vw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await yw(u,n);return f.links?f.links():[]}return[]}));return Sw(s.flat(1).filter(_w).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function lv(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Ew(r,e,{includeHydrateFallback:n}={}){return Tw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Tw(r){return[...new Set(r)]}function Aw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Sw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Aw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function nT(){let r=X.useContext(ro);return Fm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Rw(){let r=X.useContext(Eh);return Fm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Gm=X.createContext(void 0);Gm.displayName="FrameworkContext";function iT(){let r=X.useContext(Gm);return Fm(r,"You must render this element inside a <HydratedRouter> element"),r}function ww(r,e){let n=X.useContext(Gm),[s,o]=X.useState(!1),[u,f]=X.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,R=X.useRef(null);X.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=G=>{G.forEach(se=>{f(se.isIntersecting)})},F=new IntersectionObserver($,{threshold:.5});return R.current&&F.observe(R.current),()=>{F.disconnect()}}},[r]),X.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let B=()=>{o(!0)},H=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Rl(m,B),onBlur:Rl(g,H),onMouseEnter:Rl(y,B),onMouseLeave:Rl(E,H),onTouchStart:Rl(S,B)}]:[!1,R,{}]}function Rl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function bw({page:r,...e}){let{router:n}=nT(),s=X.useMemo(()=>FE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?X.createElement(Cw,{page:r,matches:s,...e}):null}function Iw(r){let{manifest:e,routeModules:n}=iT(),[s,o]=X.useState([]);return X.useEffect(()=>{let u=!1;return vw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Cw({page:r,matches:e,...n}){let s=qs(),{manifest:o,routeModules:u}=iT(),{basename:f}=nT(),{loaderData:m,matches:g}=Rw(),y=X.useMemo(()=>lv(r,e,g,o,s,"data"),[r,e,g,o,s]),E=X.useMemo(()=>lv(r,e,g,o,s,"assets"),[r,e,g,o,s]),S=X.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,$=!1;if(e.forEach(G=>{let se=o.routes[G.route.id];!se||!se.hasLoader||(!y.some(ie=>ie.route.id===G.route.id)&&G.route.id in m&&u[G.route.id]?.shouldRevalidate||se.hasClientLoader?$=!0:H.add(G.route.id))}),H.size===0)return[];let F=gw(r,f,"data");return $&&H.size>0&&F.searchParams.set("_routes",e.filter(G=>H.has(G.route.id)).map(G=>G.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,y,e,r,u]),R=X.useMemo(()=>Ew(E,o),[E,o]),B=Iw(E);return X.createElement(X.Fragment,null,S.map(H=>X.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),R.map(H=>X.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),B.map(({key:H,link:$})=>X.createElement("link",{key:H,...$})))}function Dw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rT&&(window.__reactRouterVersion="7.7.1")}catch{}function Nw({basename:r,children:e,window:n}){let s=X.useRef();s.current==null&&(s.current=_R({window:n,v5Compat:!0}));let o=s.current,[u,f]=X.useState({action:o.action,location:o.location}),m=X.useCallback(g=>{X.startTransition(()=>f(g))},[f]);return X.useLayoutEffect(()=>o.listen(m),[o,m]),X.createElement(aw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var sT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bl=X.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,...R},B){let{basename:H}=X.useContext(pi),$=typeof y=="string"&&sT.test(y),F,G=!1;if(typeof y=="string"&&$&&(F=y,rT))try{let I=new URL(window.location.href),O=y.startsWith("//")?new URL(I.protocol+y):new URL(y),M=Yi(O.pathname,H);O.origin===I.origin&&M!=null?y=M+O.search+O.hash:G=!0}catch{di(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=GR(y,{relative:o}),[ie,Re,de]=ww(s,R),Pe=Pw(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S});function V(I){e&&e(I),I.defaultPrevented||Pe(I)}let w=X.createElement("a",{...R,...de,href:F||se,onClick:G||u?e:V,ref:Dw(B,Re),target:g,"data-discover":!$&&n==="render"?"true":void 0});return ie&&!$?X.createElement(X.Fragment,null,w,X.createElement(bw,{page:se})):w});Bl.displayName="Link";var Ow=X.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=Zl(f,{relative:y.relative}),R=qs(),B=X.useContext(Eh),{navigator:H,basename:$}=X.useContext(pi),F=B!=null&&zw(S)&&m===!0,G=H.encodeLocation?H.encodeLocation(S).pathname:S.pathname,se=R.pathname,ie=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;n||(se=se.toLowerCase(),ie=ie?ie.toLowerCase():null,G=G.toLowerCase()),ie&&$&&(ie=Yi(ie,$)||ie);const Re=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let de=se===G||!o&&se.startsWith(G)&&se.charAt(Re)==="/",Pe=ie!=null&&(ie===G||!o&&ie.startsWith(G)&&ie.charAt(G.length)==="/"),V={isActive:de,isPending:Pe,isTransitioning:F},w=de?e:void 0,I;typeof s=="function"?I=s(V):I=[s,de?"active":null,Pe?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(V):u;return X.createElement(Bl,{...y,"aria-current":w,className:I,ref:E,style:O,to:f,viewTransition:m},typeof g=="function"?g(V):g)});Ow.displayName="NavLink";var Vw=X.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=qc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,...R},B)=>{let H=Lw(),$=Uw(m,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&sT.test(m),se=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let Re=ie.nativeEvent.submitter,de=Re?.getAttribute("formmethod")||f;H(Re||ie.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return X.createElement("form",{ref:B,method:F,action:$,onSubmit:s?g:se,...R,"data-discover":!G&&r==="render"?"true":void 0})});Vw.displayName="Form";function Mw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aT(r){let e=X.useContext(ro);return st(e,Mw(r)),e}function Pw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=JE(),g=qs(),y=Zl(r,{relative:u});return X.useCallback(E=>{if(fw(E,e)){E.preventDefault();let S=n!==void 0?n:zl(g)===zl(y);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,s,e,r,o,u,f])}var xw=0,kw=()=>`__${String(++xw)}__`;function Lw(){let{router:r}=aT("useSubmit"),{basename:e}=X.useContext(pi),n=nw();return X.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=pw(s,e);if(o.navigate===!1){let E=o.fetcherKey||kw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Uw(r,{relative:e}={}){let{basename:n}=X.useContext(pi),s=X.useContext(er);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Zl(r||".",{relative:e})},f=qs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Gi([n,u.pathname])),zl(u)}function zw(r,{relative:e}={}){let n=X.useContext($E);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=aT("useViewTransitionState"),o=Zl(r,{relative:e});if(!n.isTransitioning)return!1;let u=Yi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Yi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return eh(o.pathname,f)!=null||eh(o.pathname,u)!=null}function Bw(){return te.jsxs("div",{className:"user-area",children:[te.jsx("span",{className:"user-name",children:"Guest"}),te.jsx("a",{href:"#",className:"user-link",children:"Log in"}),te.jsx(Bl,{to:"/signup",className:"user-link",children:"Sign up"}),te.jsx("a",{href:"#",className:"user-link logout",style:{display:"none"},children:"Log out"})]})}function jw(){return te.jsxs("header",{children:[te.jsx("h1",{children:"Đồ dùng học sinh - Văn phòng phẩm GHstore"}),te.jsxs("div",{children:[te.jsxs("nav",{children:[te.jsx(Bl,{to:"/",children:"Giới thiệu"}),te.jsx(Bl,{to:"/shop",children:"Mua hàng"})]}),te.jsx("nav",{children:te.jsx(Bw,{})})]})]})}function qw(){return te.jsxs("footer",{className:"footer",children:[te.jsx("p",{children:"© 2025 Đồ dùng học tập - Văn phòng phẩm tại GHstore. All rights reserved."}),te.jsx("p",{children:"Địa chỉ: số 10, Phố Trần Quốc Vượng, Phường Cầu Giấy, TP Hà Nội."}),te.jsx("p",{children:"Mã số thuế: 001084002303, giấy phép kinh doanh số ... "})]})}function Hw(){return te.jsxs("section",{className:"intro-page",children:[te.jsx("h1",{children:"🎒 MỞ BÁN ĐDHS – VPP – GIAO NHANH TẠI CẦU GIẤY 📚"}),te.jsx("p",{children:te.jsx("strong",{children:"Phụ huynh không cần ra nhà sách – Đặt online, giám đốc giao tận nơi!"})}),te.jsxs("p",{children:["Xin chào các bố mẹ!",te.jsx("br",{}),"Mình là Giang-Hiên đang sống tại ",te.jsx("strong",{children:"Cầu Giấy – Hà Nội"}),", hiện đang mở một gian hàng nhỏ chuyên bán ",te.jsx("strong",{children:"đồ dùng học sinh và văn phòng phẩm"}),", đảm bảo:"]}),te.jsxs("ul",{children:[te.jsx("li",{children:"✅ Sản phẩm chính hãng từ Thiên Long, Hồng Hà, Hải Tiến, Deli..."}),te.jsx("li",{children:"✅ Giá rẻ hơn nhà sách do kho mở tại nhà và áp dụng AI so sánh giá."}),te.jsx("li",{children:"✅ Có thiết kế combo – không cần chọn lắt nhắt."}),te.jsx("li",{children:"✅ Tư vấn tận tình – hỗ trợ chọn đồ phù hợp theo tuổi."}),te.jsx("li",{children:"✅ Giao hàng siêu nhanh trong ngày tại phường Cầu Giấy, Nghĩa Đô, Phú Diễn, Từ Liêm, Yên Hòa, Láng."})]}),te.jsx("h2",{children:"📦 Combo bán chạy:"}),te.jsxs("ul",{children:[te.jsxs("li",{children:["🧠 ",te.jsx("strong",{children:"Lớp 1"}),": 10 vở, 2 bút máy, 1 hộp bút, 1 thước, 1 gôm – ",te.jsx("strong",{children:"chỉ 125.000đ"})]}),te.jsxs("li",{children:["📐 ",te.jsx("strong",{children:"Lớp 5"}),": 10 vở, compa, eke, bút bi, máy tính mini – ",te.jsx("strong",{children:"chỉ 155.000đ"})]})]}),te.jsxs("p",{children:["🎁 ",te.jsx("em",{children:"Tặng sticker đáng yêu hoặc gôm nhỏ cho đơn đầu tiên!"})]}),te.jsx("h2",{children:"📲 Liên hệ & Đặt hàng nhanh:"}),te.jsxs("ul",{children:[te.jsxs("li",{children:["🌐 Web: ",te.jsx("strong",{children:"https://gago84.github.io/giangStore"})]}),te.jsxs("li",{children:["📞 Gọi / Zalo: ",te.jsx("strong",{children:"0982 900 985 hoặc 0979 803 029"})]}),te.jsx("li",{children:"🚚 Giám đốc giao tận nhà IPH, CTM, Discovery, A10 Nam Trung Yên..."})]}),te.jsx("h3",{children:"🎉 Ưu đãi khai trương:"}),te.jsxs("p",{children:["Miễn phí ",te.jsx("strong",{children:"giao hàng"})," cho ",te.jsx("strong",{children:"5 đơn đầu tiên mỗi ngày!"})]}),te.jsxs("p",{children:["🧡 Cảm ơn mọi người đã ủng hộ gian hàng nhỏ của em!",te.jsx("br",{}),"Mong được đồng hành cùng các bạn học sinh một năm học thật vui và hiệu quả!"]}),te.jsx("a",{href:"giangStore/shop",children:te.jsx("button",{children:"Mua hàng ngay"})})]})}function Fw({name:r,price:e,image:n}){return te.jsxs("div",{className:"product-card",children:[te.jsx("img",{src:n,alt:r,width:"100"}),te.jsx("h3",{children:r}),te.jsxs("p",{children:[e," đ"]}),te.jsx("button",{children:"Thêm vào giỏ"})]})}const Gw="/giangStore/assets/pen-DqJeoSKC.jpg",Kw="/giangStore/assets/notebook-CUW0LY9V.jpg",Qw=[{id:1,name:"Bút bi Thiên Long",price:3e3,image:Gw},{id:2,name:"Vở Hồng Hà 96 trang",price:8e3,image:Kw}];function Yw(){return te.jsx("div",{className:"product-list",children:Qw.map(r=>te.jsx(Fw,{name:r.name,price:r.price,image:r.image},r.id))})}function Xw(){return te.jsxs("section",{children:[te.jsx("h2",{children:"Danh sách sản phẩm"}),te.jsx(Yw,{})]})}const $w=()=>{};var uv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Ww=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,B=y&63;g||(B=64,f||(R=64)),s.push(n[E],n[S],n[R],n[B])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(oT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Ww(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new Zw;const R=u<<2|m>>4;if(s.push(R),y!==64){const B=m<<4&240|y>>2;if(s.push(B),S!==64){const H=y<<6&192|S;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Zw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jw=function(r){const e=oT(r);return lT.encodeByteArray(e,!0)},th=function(r){return Jw(r).replace(/\./g,"")},uT=function(r){try{return lT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=()=>eb().__FIREBASE_DEFAULTS__,nb=()=>{if(typeof process>"u"||typeof uv>"u")return;const r=uv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ib=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&uT(r[1]);return e&&JSON.parse(e)},Ah=()=>{try{return $w()||tb()||nb()||ib()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cT=r=>Ah()?.emulatorHosts?.[r],rb=r=>{const e=cT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},hT=()=>Ah()?.config,fT=r=>Ah()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[th(JSON.stringify(n)),th(JSON.stringify(f)),""].join(".")}const Nl={};function ob(){const r={prod:[],emulator:[]};for(const e of Object.keys(Nl))Nl[e]?r.emulator.push(e):r.prod.push(e);return r}function lb(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let cv=!1;function mT(r,e){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Nl[r]===e||Nl[r]||cv)return;Nl[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=ob().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,B){R.setAttribute("width","24"),R.setAttribute("id",B),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{cv=!0,f()},R}function E(R,B){R.setAttribute("id",B),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=lb(s),B=n("text"),H=document.getElementById(B)||document.createElement("span"),$=n("learnmore"),F=document.getElementById($)||document.createElement("a"),G=n("preprendIcon"),se=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ie=R.element;m(ie),E(F,$);const Re=y();g(se,G),ie.append(se,H,F,Re),document.body.appendChild(ie)}u?(H.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ub(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function cb(){const r=Ah()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function db(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mb(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function pb(){return!cb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gb(){try{return typeof indexedDB=="object"}catch{return!1}}function yb(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="FirebaseError";class tr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=_b,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?vb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new tr(o,m,s)}}function vb(r,e){return r.replace(Eb,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Eb=/\{\$([^}]+)}/g;function Tb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ks(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(hv(u)&&hv(f)){if(!ks(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function hv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ab(r,e){const n=new Sb(r,e);return n.subscribe.bind(n)}class Sb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Rb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=$d),o.error===void 0&&(o.error=$d),o.complete===void 0&&(o.complete=$d);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rb(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function $d(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(r){return r&&r._delegate?r._delegate:r}class Ls{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new sb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ib(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:bb(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bb(r){return r===Ms?void 0:r}function Ib(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const Db={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Nb=Oe.INFO,Ob={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Vb=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Ob[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Km{constructor(e){this.name=e,this._logLevel=Nb,this._logHandler=Vb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Db[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Mb=(r,e)=>e.some(n=>r instanceof n);let fv,dv;function Pb(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xb(){return dv||(dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,pm=new WeakMap,gT=new WeakMap,Wd=new WeakMap,Qm=new WeakMap;function kb(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Lr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&pT.set(n,r)}).catch(()=>{}),Qm.set(e,r),e}function Lb(r){if(pm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});pm.set(r,e)}let gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||gT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Ub(r){gm=r(gm)}function zb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Zd(this),e,...n);return gT.set(s,e.sort?e.sort():[e]),Lr(s)}:xb().includes(r)?function(...e){return r.apply(Zd(this),e),Lr(pT.get(this))}:function(...e){return Lr(r.apply(Zd(this),e))}}function Bb(r){return typeof r=="function"?zb(r):(r instanceof IDBTransaction&&Lb(r),Mb(r,Pb())?new Proxy(r,gm):r)}function Lr(r){if(r instanceof IDBRequest)return kb(r);if(Wd.has(r))return Wd.get(r);const e=Bb(r);return e!==r&&(Wd.set(r,e),Qm.set(e,r)),e}const Zd=r=>Qm.get(r);function jb(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Lr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Lr(f.result),g.oldVersion,g.newVersion,Lr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const qb=["get","getKey","getAll","getAllKeys","count"],Hb=["put","add","delete","clear"],Jd=new Map;function mv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Hb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qb.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Jd.set(e,u),u}Ub(r=>({...r,get:(e,n,s)=>mv(e,n)||r.get(e,n,s),has:(e,n)=>!!mv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Gb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Gb(r){return r.getComponent()?.type==="VERSION"}const ym="@firebase/app",pv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Km("@firebase/app"),Kb="@firebase/app-compat",Qb="@firebase/analytics-compat",Yb="@firebase/analytics",Xb="@firebase/app-check-compat",$b="@firebase/app-check",Wb="@firebase/auth",Zb="@firebase/auth-compat",Jb="@firebase/database",e1="@firebase/data-connect",t1="@firebase/database-compat",n1="@firebase/functions",i1="@firebase/functions-compat",r1="@firebase/installations",s1="@firebase/installations-compat",a1="@firebase/messaging",o1="@firebase/messaging-compat",l1="@firebase/performance",u1="@firebase/performance-compat",c1="@firebase/remote-config",h1="@firebase/remote-config-compat",f1="@firebase/storage",d1="@firebase/storage-compat",m1="@firebase/firestore",p1="@firebase/ai",g1="@firebase/firestore-compat",y1="firebase",_1="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",v1={[ym]:"fire-core",[Kb]:"fire-core-compat",[Yb]:"fire-analytics",[Qb]:"fire-analytics-compat",[$b]:"fire-app-check",[Xb]:"fire-app-check-compat",[Wb]:"fire-auth",[Zb]:"fire-auth-compat",[Jb]:"fire-rtdb",[e1]:"fire-data-connect",[t1]:"fire-rtdb-compat",[n1]:"fire-fn",[i1]:"fire-fn-compat",[r1]:"fire-iid",[s1]:"fire-iid-compat",[a1]:"fire-fcm",[o1]:"fire-fcm-compat",[l1]:"fire-perf",[u1]:"fire-perf-compat",[c1]:"fire-rc",[h1]:"fire-rc-compat",[f1]:"fire-gcs",[d1]:"fire-gcs-compat",[m1]:"fire-fst",[g1]:"fire-fst-compat",[p1]:"fire-vertex","fire-js":"fire-js",[y1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,E1=new Map,vm=new Map;function gv(r,e){try{r.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Xa(r){const e=r.name;if(vm.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,r);for(const n of nh.values())gv(n,r);for(const n of E1.values())gv(n,r);return!0}function Ym(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new Jl("app","Firebase",T1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=_1;function yT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:_m,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ur.create("bad-app-name",{appName:String(o)});if(n||(n=hT()),!n)throw Ur.create("no-options");const u=nh.get(o);if(u){if(ks(n,u.options)&&ks(s,u.config))return u;throw Ur.create("duplicate-app",{appName:o})}const f=new Cb(o);for(const g of vm.values())f.addComponent(g);const m=new A1(n,s,f);return nh.set(o,m),m}function _T(r=_m){const e=nh.get(r);if(!e&&r===_m&&hT())return yT();if(!e)throw Ur.create("no-app",{appName:r});return e}function zr(r,e,n){let s=v1[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(f.join(" "));return}Xa(new Ls(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="firebase-heartbeat-database",R1=1,jl="firebase-heartbeat-store";let em=null;function vT(){return em||(em=jb(S1,R1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ur.create("idb-open",{originalErrorMessage:r.message})})),em}async function w1(r){try{const n=(await vT()).transaction(jl),s=await n.objectStore(jl).get(ET(r));return await n.done,s}catch(e){if(e instanceof tr)Xi.warn(e.message);else{const n=Ur.create("idb-get",{originalErrorMessage:e?.message});Xi.warn(n.message)}}}async function yv(r,e){try{const s=(await vT()).transaction(jl,"readwrite");await s.objectStore(jl).put(e,ET(r)),await s.done}catch(n){if(n instanceof tr)Xi.warn(n.message);else{const s=Ur.create("idb-set",{originalErrorMessage:n?.message});Xi.warn(s.message)}}}function ET(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=1024,I1=30;class C1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new N1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_v();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>I1){const o=O1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_v(),{heartbeatsToSend:n,unsentEntries:s}=D1(this._heartbeatsCache.heartbeats),o=th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Xi.warn(e),""}}}function _v(){return new Date().toISOString().substring(0,10)}function D1(r,e=b1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),vv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),vv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class N1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gb()?yb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await w1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function vv(r){return th(JSON.stringify({version:2,heartbeats:r})).length}function O1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(r){Xa(new Ls("platform-logger",e=>new Fb(e),"PRIVATE")),Xa(new Ls("heartbeat",e=>new C1(e),"PRIVATE")),zr(ym,pv,r),zr(ym,pv,"esm2020"),zr("fire-js","")}V1("");var M1="firebase",P1="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr(M1,P1,"app");function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x1=TT,AT=new Jl("auth","Firebase",TT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Km("@firebase/auth");function k1(r,...e){ih.logLevel<=Oe.WARN&&ih.warn(`Auth (${oo}): ${r}`,...e)}function Fc(r,...e){ih.logLevel<=Oe.ERROR&&ih.error(`Auth (${oo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(r,...e){throw Xm(r,...e)}function yn(r,...e){return Xm(r,...e)}function ST(r,e,n){const s={...x1(),[e]:n};return new Jl("auth","Firebase",s).create(e,{appName:r.name})}function Br(r){return ST(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return AT.create(r,...e)}function ce(r,e,...n){if(!r)throw Xm(e,...n)}function Hi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Fc(e),new Error(e)}function Wi(r,e){r||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){return typeof self<"u"&&self.location?.href||""}function RT(){return Ev()==="http:"||Ev()==="https:"}function Ev(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RT()||fb()||"connection"in navigator)?navigator.onLine:!0}function U1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=ub()||db()}get(){return L1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(r,e){Wi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j1=new eu(3e4,6e4);function gi(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Fn(r,e,n,s,o={}){return bT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ao({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return hb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&so(r.emulatorConfig.host)&&(y.credentials="include"),wT.fetch()(await IT(r,r.config.apiHost,n,m),y)})}async function bT(r,e,n){r._canInitEmulator=!1;const s={...z1,...e};try{const o=new H1(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw wl(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw wl(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw wl(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw wl(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ST(r,E,y);$i(r,E)}}catch(o){if(o instanceof tr)throw o;$i(r,"network-request-failed",{message:String(o)})}}async function Sh(r,e,n,s,o={}){const u=await Fn(r,e,n,s,o);return"mfaPendingCredential"in u&&$i(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function IT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?$m(r.config,o):`${r.config.apiScheme}://${o}`;return B1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function q1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class H1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(yn(this.auth,"network-request-failed")),j1.get())})}}function wl(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=yn(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(r){return r!==void 0&&r.getResponse!==void 0}function Av(r){return r!==void 0&&r.enterprise!==void 0}class CT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return q1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(r){return(await Fn(r,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function DT(r,e){return Fn(r,"GET","/v2/recaptchaConfig",gi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(r,e){return Fn(r,"POST","/v1/accounts:delete",e)}async function rh(r,e){return Fn(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function K1(r,e=!1){const n=_n(r),s=await n.getIdToken(e),o=Wm(s);ce(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Ol(tm(o.auth_time)),issuedAtTime:Ol(tm(o.iat)),expirationTime:Ol(tm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function tm(r){return Number(r)*1e3}function Wm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const o=uT(n);return o?JSON.parse(o):(Fc("Failed to decode base64 JWT payload"),null)}catch(o){return Fc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Sv(r){const e=Wm(r);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof tr&&Q1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Q1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(r){const e=r.auth,n=await r.getIdToken(),s=await ql(r,rh(e,{idToken:n}));ce(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?NT(o.providerUserInfo):[],f=$1(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function X1(r){const e=_n(r);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $1(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function NT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(r,e){const n=await bT(r,{},async()=>{const s=ao({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await IT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&so(r.emulatorConfig.host)&&(g.credentials="include"),wT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Z1(r,e){return Fn(r,"POST","/v2/accounts:revokeToken",gi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=Sv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await W1(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Fa;return s&&(ce(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ce(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ce(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(r,e){ce(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class jn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Y1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ql(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return K1(this,e)}reload(){return X1(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Br(this.auth));const e=await this.getIdToken();return await ql(this,G1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:B,providerData:H,stsTokenManager:$}=n;ce(S&&$,e,"internal-error");const F=Fa.fromJSON(this.name,$);ce(typeof S=="string",e,"internal-error"),Or(s,e.name),Or(o,e.name),ce(typeof R=="boolean",e,"internal-error"),ce(typeof B=="boolean",e,"internal-error"),Or(u,e.name),Or(f,e.name),Or(m,e.name),Or(g,e.name),Or(y,e.name),Or(E,e.name);const G=new jn({uid:S,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:B,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:y,lastLoginAt:E});return H&&Array.isArray(H)&&(G.providerData=H.map(se=>({...se}))),g&&(G._redirectEventId=g),G}static async _fromIdTokenResponse(e,n,s=!1){const o=new Fa;o.updateFromServerResponse(n);const u=new jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await sh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ce(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?NT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Fa;m.updateFromIdToken(s);const g=new jn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new Map;function Fi(r){Wi(r instanceof Function,"Expected a class definition");let e=Rv.get(r);return e?(Wi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Rv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OT.type="NONE";const wv=OT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ga{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Gc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rh(this.auth,{idToken:e}).catch(()=>{});return n?jn._fromGetAccountInfoResponse(this.auth,n,e):null}return jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ga(Fi(wv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Fi(wv);const f=Gc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const R=await rh(e,{idToken:E}).catch(()=>{});if(!R)break;S=await jn._fromGetAccountInfoResponse(e,R,E)}else S=jn._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ga(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ga(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LT(e))return"Blackberry";if(UT(e))return"Webos";if(MT(e))return"Safari";if((e.includes("chrome/")||PT(e))&&!e.includes("edge/"))return"Chrome";if(kT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function VT(r=Zt()){return/firefox\//i.test(r)}function MT(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PT(r=Zt()){return/crios\//i.test(r)}function xT(r=Zt()){return/iemobile/i.test(r)}function kT(r=Zt()){return/android/i.test(r)}function LT(r=Zt()){return/blackberry/i.test(r)}function UT(r=Zt()){return/webos/i.test(r)}function Zm(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function J1(r=Zt()){return Zm(r)&&!!window.navigator?.standalone}function eI(){return mb()&&document.documentMode===10}function zT(r=Zt()){return Zm(r)||kT(r)||UT(r)||LT(r)||/windows phone/i.test(r)||xT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(r,e=[]){let n;switch(r){case"Browser":n=bv(Zt());break;case"Worker":n=`${bv(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(r,e={}){return Fn(r,"GET","/v2/passwordPolicy",gi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=6;class rI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Iv(this),this.idTokenSubscription=new Iv(this),this.beforeStateQueue=new tI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rh(this,{idToken:e}),s=await jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(Br(this));const n=e?_n(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nI(this),n=new rI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Z1(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&k1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xr(r){return _n(r)}class Iv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ab(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aI(r){tu=r}function Jm(r){return tu.loadJS(r)}function oI(){return tu.recaptchaV2Script}function lI(){return tu.recaptchaEnterpriseScript}function uI(){return tu.gapiScript}function jT(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=500,hI=6e4,xc=1e12;class fI{constructor(e){this.auth=e,this.counter=xc,this._widgets=new Map}render(e,n){const s=this.counter;return this._widgets.set(s,new pI(e,this.auth.name,n||{})),this.counter++,s}reset(e){const n=e||xc;this._widgets.get(n)?.delete(),this._widgets.delete(n)}getResponse(e){const n=e||xc;return this._widgets.get(n)?.getResponse()||""}async execute(e){const n=e||xc;return this._widgets.get(n)?.execute(),""}}class dI{constructor(){this.enterprise=new mI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pI{constructor(e,n,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;ce(o,"argument-error",{appName:n}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=gI(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},hI)},cI))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function gI(r){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<r;s++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const yI="recaptcha-enterprise",Vl="NO_RECAPTCHA";class qT{constructor(e){this.type=yI,this.auth=Xr(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{DT(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new CT(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;Av(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(Vl)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Av(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=lI();g.length!==0&&(g+=m),Jm(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function nm(r,e,n,s=!1,o=!1){const u=new qT(r);let f;if(o)f=Vl;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function im(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const u=await nm(r,e,n);return s(r,u).catch(async f=>{if(r._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const m=await nm(r,e,n,!1,!0);return s(r,m)}return Promise.reject(f)})}else{const u=await nm(r,e,n,!1,!0);return s(r,u)}}async function _I(r){const e=Xr(r),n=await DT(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new CT(n);e.tenantId==null?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,s.isAnyProviderEnabled()&&new qT(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(r,e){const n=Ym(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ks(u,e??{}))return o;$i(o,"already-initialized")}return n.initialize({options:e})}function EI(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Fi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function TI(r,e,n){const s=Xr(r);ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=HT(e),{host:f,port:m}=AI(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ce(ks(y,s.config.emulator)&&ks(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,so(f)?(dT(`${u}//${f}${g}`),mT("Auth",!0)):SI()}function HT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function AI(r){const e=HT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Cv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Cv(f)}}}function Cv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function SI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,n){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(r,e){return Sh(r,"POST","/v1/accounts:signInWithIdp",gi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="http://localhost";class Us extends ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Us(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ka(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ka(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ka(e,n)}buildRequest(){const e={requestUri:RI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ao(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dv(r,e){return Fn(r,"POST","/v1/accounts:sendVerificationCode",gi(r,e))}async function wI(r,e){return Sh(r,"POST","/v1/accounts:signInWithPhoneNumber",gi(r,e))}async function bI(r,e){const n=await Sh(r,"POST","/v1/accounts:signInWithPhoneNumber",gi(r,e));if(n.temporaryProof)throw wl(r,"account-exists-with-different-credential",n);return n}const II={USER_NOT_FOUND:"user-not-found"};async function CI(r,e){const n={...e,operation:"REAUTH"};return Sh(r,"POST","/v1/accounts:signInWithPhoneNumber",gi(r,n),II)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends ep{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Ml({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Ml({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return wI(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return bI(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return CI(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:s,verificationCode:o}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:s,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:s,phoneNumber:o,temporaryProof:u}=e;return!s&&!n&&!o&&!u?null:new Ml({verificationId:n,verificationCode:s,phoneNumber:o,temporaryProof:u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends FT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends nu{constructor(){super("facebook.com")}static credential(e){return Us._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Us._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Mr.credential(n,s)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends nu{constructor(){super("github.com")}static credential(e){return Us._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends nu{constructor(){super("twitter.com")}static credential(e,n){return Us._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return xr.credential(n,s)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await jn._fromIdTokenResponse(e,s,o),f=Nv(s);return new $a({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Nv(s);return new $a({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Nv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends tr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ah(e,n,s,o)}}function GT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(r,u,e,s):u})}async function DI(r,e,n=!1){const s=await ql(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return $a._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(r,e,n=!1){const{auth:s}=r;if(Bn(s.app))return Promise.reject(Br(s));const o="reauthenticate";try{const u=await ql(r,GT(s,o,e,r),n);ce(u.idToken,s,"internal-error");const f=Wm(u.idToken);ce(f,s,"internal-error");const{sub:m}=f;return ce(r.uid===m,s,"user-mismatch"),$a._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&$i(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KT(r,e,n=!1){if(Bn(r.app))return Promise.reject(Br(r));const s="signIn",o=await GT(r,s,e),u=await $a._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function OI(r,e){return KT(Xr(r),e)}function VI(r,e,n,s){return _n(r).onIdTokenChanged(e,n,s)}function MI(r,e,n){return _n(r).beforeAuthStateChanged(e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(r,e){return Fn(r,"POST","/v2/accounts/mfaEnrollment:start",gi(r,e))}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=1e3,xI=10;class YT extends QT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);eI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,xI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},PI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YT.type="LOCAL";const kI=YT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends QT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XT.type="SESSION";const $T=XT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Rh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await LI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=tp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return window}function zI(r){Et().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(){return typeof Et().WorkerGlobalScope<"u"&&typeof Et().importScripts=="function"}async function BI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jI(){return navigator?.serviceWorker?.controller||null}function qI(){return np()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebaseLocalStorageDb",HI=1,lh="firebaseLocalStorage",ZT="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wh(r,e){return r.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function FI(){const r=indexedDB.deleteDatabase(WT);return new iu(r).toPromise()}function Am(){const r=indexedDB.open(WT,HI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(lh,{keyPath:ZT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(lh)?e(s):(s.close(),await FI(),e(await Am()))})})}async function Vv(r,e,n){const s=wh(r,!0).put({[ZT]:e,value:n});return new iu(s).toPromise()}async function GI(r,e){const n=wh(r,!1).get(e),s=await new iu(n).toPromise();return s===void 0?null:s.value}function Mv(r,e){const n=wh(r,!0).delete(e);return new iu(n).toPromise()}const KI=800,QI=3;class JT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>QI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return np()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(qI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BI(),!this.activeServiceWorker)return;this.sender=new UI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await Vv(e,oh,"1"),await Mv(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Vv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>GI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=wh(o,!1).getAll();return new iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JT.type="LOCAL";const YI=JT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(r,e){return Fn(r,"POST","/v2/accounts/mfaSignIn:start",gi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=jT("rcb"),XI=new eu(3e4,6e4);class $I{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Et().grecaptcha?.render}load(e,n=""){return ce(WI(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Tv(Et().grecaptcha)?Promise.resolve(Et().grecaptcha):new Promise((s,o)=>{const u=Et().setTimeout(()=>{o(yn(e,"network-request-failed"))},XI.get());Et()[rm]=()=>{Et().clearTimeout(u),delete Et()[rm];const m=Et().grecaptcha;if(!m||!Tv(m)){o(yn(e,"internal-error"));return}const g=m.render;m.render=(y,E)=>{const S=g(y,E);return this.counter++,S},this.hostLanguage=n,s(m)};const f=`${oI()}?${ao({onload:rm,render:"explicit",hl:n})}`;Jm(f).catch(()=>{clearTimeout(u),o(yn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Et().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function WI(r){return r.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(r)}class ZI{async load(e){return new fI(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="recaptcha",JI={theme:"light",type:"image"};class eC{constructor(e,n,s={...JI}){this.parameters=s,this.type=Pl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xr(e),this.isInvisible=this.parameters.size==="invisible",ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof n=="string"?document.getElementById(n):n;ce(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ZI:new $I,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),s=n.getResponse(e);return s||new Promise(o=>{const u=f=>{f&&(this.tokenChangeListeners.delete(u),o(f))};this.tokenChangeListeners.add(u),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(s=>s(n)),typeof e=="function")e(n);else if(typeof e=="string"){const s=Et()[e];typeof s=="function"&&s(n)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ce(RT()&&!np(),this.auth,"internal-error"),await tC(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await F1(this.auth);ce(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function tC(){let r=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}r=()=>e(),window.addEventListener("load",r)}).catch(e=>{throw r&&window.removeEventListener("load",r),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Ml._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function iC(r,e,n){if(Bn(r.app))return Promise.reject(Br(r));const s=Xr(r),o=await rC(s,e,_n(n));return new nC(o,u=>OI(s,u))}async function rC(r,e,n){if(!r._getRecaptchaConfig())try{await _I(r)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s){ce(o.type==="enroll",r,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await im(r,u,"mfaSmsEnrollment",async(y,E)=>{if(E.phoneEnrollmentInfo.captchaResponse===Vl){ce(n?.type===Pl,y,"argument-error");const S=await sm(y,E,n);return Ov(y,S)}return Ov(y,E)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneSessionInfo.sessionInfo}else{ce(o.type==="signin",r,"internal-error");const u=s.multiFactorHint?.uid||s.multiFactorUid;ce(u,r,"missing-multi-factor-info");const f={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await im(r,f,"mfaSmsSignIn",async(E,S)=>{if(S.phoneSignInInfo.captchaResponse===Vl){ce(n?.type===Pl,E,"argument-error");const R=await sm(E,S,n);return Pv(E,R)}return Pv(E,S)},"PHONE_PROVIDER").catch(E=>Promise.reject(E))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await im(r,o,"sendVerificationCode",async(g,y)=>{if(y.captchaResponse===Vl){ce(n?.type===Pl,g,"argument-error");const E=await sm(g,y,n);return Dv(g,E)}return Dv(g,y)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).sessionInfo}}finally{n?._reset()}}async function sm(r,e,n){ce(n.type===Pl,r,"argument-error");const s=await n.verify();ce(typeof s=="string",r,"argument-error");const o={...e};if("phoneEnrollmentInfo"in o){const u=o.phoneEnrollmentInfo.phoneNumber,f=o.phoneEnrollmentInfo.captchaResponse,m=o.phoneEnrollmentInfo.clientType,g=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:s,captchaResponse:f,clientType:m,recaptchaVersion:g}}),o}else if("phoneSignInInfo"in o){const u=o.phoneSignInInfo.captchaResponse,f=o.phoneSignInInfo.clientType,m=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:u,clientType:f,recaptchaVersion:m}}),o}else return Object.assign(o,{recaptchaToken:s}),o}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(r,e){return e?Fi(e):(ce(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ka(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ka(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aC(r){return KT(r.auth,new ip(r),r.bypassAuthState)}function oC(r){const{auth:e,user:n}=r;return ce(n,e,"internal-error"),NI(n,new ip(r),r.bypassAuthState)}async function lC(r){const{auth:e,user:n}=r;return ce(n,e,"internal-error"),DI(n,new ip(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aC;case"linkViaPopup":case"linkViaRedirect":return lC;case"reauthViaPopup":case"reauthViaRedirect":return oC;default:$i(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new eu(2e3,1e4);class Ha extends e0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uC.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="pendingRedirect",Kc=new Map;class hC extends e0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const s=await fC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fC(r,e){const n=pC(e),s=mC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function dC(r,e){Kc.set(r._key(),e)}function mC(r){return Fi(r._redirectPersistence)}function pC(r){return Gc(cC,r.config.apiKey,r.name)}async function gC(r,e,n=!1){if(Bn(r.app))return Promise.reject(Br(r));const s=Xr(r),o=sC(s,e),f=await new hC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=600*1e3;class _C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!t0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(yn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yC&&this.cachedEventUids.clear(),this.cachedEventUids.has(xv(e))}saveEventToCache(e){this.cachedEventUids.add(xv(e)),this.lastProcessedEventTime=Date.now()}}function xv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function t0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function vC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(r,e={}){return Fn(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AC=/^https?/;async function SC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await EC(r);for(const n of e)try{if(RC(n))return}catch{}$i(r,"unauthorized-domain")}function RC(r){const e=Em(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!AC.test(n))return!1;if(TC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new eu(3e4,6e4);function kv(){const r=Et().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function bC(r){return new Promise((e,n)=>{function s(){kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kv(),n(yn(r,"network-request-failed"))},timeout:wC.get()})}if(Et().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Et().gapi?.load)s();else{const o=jT("iframefcb");return Et()[o]=()=>{gapi.load?s():n(yn(r,"network-request-failed"))},Jm(`${uI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function IC(r){return Qc=Qc||bC(r),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new eu(5e3,15e3),DC="__/auth/iframe",NC="emulator/auth/iframe",OC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MC(r){const e=r.config;ce(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?$m(e,NC):`https://${r.config.authDomain}/${DC}`,s={apiKey:e.apiKey,appName:r.name,v:oo},o=VC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ao(s).slice(1)}`}async function PC(r){const e=await IC(r),n=Et().gapi;return ce(n,r,"internal-error"),e.open({where:document.body,url:MC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=yn(r,"network-request-failed"),m=Et().setTimeout(()=>{u(f)},CC.get());function g(){Et().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kC=500,LC=600,UC="_blank",zC="http://localhost";class Lv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BC(r,e,n,s=kC,o=LC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...xC,width:s.toString(),height:o.toString(),top:u,left:f},y=Zt().toLowerCase();n&&(m=PT(y)?UC:n),VT(y)&&(e=e||zC,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[B,H])=>`${R}${B}=${H},`,"");if(J1(y)&&m!=="_self")return jC(e||"",m),new Lv(null);const S=window.open(e||"",m,E);ce(S,r,"popup-blocked");try{S.focus()}catch{}return new Lv(S)}function jC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="__/auth/handler",HC="emulator/auth/handler",FC=encodeURIComponent("fac");async function Uv(r,e,n,s,o,u){ce(r.config.authDomain,r,"auth-domain-config-required"),ce(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:oo,eventId:o};if(e instanceof FT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Tb(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof nu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${FC}=${encodeURIComponent(g)}`:"";return`${GC(r)}?${ao(m).slice(1)}${y}`}function GC({config:r}){return r.emulator?$m(r,HC):`https://${r.authDomain}/${qC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class KC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$T,this._completeRedirectFn=gC,this._overrideRedirectResult=dC}async _openPopup(e,n,s,o){Wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Uv(e,n,s,Em(),o);return BC(e,u,tp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Uv(e,n,s,Em(),o);return zI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Wi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await PC(e),s=new _C(e);return n.register("authEvent",o=>(ce(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(am,{type:am},o=>{const u=o?.[0]?.[am];u!==void 0&&n(!!u),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zT()||MT()||Zm()}}const QC=KC;var zv="@firebase/auth",Bv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $C(r){Xa(new Ls("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ce(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BT(r)},y=new sI(s,o,u,g);return EI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Xa(new Ls("auth-internal",e=>{const n=Xr(e.getProvider("auth").getImmediate());return(s=>new YC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(zv,Bv,XC(r)),zr(zv,Bv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=300,ZC=fT("authIdTokenMaxAge")||WC;let jv=null;const JC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZC)return;const o=n?.token;jv!==o&&(jv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function e2(r=_T()){const e=Ym(r,"auth");if(e.isInitialized())return e.getImmediate();const n=vI(r,{popupRedirectResolver:QC,persistence:[YI,kI,$T]}),s=fT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=JC(u.toString());MI(n,f,()=>f(n.currentUser)),VI(n,m=>f(m))}}const o=cT("auth");return o&&TI(n,`http://${o}`),n}function t2(){return document.getElementsByTagName("head")?.[0]??document}aI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=yn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",t2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$C("Browser");var qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jr,n0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,w){function I(){}I.prototype=w.prototype,V.D=w.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(O,M,x){for(var C=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)C[Lt-2]=arguments[Lt];return w.prototype[M].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,w,I){I||(I=0);var O=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)O[M]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(M=0;16>M;++M)O[M]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=V.g[0],I=V.g[1],M=V.g[2];var x=V.g[3],C=w+(x^I&(M^x))+O[0]+3614090360&4294967295;w=I+(C<<7&4294967295|C>>>25),C=x+(M^w&(I^M))+O[1]+3905402710&4294967295,x=w+(C<<12&4294967295|C>>>20),C=M+(I^x&(w^I))+O[2]+606105819&4294967295,M=x+(C<<17&4294967295|C>>>15),C=I+(w^M&(x^w))+O[3]+3250441966&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(x^I&(M^x))+O[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=x+(M^w&(I^M))+O[5]+1200080426&4294967295,x=w+(C<<12&4294967295|C>>>20),C=M+(I^x&(w^I))+O[6]+2821735955&4294967295,M=x+(C<<17&4294967295|C>>>15),C=I+(w^M&(x^w))+O[7]+4249261313&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(x^I&(M^x))+O[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=x+(M^w&(I^M))+O[9]+2336552879&4294967295,x=w+(C<<12&4294967295|C>>>20),C=M+(I^x&(w^I))+O[10]+4294925233&4294967295,M=x+(C<<17&4294967295|C>>>15),C=I+(w^M&(x^w))+O[11]+2304563134&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(x^I&(M^x))+O[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=x+(M^w&(I^M))+O[13]+4254626195&4294967295,x=w+(C<<12&4294967295|C>>>20),C=M+(I^x&(w^I))+O[14]+2792965006&4294967295,M=x+(C<<17&4294967295|C>>>15),C=I+(w^M&(x^w))+O[15]+1236535329&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(M^x&(I^M))+O[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=x+(I^M&(w^I))+O[6]+3225465664&4294967295,x=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(x^w))+O[11]+643717713&4294967295,M=x+(C<<14&4294967295|C>>>18),C=I+(x^w&(M^x))+O[0]+3921069994&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^x&(I^M))+O[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=x+(I^M&(w^I))+O[10]+38016083&4294967295,x=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(x^w))+O[15]+3634488961&4294967295,M=x+(C<<14&4294967295|C>>>18),C=I+(x^w&(M^x))+O[4]+3889429448&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^x&(I^M))+O[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=x+(I^M&(w^I))+O[14]+3275163606&4294967295,x=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(x^w))+O[3]+4107603335&4294967295,M=x+(C<<14&4294967295|C>>>18),C=I+(x^w&(M^x))+O[8]+1163531501&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^x&(I^M))+O[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=x+(I^M&(w^I))+O[2]+4243563512&4294967295,x=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(x^w))+O[7]+1735328473&4294967295,M=x+(C<<14&4294967295|C>>>18),C=I+(x^w&(M^x))+O[12]+2368359562&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(I^M^x)+O[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=x+(w^I^M)+O[8]+2272392833&4294967295,x=w+(C<<11&4294967295|C>>>21),C=M+(x^w^I)+O[11]+1839030562&4294967295,M=x+(C<<16&4294967295|C>>>16),C=I+(M^x^w)+O[14]+4259657740&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^x)+O[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=x+(w^I^M)+O[4]+1272893353&4294967295,x=w+(C<<11&4294967295|C>>>21),C=M+(x^w^I)+O[7]+4139469664&4294967295,M=x+(C<<16&4294967295|C>>>16),C=I+(M^x^w)+O[10]+3200236656&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^x)+O[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=x+(w^I^M)+O[0]+3936430074&4294967295,x=w+(C<<11&4294967295|C>>>21),C=M+(x^w^I)+O[3]+3572445317&4294967295,M=x+(C<<16&4294967295|C>>>16),C=I+(M^x^w)+O[6]+76029189&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^x)+O[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=x+(w^I^M)+O[12]+3873151461&4294967295,x=w+(C<<11&4294967295|C>>>21),C=M+(x^w^I)+O[15]+530742520&4294967295,M=x+(C<<16&4294967295|C>>>16),C=I+(M^x^w)+O[2]+3299628645&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(M^(I|~x))+O[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=x+(I^(w|~M))+O[7]+1126891415&4294967295,x=w+(C<<10&4294967295|C>>>22),C=M+(w^(x|~I))+O[14]+2878612391&4294967295,M=x+(C<<15&4294967295|C>>>17),C=I+(x^(M|~w))+O[5]+4237533241&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~x))+O[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=x+(I^(w|~M))+O[3]+2399980690&4294967295,x=w+(C<<10&4294967295|C>>>22),C=M+(w^(x|~I))+O[10]+4293915773&4294967295,M=x+(C<<15&4294967295|C>>>17),C=I+(x^(M|~w))+O[1]+2240044497&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~x))+O[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=x+(I^(w|~M))+O[15]+4264355552&4294967295,x=w+(C<<10&4294967295|C>>>22),C=M+(w^(x|~I))+O[6]+2734768916&4294967295,M=x+(C<<15&4294967295|C>>>17),C=I+(x^(M|~w))+O[13]+1309151649&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~x))+O[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=x+(I^(w|~M))+O[11]+3174756917&4294967295,x=w+(C<<10&4294967295|C>>>22),C=M+(w^(x|~I))+O[2]+718787259&4294967295,M=x+(C<<15&4294967295|C>>>17),C=I+(x^(M|~w))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+x&4294967295}s.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var I=w-this.blockSize,O=this.B,M=this.h,x=0;x<w;){if(M==0)for(;x<=I;)o(this,V,x),x+=this.blockSize;if(typeof V=="string"){for(;x<w;)if(O[M++]=V.charCodeAt(x++),M==this.blockSize){o(this,O),M=0;break}}else for(;x<w;)if(O[M++]=V[x++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=w},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var I=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=I&255,I/=256;for(this.u(V),V=Array(16),w=I=0;4>w;++w)for(var O=0;32>O;O+=8)V[I++]=this.g[w]>>>O&255;return V};function u(V,w){var I=m;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=w(V)}function f(V,w){this.h=w;for(var I=[],O=!0,M=V.length-1;0<=M;M--){var x=V[M]|0;O&&x==w||(I[M]=x,O=!1)}this.g=I}var m={};function g(V){return-128<=V&&128>V?u(V,function(w){return new f([w|0],0>w?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return S;if(0>V)return F(y(-V));for(var w=[],I=1,O=0;V>=I;O++)w[O]=V/I|0,I*=4294967296;return new f(w,0)}function E(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return F(E(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(w,8)),O=S,M=0;M<V.length;M+=8){var x=Math.min(8,V.length-M),C=parseInt(V.substring(M,M+x),w);8>x?(x=y(Math.pow(w,x)),O=O.j(x).add(y(C))):(O=O.j(I),O=O.add(y(C)))}return O}var S=g(0),R=g(1),B=g(16777216);r=f.prototype,r.m=function(){if($(this))return-F(this).m();for(var V=0,w=1,I=0;I<this.g.length;I++){var O=this.i(I);V+=(0<=O?O:4294967296+O)*w,w*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(H(this))return"0";if($(this))return"-"+F(this).toString(V);for(var w=y(Math.pow(V,6)),I=this,O="";;){var M=Re(I,w).g;I=G(I,M.j(w));var x=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=M,H(I))return x+O;for(;6>x.length;)x="0"+x;O=x+O}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function H(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function $(V){return V.h==-1}r.l=function(V){return V=G(this,V),$(V)?-1:H(V)?0:1};function F(V){for(var w=V.g.length,I=[],O=0;O<w;O++)I[O]=~V.g[O];return new f(I,~V.h).add(R)}r.abs=function(){return $(this)?F(this):this},r.add=function(V){for(var w=Math.max(this.g.length,V.g.length),I=[],O=0,M=0;M<=w;M++){var x=O+(this.i(M)&65535)+(V.i(M)&65535),C=(x>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);O=C>>>16,x&=65535,C&=65535,I[M]=C<<16|x}return new f(I,I[I.length-1]&-2147483648?-1:0)};function G(V,w){return V.add(F(w))}r.j=function(V){if(H(this)||H(V))return S;if($(this))return $(V)?F(this).j(F(V)):F(F(this).j(V));if($(V))return F(this.j(F(V)));if(0>this.l(B)&&0>V.l(B))return y(this.m()*V.m());for(var w=this.g.length+V.g.length,I=[],O=0;O<2*w;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<V.g.length;M++){var x=this.i(O)>>>16,C=this.i(O)&65535,Lt=V.i(M)>>>16,ot=V.i(M)&65535;I[2*O+2*M]+=C*ot,se(I,2*O+2*M),I[2*O+2*M+1]+=x*ot,se(I,2*O+2*M+1),I[2*O+2*M+1]+=C*Lt,se(I,2*O+2*M+1),I[2*O+2*M+2]+=x*Lt,se(I,2*O+2*M+2)}for(O=0;O<w;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=w;O<2*w;O++)I[O]=0;return new f(I,0)};function se(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function ie(V,w){this.g=V,this.h=w}function Re(V,w){if(H(w))throw Error("division by zero");if(H(V))return new ie(S,S);if($(V))return w=Re(F(V),w),new ie(F(w.g),F(w.h));if($(w))return w=Re(V,F(w)),new ie(F(w.g),w.h);if(30<V.g.length){if($(V)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var I=R,O=w;0>=O.l(V);)I=de(I),O=de(O);var M=Pe(I,1),x=Pe(O,1);for(O=Pe(O,2),I=Pe(I,2);!H(O);){var C=x.add(O);0>=C.l(V)&&(M=M.add(I),x=C),O=Pe(O,1),I=Pe(I,1)}return w=G(V,M.j(w)),new ie(M,w)}for(M=S;0<=V.l(w);){for(I=Math.max(1,Math.floor(V.m()/w.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),x=y(I),C=x.j(w);$(C)||0<C.l(V);)I-=O,x=y(I),C=x.j(w);H(x)&&(x=R),M=M.add(x),V=G(V,C)}return new ie(M,V)}r.A=function(V){return Re(this,V).h},r.and=function(V){for(var w=Math.max(this.g.length,V.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)&V.i(O);return new f(I,this.h&V.h)},r.or=function(V){for(var w=Math.max(this.g.length,V.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)|V.i(O);return new f(I,this.h|V.h)},r.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)^V.i(O);return new f(I,this.h^V.h)};function de(V){for(var w=V.g.length+1,I=[],O=0;O<w;O++)I[O]=V.i(O)<<1|V.i(O-1)>>>31;return new f(I,V.h)}function Pe(V,w){var I=w>>5;w%=32;for(var O=V.g.length-I,M=[],x=0;x<O;x++)M[x]=0<w?V.i(x+I)>>>w|V.i(x+I+1)<<32-w:V.i(x+I);return new f(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,n0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,jr=f}).apply(typeof qv<"u"?qv:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i0,bl,r0,Yc,Sm,s0,a0,o0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in _))break e;_=_[k]}c=c[c.length-1],A=_[c],p=p(A),p!=A&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,A=!1,k={next:function(){if(!A&&_<c.length){var q=_++;return{value:p(q,c[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function S(c,p,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,A),c.apply(p,k)}}return function(){return c.apply(p,arguments)}}function R(c,p,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,R.apply(null,arguments)}function B(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function H(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,k,q){for(var re=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)re[xe-2]=arguments[xe];return p.prototype[k].apply(A,re)}}function $(c){const p=c.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=c[A];return _}return[]}function F(c,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const k=c.length||0,q=A.length||0;c.length=k+q;for(let re=0;re<q;re++)c[k+re]=A[re]}else c.push(A)}}class G{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function se(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Re(c){return Re[" "](c),c}Re[" "]=function(){};var de=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function Pe(c,p,_){for(const A in c)p.call(_,c[A],A,c)}function V(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function w(c){const p={};for(const _ in c)p[_]=c[_];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,p){let _,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(_ in A)c[_]=A[_];for(let q=0;q<I.length;q++)_=I[q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function M(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function x(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Be;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Lt{constructor(){this.h=this.g=null}add(p,_){const A=ot.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ot=new G(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,Be=new Lt,D=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(ee)}};var ee=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){x(_)}var p=ot;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}me=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function Ie(c,p){if(ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(de){e:{try{Re(p.nodeName);var k=!0;break e}catch{}k=!1}k||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}H(Ie,ne);var Te={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Gn(c,p,_,A,k){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=k,this.key=++Ze,this.da=this.fa=!1}function nr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yi(c){this.src=c,this.g={},this.h=0}yi.prototype.add=function(c,p,_,A,k){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var re=Wr(c,p,A,k);return-1<re?(p=c[re],_||(p.fa=!1)):(p=new Gn(p,this.src,q,!!A,k),p.fa=_,c.push(p)),p};function $r(c,p){var _=p.type;if(_ in c.g){var A=c.g[_],k=Array.prototype.indexOf.call(A,p,void 0),q;(q=0<=k)&&Array.prototype.splice.call(A,k,1),q&&(nr(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Wr(c,p,_,A){for(var k=0;k<c.length;++k){var q=c[k];if(!q.da&&q.listener==p&&q.capture==!!_&&q.ha==A)return k}return-1}var Zr="closure_lm_"+(1e6*Math.random()|0),mo={};function cu(c,p,_,A,k){if(Array.isArray(p)){for(var q=0;q<p.length;q++)cu(c,p[q],_,A,k);return null}return _=hu(_),c&&c[Nt]?c.K(p,_,y(A)?!!A.capture:!1,k):vn(c,p,_,!1,A,k)}function vn(c,p,_,A,k,q){if(!p)throw Error("Invalid event type");var re=y(k)?!!k.capture:!!k,xe=Ys(c);if(xe||(c[Zr]=xe=new yi(c)),_=xe.add(p,_,A,re,q),_.proxy)return _;if(A=jh(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ge||(k=re),k===void 0&&(k=!1),c.addEventListener(p.toString(),A,k);else if(c.attachEvent)c.attachEvent(Jr(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function jh(){function c(_){return p.call(c.src,c.listener,_)}const p=qh;return c}function po(c,p,_,A,k){if(Array.isArray(p))for(var q=0;q<p.length;q++)po(c,p[q],_,A,k);else A=y(A)?!!A.capture:!!A,_=hu(_),c&&c[Nt]?(c=c.i,p=String(p).toString(),p in c.g&&(q=c.g[p],_=Wr(q,_,A,k),-1<_&&(nr(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.g[p],c.h--)))):c&&(c=Ys(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Wr(p,_,A,k)),(_=-1<c?p[c]:null)&&Qs(_))}function Qs(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Nt])$r(p.i,c);else{var _=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(_,A,c.capture):p.detachEvent?p.detachEvent(Jr(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=Ys(p))?($r(_,c),_.h==0&&(_.src=null,p[Zr]=null)):nr(c)}}}function Jr(c){return c in mo?mo[c]:mo[c]="on"+c}function qh(c,p){if(c.da)c=!0;else{p=new Ie(p,this);var _=c.listener,A=c.ha||c.src;c.fa&&Qs(c),c=_.call(A,p)}return c}function Ys(c){return c=c[Zr],c instanceof yi?c:null}var go="__closure_events_fn_"+(1e9*Math.random()>>>0);function hu(c){return typeof c=="function"?c:(c[go]||(c[go]=function(p){return c.handleEvent(p)}),c[go])}function lt(){oe.call(this),this.i=new yi(this),this.M=this,this.F=null}H(lt,oe),lt.prototype[Nt]=!0,lt.prototype.removeEventListener=function(c,p,_,A){po(this,c,p,_,A)};function Fe(c,p){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new ne(p,c);else if(p instanceof ne)p.target=p.target||c;else{var k=p;p=new ne(A,c),O(p,k)}if(k=!0,_)for(var q=_.length-1;0<=q;q--){var re=p.g=_[q];k=ln(re,A,!0,p)&&k}if(re=p.g=c,k=ln(re,A,!0,p)&&k,k=ln(re,A,!1,p)&&k,_)for(q=0;q<_.length;q++)re=p.g=_[q],k=ln(re,A,!1,p)&&k}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],A=0;A<_.length;A++)nr(_[A]);delete c.g[p],c.h--}}this.F=null},lt.prototype.K=function(c,p,_,A){return this.i.add(String(c),p,!1,_,A)},lt.prototype.L=function(c,p,_,A){return this.i.add(String(c),p,!0,_,A)};function ln(c,p,_,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var k=!0,q=0;q<p.length;++q){var re=p[q];if(re&&!re.da&&re.capture==_){var xe=re.listener,wt=re.ha||re.src;re.fa&&$r(c.i,re),k=xe.call(wt,A)!==!1&&k}}return k&&!A.defaultPrevented}function Kt(c,p,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function fu(c){c.g=Kt(()=>{c.g=null,c.i&&(c.i=!1,fu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Hh extends oe{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(c){oe.call(this),this.h=c,this.g={}}H(es,oe);var ts=[];function ns(c){Pe(c.g,function(p,_){this.g.hasOwnProperty(_)&&Qs(p)},c),c.g={}}es.prototype.N=function(){es.aa.N.call(this),ns(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=m.JSON.stringify,Xs=m.JSON.parse,is=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function yo(){}yo.prototype.h=null;function _o(c){return c.h||(c.h=c.i())}function vo(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){ne.call(this,"d")}H(vi,ne);function Eo(){ne.call(this,"c")}H(Eo,ne);var Kn={},To=null;function ir(){return To=To||new lt}Kn.La="serverreachability";function $s(c){ne.call(this,Kn.La,c)}H($s,ne);function rr(c){const p=ir();Fe(p,new $s(p))}Kn.STAT_EVENT="statevent";function du(c,p){ne.call(this,Kn.STAT_EVENT,c),this.stat=p}H(du,ne);function nt(c){const p=ir();Fe(p,new du(p,c))}Kn.Ma="timingevent";function Rt(c,p){ne.call(this,Kn.Ma,c),this.size=p}H(Rt,ne);function pt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function Ao(c,p,_,A,k,q){c.info(function(){if(c.g)if(q)for(var re="",xe=q.split("&"),wt=0;wt<xe.length;wt++){var ke=xe[wt].split("=");if(1<ke.length){var Vt=ke[0];ke=ke[1];var bt=Vt.split("_");re=2<=bt.length&&bt[1]=="type"?re+(Vt+"="+ke+"&"):re+(Vt+"=redacted&")}}else re=null;else re=q;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+p+`
`+_+`
`+re})}function Fh(c,p,_,A,k,q,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+p+`
`+_+`
`+q+" "+re})}function sr(c,p,_,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+rs(c,_)+(A?" "+A:"")})}function mu(c,p){c.info(function(){return"TIMEOUT: "+p})}En.prototype.info=function(){};function rs(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var k=A[1];if(Array.isArray(k)&&!(1>k.length)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(var re=1;re<k.length;re++)k[re]=""}}}}return Pn(_)}catch{return p}}var ar={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Yn(){}H(Yn,yo),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Qn=new Yn;function Jt(c,p,_,A){this.j=c,this.i=p,this.l=_,this.R=A||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var So={},Ws={};function xn(c,p,_){c.L=1,c.v=us(un(p)),c.m=_,c.P=!0,Ti(c,null)}function Ti(c,p){c.F=Date.now(),ss(c),c.A=un(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Do(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ht,c.g=Nu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new Hh(R(c.Y,c,c.g),c.O)),p=c.U,_=c.g,A=c.ca;var k="readystatechange";Array.isArray(k)||(k&&(ts[0]=k.toString()),k=ts);for(var q=0;q<k.length;q++){var re=cu(_,k[q],A||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),rr(),Ao(c.i,c.u,c.A,c.l,c.R,c.m)}Jt.prototype.ca=function(c){c=c.target;const p=this.M;p&&Rn(c)==3?p.j():this.Y(c)},Jt.prototype.Y=function(c){try{if(c==this.g)e:{const bt=Rn(this.g);var p=this.g.Ba();const Di=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||bt!=4||p==7||(p==8||0>=Di?rr(3):rr(2)),or(this);var _=this.g.Z();this.X=_;t:if(pu(this)){var A=Au(this.g);c="";var k=A.length,q=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Xn(this);var re="";break t}this.h.i=new m.TextDecoder}for(p=0;p<k;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!(q&&p==k-1)});A.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,Fh(this.i,this.u,this.A,this.l,this.R,bt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,wt=this.g;if((xe=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(xe)){var ke=xe;break t}}ke=null}if(_=ke)sr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,as(this,_);else{this.o=!1,this.s=3,nt(12),Ut(this),Xn(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<re.length;)if(zt=gu(this,re),zt==Ws){bt==4&&(this.s=4,nt(14),_=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==So){this.s=4,nt(15),sr(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else sr(this.i,this.l,zt,null),as(this,zt);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||re.length!=0||this.h.h||(this.s=1,nt(16),_=!1),this.o=this.o&&_,!_)sr(this.i,this.l,re,"[Invalid Chunked Response]"),Ut(this),Xn(this);else if(0<re.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),ys(Vt),Vt.M=!0,nt(11))}}else sr(this.i,this.l,re,null),as(this,re);bt==4&&Ut(this),this.o&&!this.J&&(bt==4?Iu(this.j,this):(this.o=!1,ss(this)))}else Xh(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Ut(this),Xn(this)}}}catch{}finally{}};function pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function gu(c,p){var _=c.C,A=p.indexOf(`
`,_);return A==-1?Ws:(_=Number(p.substring(_,A)),isNaN(_)?So:(A+=1,A+_>p.length?Ws:(p=p.slice(A,A+_),c.C=A+_,p)))}Jt.prototype.cancel=function(){this.J=!0,Ut(this)};function ss(c){c.S=Date.now()+c.I,yu(c,c.I)}function yu(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(R(c.ba,c),p)}function or(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Jt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(mu(this.i,this.A),this.L!=2&&(rr(),nt(17)),Ut(this),this.s=2,Xn(this)):yu(this,this.S-c)};function Xn(c){c.j.G==0||c.J||Iu(c.j,c)}function Ut(c){or(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,ns(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function as(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||Ro(_.h,c))){if(!c.K&&Ro(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ua(_),oa(_);else break e;Po(_),nt(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=pt(R(_.Za,_),6e3));if(1>=Js(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ci(_,11)}else if((c.K||_.g==c)&&ua(_),!se(p))for(k=_.Da.g.parse(p),p=0;p<k.length;p++){let ke=k[p];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Vt=ke[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const bt=ke[4];bt!=null&&(_.Aa=bt,_.j.info("SVER="+_.Aa));const Di=ke[5];Di!=null&&typeof Di=="number"&&0<Di&&(A=1.5*Di,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const zt=c.g;if(zt){const ni=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var q=A.h;q.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ea(q,q.h),q.h=null))}if(A.D){const ko=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;ko&&(A.ya=ko,Qe(A.I,A.D,ko))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var re=c;if(A.qa=Du(A,A.J?A.ia:null,A.W),re.K){en(A.h,re);var xe=re,wt=A.L;wt&&(xe.I=wt),xe.B&&(or(xe),ss(xe)),A.g=re}else wu(A);0<_.i.length&&la(_)}else ke[0]!="stop"&&ke[0]!="close"||Ci(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Ci(_,7):Vo(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}rr(4)}catch{}}var _u=class{constructor(c,p){this.g=c,this.map=p}};function Ai(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Js(c){return c.h?1:c.g?c.g.size:0}function Ro(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ea(c,p){c.g?c.g.add(p):c.h=p}function en(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ai.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return $(c.i)}function Gh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,A=0;A<_;A++)p.push(c[A]);return p}p=[],_=0;for(A in c)p[_++]=c[A];return p}function ta(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const A in c)p[_++]=A;return p}}}function bo(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=ta(c),A=Gh(c),k=A.length,q=0;q<k;q++)p.call(void 0,A[q],_&&_[q],c)}var os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kh(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),k=null;if(0<=A){var q=c[_].substring(0,A);k=c[_].substring(A+1)}else q=c[_];p(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gt){this.h=c.h,ls(this,c.j),this.o=c.o,this.g=c.g,lr(this,c.s),this.l=c.l;var p=c.i,_=new Ri;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Si(this,_),this.m=c.m}else c&&(p=String(c).match(os))?(this.h=!1,ls(this,p[1]||"",!0),this.o=Tn(p[2]||""),this.g=Tn(p[3]||"",!0),lr(this,p[4]),this.l=Tn(p[5]||"",!0),Si(this,p[6]||"",!0),this.m=Tn(p[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}gt.prototype.toString=function(){var c=[],p=this.j;p&&c.push(cs(p,Io,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(cs(p,Io,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(cs(_,_.charAt(0)=="/"?Qh:Co,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",cs(_,na)),c.join("")};function un(c){return new gt(c)}function ls(c,p,_){c.j=_?Tn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function lr(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Si(c,p,_){p instanceof Ri?(c.i=p,Eu(c.i,c.h)):(_||(p=cs(p,Yh)),c.i=new Ri(p,c.h))}function Qe(c,p,_){c.i.set(p,_)}function us(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cs(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,vu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Io=/[#\/\?@]/g,Co=/[#\?:]/g,Qh=/[#\?]/g,Yh=/[#\?@]/g,na=/#/g;function Ri(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function An(c){c.g||(c.g=new Map,c.h=0,c.i&&Kh(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Ri.prototype,r.add=function(c,p){An(this),this.i=null,c=$n(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function wi(c,p){An(c),p=$n(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function bi(c,p){return An(c),p=$n(c,p),c.g.has(p)}r.forEach=function(c,p){An(this),this.g.forEach(function(_,A){_.forEach(function(k){c.call(p,k,A,this)},this)},this)},r.na=function(){An(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const k=c[A];for(let q=0;q<k.length;q++)_.push(p[A])}return _},r.V=function(c){An(this);let p=[];if(typeof c=="string")bi(this,c)&&(p=p.concat(this.g.get($n(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return An(this),this.i=null,c=$n(this,c),bi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Do(c,p,_){wi(c,p),0<_.length&&(c.i=null,c.g.set($n(c,p),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const q=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var k=q;re[A]!==""&&(k+="="+encodeURIComponent(String(re[A]))),c.push(k)}}return this.i=c.join("&")};function $n(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Eu(c,p){p&&!c.j&&(An(c),c.i=null,c.g.forEach(function(_,A){var k=A.toLowerCase();A!=k&&(wi(this,A),Do(this,k,_))},c)),c.j=p}function hs(c,p){const _=new En;if(m.Image){const A=new Image;A.onload=B(Sn,_,"TestLoadImage: loaded",!0,p,A),A.onerror=B(Sn,_,"TestLoadImage: error",!1,p,A),A.onabort=B(Sn,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=B(Sn,_,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function kn(c,p){const _=new En,A=new AbortController,k=setTimeout(()=>{A.abort(),Sn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(k),q.ok?Sn(_,"TestPingServer: ok",!0,p):Sn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(k),Sn(_,"TestPingServer: error",!1,p)})}function Sn(c,p,_,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(_)}catch{}}function fs(){this.g=new is}function Wn(c,p,_){const A=_||"";try{bo(c,function(k,q){let re=k;y(k)&&(re=Pn(k)),p.push(A+q+"="+encodeURIComponent(re))})}catch(k){throw p.push(A+"type="+encodeURIComponent("_badmap")),k}}function ur(c){this.l=c.Ub||null,this.j=c.eb||!1}H(ur,yo),ur.prototype.g=function(){return new Ii(this.l,this.j)},ur.prototype.i=function(c){return function(){return c}}({});function Ii(c,p){lt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Ii,lt),r=Ii.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Jn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;No(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function No(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Zn(this):Jn(this),this.readyState==3&&No(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Zn(this))},r.Qa=function(c){this.g&&(this.response=c,Zn(this))},r.ga=function(){this.g&&Zn(this)};function Zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Jn(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Oo(c){let p="";return Pe(c,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function Ot(c,p,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Oo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,p,_))}function qe(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(qe,lt);var ia=/^https?$/i,ds=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?_o(this.o):_o(Qn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){Tu(this,q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)_.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),k=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ds,p,void 0))||A||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of _)this.g.setRequestHeader(q,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ms(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){Tu(this,q)}};function Tu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ra(c),ei(c)}function ra(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},r.bb=function(){sa(this)};function sa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)Kt(c.Ea,0,c);else if(Fe(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var A;if(A=re===0){var k=String(c.D).match(os)[1]||null;!k&&m.self&&m.self.location&&(k=m.self.location.protocol.slice(0,-1)),A=!ia.test(k?k.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var q=2<Rn(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",ra(c)}}finally{ei(c)}}}}function ei(c,p){if(c.g){ms(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function ms(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Xs(p)}};function Au(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xh(c){const p={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(se(c[A]))continue;var _=M(c[A]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=p[k]||[];p[k]=q,q.push(_)}V(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ps(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function aa(c){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ps("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ps("baseRetryDelayMs",5e3,c),this.cb=ps("retryDelaySeedMs",1e4,c),this.Wa=ps("forwardChannelMaxRetries",2,c),this.wa=ps("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(c&&c.concurrentRequestLimit),this.Da=new fs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=aa.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,A){nt(0),this.W=c,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Du(this,null,this.W),la(this)};function Vo(c){if(Su(c),c.G==3){var p=c.U++,_=un(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",p),Qe(_,"TYPE","terminate"),gs(c,_),p=new Jt(c,c.j,p),p.L=2,p.v=us(un(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Nu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ss(p)}Cu(c)}function oa(c){c.g&&(ys(c),c.g.cancel(),c.g=null)}function Su(c){oa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ua(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function la(c){if(!Zs(c.h)&&!c.s){c.s=!0;var p=c.Ga;ae||D(),me||(ae(),me=!0),Be.add(p,c),c.B=0}}function $h(c,p){return Js(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(R(c.Ga,c,p),xo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const k=new Jt(this,this.j,c);let q=this.o;if(this.S&&(q?(q=w(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(k.H=q,q=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Ru(this,k,p),_=un(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),gs(this,_),q&&(this.O?p="headers="+encodeURIComponent(String(Oo(q)))+"&"+p:this.m&&Ot(_,this.m,q)),ea(this.h,k),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",p),Qe(_,"SID","null"),k.T=!0,xn(k,_,null)):xn(k,_,p),this.G=2}}else this.G==3&&(c?Mo(this,c):this.i.length==0||Zs(this.h)||Mo(this))};function Mo(c,p){var _;p?_=p.l:_=c.U++;const A=un(c.I);Qe(A,"SID",c.K),Qe(A,"RID",_),Qe(A,"AID",c.T),gs(c,A),c.m&&c.o&&Ot(A,c.m,c.o),_=new Jt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Ru(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ea(c.h,_),xn(_,A,p)}function gs(c,p){c.H&&Pe(c.H,function(_,A){Qe(p,A,_)}),c.l&&bo({},function(_,A){Qe(p,A,_)})}function Ru(c,p,_){_=Math.min(c.i.length,_);var A=c.l?R(c.l.Na,c.l,c):null;e:{var k=c.i;let q=-1;for(;;){const re=["count="+_];q==-1?0<_?(q=k[0].g,re.push("ofs="+q)):q=0:re.push("ofs="+q);let xe=!0;for(let wt=0;wt<_;wt++){let ke=k[wt].g;const Vt=k[wt].map;if(ke-=q,0>ke)q=Math.max(0,k[wt].g-100),xe=!1;else try{Wn(Vt,re,"req"+ke+"_")}catch{A&&A(Vt)}}if(xe){A=re.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,A}function wu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ae||D(),me||(ae(),me=!0),Be.add(p,c),c.v=0}}function Po(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(R(c.Fa,c),xo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),oa(this),bu(this))};function ys(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function bu(c){c.g=new Jt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=un(c.qa);Qe(p,"RID","rpc"),Qe(p,"SID",c.K),Qe(p,"AID",c.T),Qe(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(p,"TO",c.ja),Qe(p,"TYPE","xmlhttp"),gs(c,p),c.m&&c.o&&Ot(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=us(un(p)),_.m=null,_.P=!0,Ti(_,c)}r.Za=function(){this.C!=null&&(this.C=null,oa(this),Po(this),nt(19))};function ua(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Iu(c,p){var _=null;if(c.g==p){ua(c),ys(c),c.g=null;var A=2}else if(Ro(c.h,p))_=p.D,en(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var k=c.B;A=ir(),Fe(A,new Rt(A,_)),la(c)}else wu(c);else if(k=p.s,k==3||k==0&&0<p.X||!(A==1&&$h(c,p)||A==2&&Po(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),k){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function xo(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Ci(c,p){if(c.j.info("Error code "+p),p==2){var _=R(c.fb,c),A=c.Xa;const k=!A;A=new gt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ls(A,"https"),us(A),k?hs(A.toString(),_):kn(A.toString(),_)}else nt(2);c.G=0,c.l&&c.l.sa(p),Cu(c),Su(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Cu(c){if(c.G=0,c.ka=[],c.l){const p=wo(c.h);(p.length!=0||c.i.length!=0)&&(F(c.ka,p),F(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Du(c,p,_){var A=_ instanceof gt?un(_):new gt(_);if(A.g!="")p&&(A.g=p+"."+A.g),lr(A,A.s);else{var k=m.location;A=k.protocol,p=p?p+"."+k.hostname:k.hostname,k=+k.port;var q=new gt(null);A&&ls(q,A),p&&(q.g=p),k&&lr(q,k),_&&(q.l=_),A=q}return _=c.D,p=c.ya,_&&p&&Qe(A,_,p),Qe(A,"VER",c.la),gs(c,A),A}function Nu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new qe(new ur({eb:_})):new qe(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}r=Ou.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ca(){}ca.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){lt.call(this),this.g=new aa(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!se(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!se(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ti(this)}H(tn,lt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Vo(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pn(c),c=_);p.i.push(new _u(p.Ya++,c)),p.G==3&&la(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,tn.aa.N.call(this)};function Vu(c){vi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}H(Vu,vi);function Mu(){Eo.call(this),this.status=1}H(Mu,Eo);function ti(c){this.g=c}H(ti,Ou),ti.prototype.ua=function(){Fe(this.g,"a")},ti.prototype.ta=function(c){Fe(this.g,new Vu(c))},ti.prototype.sa=function(c){Fe(this.g,new Mu)},ti.prototype.ra=function(){Fe(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,o0=function(){return new ca},a0=function(){return ir()},s0=Kn,Sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,Yc=ar,Ei.COMPLETE="complete",r0=Ei,vo.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",lt.prototype.listen=lt.prototype.K,bl=vo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,i0=qe}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const Hv="@firebase/firestore",Fv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new Km("@firebase/firestore");function za(){return zs.logLevel}function ue(r,...e){if(zs.logLevel<=Oe.DEBUG){const n=e.map(rp);zs.debug(`Firestore (${lo}): ${r}`,...n)}}function Zi(r,...e){if(zs.logLevel<=Oe.ERROR){const n=e.map(rp);zs.error(`Firestore (${lo}): ${r}`,...n)}}function Wa(r,...e){if(zs.logLevel<=Oe.WARN){const n=e.map(rp);zs.warn(`Firestore (${lo}): ${r}`,...n)}}function rp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,l0(r,s,n)}function l0(r,e,n){let s=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Zi(s),new Error(s)}function He(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||l0(e,o,s)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class i2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r2{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new u0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class s2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class a2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new s2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Gv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=l2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Rm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return om(o)===om(u)?Ve(o,u):om(o)?1:-1}return Ve(r.length,e.length)}const u2=55296,c2=57343;function om(r){const e=r.charCodeAt(0);return e>=u2&&e<=c2}function Za(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="__name__";class li{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=li.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=li.isNumericId(e),o=li.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?li.extractNumericId(e).compare(li.extractNumericId(n)):Rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jr.fromString(e.substring(4,e.length-2))}}class et extends li{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const h2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends li{construct(e,n,s){return new Ft(e,n,s)}static isValidIdentifier(e){return h2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kv}static keyField(){return new Ft([Kv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(et.fromString(e))}static fromName(e){return new pe(et.fromString(e).popFirst(5))}static empty(){return new pe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(r,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function f2(r,e,n,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Qv(r){if(!pe.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Yv(r){if(pe.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function h0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function bh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function Bs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bh(r);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r,e){const n={typeString:r};return e&&(n.value=e),n}function ru(r,e){if(!h0(r))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=-62135596800,$v=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*$v);return new tt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Xv)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$v}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:At("string",tt._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new tt(0,0))}static max(){return new Ae(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function d2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new tt(n+1,0):new tt(n,s));return new Hr(o,pe.empty(),e)}function m2(r){return new Hr(r.readTime,r.key,Hl)}class Hr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Hr(Ae.min(),pe.empty(),Hl)}static max(){return new Hr(Ae.max(),pe.empty(),Hl)}}function p2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==g2)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function _2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function co(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=-1;function Ch(r){return r==null}function uh(r){return r===0&&1/r==-1/0}function v2(r){return typeof r=="number"&&Number.isInteger(r)&&!uh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="";function E2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Wv(e)),e=T2(r.get(n),e);return Wv(e)}function T2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case f0:n+="";break;default:n+=u}}return n}function Wv(r){return r+f0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Hs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function d0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ht(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jv(this.data.getIterator())}getIteratorFrom(e){return new Jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class Jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new qn([])}unionWith(e){let n=new Dt(Ft.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new m0("Invalid base64 string: "+u):u}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const A2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=A2.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gr(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="server_timestamp",g0="__type__",y0="__previous_value__",_0="__local_write_time__";function op(r){return(r?.mapValue?.fields||{})[g0]?.stringValue===p0}function Dh(r){const e=r.mapValue.fields[y0];return op(e)?Dh(e):e}function Fl(r){const e=Fr(r.mapValue.fields[_0].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,s,o,u,f,m,g,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const ch="(default)";class Gl{constructor(e,n){this.projectId=e,this.database=n||ch}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="__type__",R2="__max__",Uc={mapValue:{}},E0="__vector__",hh="value";function Kr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?op(r)?4:b2(r)?9007199254740991:w2(r)?10:11:ve(28295,{value:r})}function mi(r,e){if(r===e)return!0;const n=Kr(r);if(n!==Kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Fl(r).isEqual(Fl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Fr(o.timestampValue),m=Fr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Gr(o.bytesValue).isEqual(Gr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mt(o.doubleValue),m=mt(u.doubleValue);return f===m?uh(f)===uh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Za(r.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Zv(f)!==Zv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!mi(f[g],m[g])))return!1;return!0}(r,e);default:return ve(52216,{left:r})}}function Kl(r,e){return(r.values||[]).find(n=>mi(n,e))!==void 0}function Ja(r,e){if(r===e)return 0;const n=Kr(r),s=Kr(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=mt(u.integerValue||u.doubleValue),g=mt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return eE(r.timestampValue,e.timestampValue);case 4:return eE(Fl(r),Fl(e));case 5:return Rm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Gr(u),g=Gr(f);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ve(m[y],g[y]);if(E!==0)return E}return Ve(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ve(mt(u.latitude),mt(f.latitude));return m!==0?m:Ve(mt(u.longitude),mt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return tE(r.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},g=f.fields||{},y=m[hh]?.arrayValue,E=g[hh]?.arrayValue,S=Ve(y?.values?.length||0,E?.values?.length||0);return S!==0?S:tE(y,E)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Uc.mapValue&&f===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(f===Uc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const R=Rm(g[S],E[S]);if(R!==0)return R;const B=Ja(m[g[S]],y[E[S]]);if(B!==0)return B}return Ve(g.length,E.length)}(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function eE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=Fr(r),s=Fr(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function tE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ja(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function eo(r){return wm(r)}function wm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Fr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Gr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pe.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=wm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${wm(n.fields[f])}`;return o+"}"}(r.mapValue):ve(61005,{value:r})}function Xc(r){switch(Kr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(r);return e?16+Xc(e):16;case 5:return 2*r.stringValue.length;case 6:return Gr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Xc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Hs(s.fields,(u,f)=>{o+=u.length+Xc(f)}),o}(r.mapValue);default:throw ve(13486,{value:r})}}function nE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function bm(r){return!!r&&"integerValue"in r}function lp(r){return!!r&&"arrayValue"in r}function iE(r){return!!r&&"nullValue"in r}function rE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function $c(r){return!!r&&"mapValue"in r}function w2(r){return(r?.mapValue?.fields||{})[v0]?.stringValue===E0}function xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Hs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=xl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xl(r.arrayValue.values[n]);return e}return{...r}}function b2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===R2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!$c(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(n)}setAll(e){let n=Ft.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=xl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());$c(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];$c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Hs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Vn(xl(this.value))}}function T0(r){const e=[];return Hs(r.fields,(n,s)=>{const o=new Ft([n]);if($c(s)){const u=T0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),Vn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ae.min(),Ae.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ae.min(),Ae.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function sE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=Ja(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function aE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!mi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function I2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{}class Tt extends A0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new D2(e,n,s):n==="array-contains"?new V2(e,s):n==="in"?new M2(e,s):n==="not-in"?new P2(e,s):n==="array-contains-any"?new x2(e,s):new Tt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new N2(e,s):new O2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ja(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(Ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends A0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hn(e,n)}matches(e){return S0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function S0(r){return r.op==="and"}function R0(r){return C2(r)&&S0(r)}function C2(r){for(const e of r.filters)if(e instanceof Hn)return!1;return!0}function Im(r){if(r instanceof Tt)return r.field.canonicalString()+r.op.toString()+eo(r.value);if(R0(r))return r.filters.map(e=>Im(e)).join(",");{const e=r.filters.map(n=>Im(n)).join(",");return`${r.op}(${e})`}}function w0(r,e){return r instanceof Tt?function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&mi(s.value,o.value)}(r,e):r instanceof Hn?function(s,o){return o instanceof Hn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&w0(f,o.filters[m]),!0):!1}(r,e):void ve(19439)}function b0(r){return r instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${eo(n.value)}`}(r):r instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(b0).join(" ,")+"}"}(r):"Filter"}class D2 extends Tt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class N2 extends Tt{constructor(e,n){super(e,"in",n),this.keys=I0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class O2 extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=I0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function I0(r,e){return(e.arrayValue?.values||[]).map(n=>pe.fromName(n.referenceValue))}class V2 extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lp(n)&&Kl(n.arrayValue,this.value)}}class M2 extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class P2 extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kl(this.value.arrayValue,n)}}class x2 extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Kl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function oE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new k2(r,e,n,s,o,u,f)}function up(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Im(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>eo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>eo(s)).join(",")),e.Te=n}return e.Te}function cp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!I2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!w0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!aE(r.startAt,e.startAt)&&aE(r.endAt,e.endAt)}function Cm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function L2(r,e,n,s,o,u,f,m){return new su(r,e,n,s,o,u,f,m)}function hp(r){return new su(r)}function lE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function C0(r){return r.collectionGroup!==null}function kl(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Dt(Ft.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new dh(u,s))}),n.has(Ft.keyField().canonicalString())||e.Ie.push(new dh(Ft.keyField(),s))}return e.Ie}function ui(r){const e=Se(r);return e.Ee||(e.Ee=U2(e,kl(r))),e.Ee}function U2(r,e){if(r.limitType==="F")return oE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new dh(o.field,u)});const n=r.endAt?new fh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new fh(r.startAt.position,r.startAt.inclusive):null;return oE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Dm(r,e){const n=r.filters.concat([e]);return new su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Nm(r,e,n){return new su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Nh(r,e){return cp(ui(r),ui(e))&&r.limitType===e.limitType}function D0(r){return`${up(ui(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>b0(o)).join(", ")}]`),Ch(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>eo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>eo(o)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function Oh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,g){const y=sE(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,kl(s),o)||s.endAt&&!function(f,m,g){const y=sE(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,kl(s),o))}(r,e)}function z2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function N0(r){return(e,n)=>{let s=!1;for(const o of kl(r)){const u=B2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function B2(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Ja(g,y):ve(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return d0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new at(pe.comparator);function Ji(){return j2}const O0=new at(pe.comparator);function Il(...r){let e=O0;for(const n of r)e=e.insert(n.key,n);return e}function V0(r){let e=O0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ps(){return Ll()}function M0(){return Ll()}function Ll(){return new Fs(r=>r.toString(),(r,e)=>r.isEqual(e))}const q2=new at(pe.comparator),H2=new Dt(pe.comparator);function Me(...r){let e=H2;for(const n of r)e=e.add(n);return e}const F2=new Dt(Ve);function G2(){return F2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function P0(r){return{integerValue:""+r}}function K2(r,e){return v2(e)?P0(e):fp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function Q2(r,e,n){return r instanceof Ql?function(o,u){const f={fields:{[g0]:{stringValue:p0},[_0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&op(u)&&(u=Dh(u)),u&&(f.fields[y0]=u),{mapValue:f}}(n,e):r instanceof Yl?k0(r,e):r instanceof Xl?L0(r,e):function(o,u){const f=x0(o,u),m=uE(f)+uE(o.Ae);return bm(f)&&bm(o.Ae)?P0(m):fp(o.serializer,m)}(r,e)}function Y2(r,e,n){return r instanceof Yl?k0(r,e):r instanceof Xl?L0(r,e):n}function x0(r,e){return r instanceof mh?function(s){return bm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ql extends Vh{}class Yl extends Vh{constructor(e){super(),this.elements=e}}function k0(r,e){const n=U0(e);for(const s of r.elements)n.some(o=>mi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Xl extends Vh{constructor(e){super(),this.elements=e}}function L0(r,e){let n=U0(e);for(const s of r.elements)n=n.filter(o=>!mi(o,s));return{arrayValue:{values:n}}}class mh extends Vh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function uE(r){return mt(r.integerValue||r.doubleValue)}function U0(r){return lp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.field=e,this.transform=n}}function $2(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Yl&&o instanceof Yl||s instanceof Xl&&o instanceof Xl?Za(s.elements,o.elements,mi):s instanceof mh&&o instanceof mh?mi(s.Ae,o.Ae):s instanceof Ql&&o instanceof Ql}(r.transform,e.transform)}class W2{constructor(e,n){this.version=e,this.transformResults=n}}class Qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Mh{}function z0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new j0(r.key,Qi.none()):new au(r.key,r.data,Qi.none());{const n=r.data,s=Vn.empty();let o=new Dt(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Gs(r.key,s,new qn(o.toArray()),Qi.none())}}function Z2(r,e,n){r instanceof au?function(o,u,f){const m=o.value.clone(),g=hE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Gs?function(o,u,f){if(!Wc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=hE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(B0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ul(r,e,n,s){return r instanceof au?function(u,f,m,g){if(!Wc(u.precondition,f))return m;const y=u.value.clone(),E=fE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof Gs?function(u,f,m,g){if(!Wc(u.precondition,f))return m;const y=fE(u.fieldTransforms,g,f),E=f.data;return E.setAll(B0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,s):function(u,f,m){return Wc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function J2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=x0(s.transform,o||null);u!=null&&(n===null&&(n=Vn.empty()),n.set(s.field,u))}return n||null}function cE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Za(s,o,(u,f)=>$2(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends Mh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gs extends Mh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function B0(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function hE(r,e,n){const s=new Map;He(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Y2(f,m,n[o]))}return s}function fE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Q2(u,f,e))}return s}class j0 extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eD extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Z2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=M0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=z0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,(n,s)=>cE(n,s))&&Za(this.baseMutations,e.baseMutations,(n,s)=>cE(n,s))}}class dp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return q2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new dp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Ue;function rD(r){switch(r){case W.OK:return ve(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function q0(r){if(r===void 0)return Zi("GRPC error has no .code"),W.UNKNOWN;switch(r){case vt.OK:return W.OK;case vt.CANCELLED:return W.CANCELLED;case vt.UNKNOWN:return W.UNKNOWN;case vt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case vt.INTERNAL:return W.INTERNAL;case vt.UNAVAILABLE:return W.UNAVAILABLE;case vt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case vt.NOT_FOUND:return W.NOT_FOUND;case vt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case vt.ABORTED:return W.ABORTED;case vt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case vt.DATA_LOSS:return W.DATA_LOSS;default:return ve(39323,{code:r})}}(Ue=vt||(vt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=new jr([4294967295,4294967295],0);function dE(r){const e=sD().encode(r),n=new n0;return n.update(e),new Uint8Array(n.digest())}function mE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new jr([n,s],0),new jr([o,u],0)]}class mp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(s<0)throw new Cl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=jr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(jr.fromNumber(s)));return o.compare(aD)===1&&(o=new jr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=dE(e),[s,o]=mE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new mp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=dE(e),[s,o]=mE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ph(Ae.min(),o,new at(Ve),Ji(),Me())}}class ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ou(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class H0{constructor(e,n){this.targetId=e,this.Ce=n}}class F0{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class pE{constructor(){this.ve=0,this.Fe=gE(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),s=Me();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}}),new ou(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=gE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.Je=zc(),this.He=zc(),this.Ye=new at(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Cm(u))if(s===0){const f=new pe(u.path);this.et(n,f,Wt.newNoDocument(f,Ae.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Gr(s).toUint8Array()}catch(g){if(g instanceof m0)return Wa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new mp(f,o,u)}catch(g){return Wa(g instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Cm(m.target)){const g=new pe(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Wt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Me();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new Ph(e,n,this.Ye,this.je,s);return this.je=Ji(),this.Je=zc(),this.He=zc(),this.Ye=new at(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new pE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zc(){return new at(pe.comparator)}function gE(){return new at(pe.comparator)}const lD={asc:"ASCENDING",desc:"DESCENDING"},uD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cD={and:"AND",or:"OR"};class hD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Om(r,e){return r.useProto3Json||Ch(e)?e:{value:e}}function ph(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function fD(r,e){return ph(r,e.toTimestamp())}function ci(r){return He(!!r,49232),Ae.fromTimestamp(function(n){const s=Fr(n);return new tt(s.seconds,s.nanos)}(r))}function pp(r,e){return Vm(r,e).canonicalString()}function Vm(r,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function K0(r){const e=et.fromString(r);return He(W0(e),10190,{key:e.toString()}),e}function Mm(r,e){return pp(r.databaseId,e.path)}function lm(r,e){const n=K0(e);if(n.get(1)!==r.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(Y0(n))}function Q0(r,e){return pp(r.databaseId,e)}function dD(r){const e=K0(r);return e.length===4?et.emptyPath():Y0(e)}function Pm(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Y0(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function yE(r,e,n){return{name:Mm(r,e),fields:n.value.mapValue.fields}}function mD(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(He(E===void 0||typeof E=="string",58123),Gt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Gt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?W.UNKNOWN:q0(y.code);return new le(E,y.message||"")}(f);n=new F0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=lm(r,s.document.name),u=ci(s.document.updateTime),f=s.document.createTime?ci(s.document.createTime):Ae.min(),m=new Vn({mapValue:{fields:s.document.fields}}),g=Wt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Zc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=lm(r,s.document),u=s.readTime?ci(s.readTime):Ae.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Zc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=lm(r,s.document),u=s.removedTargetIds||[];n=new Zc([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new iD(o,u),m=s.targetId;n=new H0(m,f)}}return n}function pD(r,e){let n;if(e instanceof au)n={update:yE(r,e.key,e.value)};else if(e instanceof j0)n={delete:Mm(r,e.key)};else if(e instanceof Gs)n={update:yE(r,e.key,e.data),updateMask:RD(e.fieldMask)};else{if(!(e instanceof eD))return ve(16599,{Vt:e.type});n={verify:Mm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Ql)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Yl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof mh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:fD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)}(r,e.precondition)),n}function gD(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?ci(o.updateTime):ci(u);return f.isEqual(Ae.min())&&(f=ci(u)),new W2(f,o.transformResults||[])}(n,e))):[]}function yD(r,e){return{documents:[Q0(r,e.path)]}}function _D(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Q0(r,o);const u=function(y){if(y.length!==0)return $0(Hn.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(R){return{field:ja(R.field),direction:TD(R.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Om(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:n,parent:o}}function vD(r){let e=dD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const R=X0(S);return R instanceof Hn&&R0(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(R=>function(H){return new dh(qa(H.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(S){let R;return R=typeof S=="object"?S.value:S,Ch(R)?null:R}(n.limit));let g=null;n.startAt&&(g=function(S){const R=!!S.before,B=S.values||[];return new fh(B,R)}(n.startAt));let y=null;return n.endAt&&(y=function(S){const R=!S.before,B=S.values||[];return new fh(B,R)}(n.endAt)),L2(e,o,f,u,m,"F",g,y)}function ED(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function X0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=qa(n.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=qa(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qa(n.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=qa(n.unaryFilter.field);return Tt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}}(r):r.fieldFilter!==void 0?function(n){return Tt.create(qa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(s=>X0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}}(n.compositeFilter.op))}(r):ve(30097,{filter:r})}function TD(r){return lD[r]}function AD(r){return uD[r]}function SD(r){return cD[r]}function ja(r){return{fieldPath:r.canonicalString()}}function qa(r){return Ft.fromServerFormat(r.fieldPath)}function $0(r){return r instanceof Tt?function(n){if(n.op==="=="){if(rE(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NAN"}};if(iE(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rE(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NAN"}};if(iE(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(n.field),op:AD(n.op),value:n.value}}}(r):r instanceof Hn?function(n){const s=n.getFilters().map(o=>$0(o));return s.length===1?s[0]:{compositeFilter:{op:SD(n.op),filters:s}}}(r):ve(54877,{filter:r})}function RD(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function W0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Gt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.yt=e}}function bD(r){const e=vD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.Cn=new CD}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Hr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class CD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Dt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z0=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(Z0,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="LruGarbageCollector",DD=1048576;function EE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class ND{constructor(e){this.Ir=e,this.buffer=new Dt(EE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();EE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(vE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){co(n)?ue(vE,"Ignoring IndexedDB error during garbage collection: ",n):await uo(n)}await this.Vr(3e5)})}}class VD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Ih.ce);const s=new ND(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(_E)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),za()<=Oe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function MD(r,e){return new VD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.changes=new Fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Ul(s.mutation,o,qn.empty(),tt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const o=Ps();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Il();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ps();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Ji();const f=Ll(),m=function(){return Ll()}();return n.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Gs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ul(E.mutation,y,E.mutation.getFieldMask(),tt.now())):f.set(y.key,qn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>m.set(y,new xD(E,f.get(y)??null))),m))}recalculateAndSaveOverlays(e,n){const s=Ll();let o=new at((f,m)=>f-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||qn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||Me()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=M0();E.forEach(R=>{if(!u.has(R)){const B=z0(n.get(R),s.get(R));B!==null&&S.set(R,B),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Ps());let m=Hl,g=u;return f.next(y=>J.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{g=g.insert(E,R)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,Me())).next(E=>({batchId:m,changes:V0(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let o=Il();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Il();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,g=>{const y=function(S,R){return new su(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,R)=>{f=f.insert(S,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))});let m=Il();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&Ul(E.mutation,y,qn.empty(),tt.now()),Oh(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:bD(o.bundledQuery),readTime:ci(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.overlays=new at(pe.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ps();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Ps(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ps(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ps(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return J.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new nD(n,s));let u=this.qr.get(n);u===void 0&&(u=Me(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(){this.Qr=new Dt(kt.$r),this.Ur=new Dt(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new pe(new et([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new et([])),s=new kt(n,e),o=new kt(n,e+1);let u=Me();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new kt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(kt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new tD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?ap:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Dt(Ve);return n.forEach(o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new kt(new pe(u),0);let m=new Dt(Ve);return this.Zr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)},f),J.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new kt(n,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.ri=e,this.docs=function(){return new at(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=Ji();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ji();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||p2(m2(E),s)<=0||(o.has(E.key)||Oh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new qD(this)}getSize(e){return J.resolve(this.size)}}class qD extends PD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.persistence=e,this.si=new Fs(n=>up(n),cp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new gp,this.targetCount=0,this.ai=to.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new to(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ih(0),this.li=!1,this.li=!0,this.hi=new zD,this.referenceDelegate=e(this),this.Pi=new HD(this),this.indexManager=new ID,this.remoteDocumentCache=function(o){return new jD(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new wD(n),this.Ii=new LD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new BD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new FD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return J.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class FD extends y2{constructor(e){super(),this.currentSequenceNumber=e}}class yp{constructor(e){this.persistence=e,this.Ri=new gp,this.Vi=null}static mi(e){return new yp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,s=>{const o=pe.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class gh{constructor(e,n){this.persistence=e,this.pi=new Fs(s=>E2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=MD(this,n)}static mi(e,n){return new gh(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return J.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xc(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new _p(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return pb()?8:_2(Zt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new GD;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(za()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(za()<=Oe.DEBUG&&ue("QueryEngine","Query:",Ba(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(za()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):J.resolve())}ys(e,n){if(lE(n))return J.resolve(null);let s=ui(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Nm(n,null,"F"),s=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Me(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(e,Nm(n,null,"F")):this.vs(e,y,n,g)}))})))}ws(e,n,s,o){return lE(n)||o.isEqual(Ae.min())?J.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?J.resolve(null):(za()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ba(n)),this.vs(e,f,n,d2(o,Hl)).next(m=>m))})}Ds(e,n){let s=new Dt(N0(e));return n.forEach((o,u)=>{Oh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return za()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ba(n)),this.ps.getDocumentsMatchingQuery(e,n,Hr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="LocalStore",QD=3e8;class YD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new at(Ve),this.xs=new Fs(u=>up(u),cp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function XD(r,e,n,s){return new YD(r,e,n,s)}async function eA(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Me();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(y=>({Ls:y,removedBatchIds:f,addedBatchIds:m}))})})}function $D(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const S=y.batch,R=S.keys();let B=J.resolve();return R.forEach(H=>{B=B.next(()=>E.getEntry(g,H)).next($=>{const F=y.docVersions.get(H);He(F!==null,48541),$.version.compareTo(F)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))})}),B.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Me();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function tA(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function WD(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((E,S)=>{const R=o.get(S);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S)));let B=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?B=B.withResumeToken(Gt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,s)),o=o.insert(S,B),function($,F,G){return $.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=QD?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(R,B,E)&&m.push(n.Pi.updateTargetData(u,B))});let g=Ji(),y=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(ZD(u,f,e.documentUpdates).next(E=>{g=E.ks,y=E.qs})),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ms=o,u))}function ZD(r,e,n){let s=Me(),o=Me();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Ji();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ue(vp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{ks:f,qs:o}})}function JD(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ap),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function eN(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new kr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function xm(r,e,n){const s=Se(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!co(f))throw f;ue(vp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function TE(r,e,n){const s=Se(r);let o=Ae.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const S=Se(g),R=S.xs.get(E);return R!==void 0?J.resolve(S.Ms.get(R)):S.Pi.getTargetData(y,E)}(s,f,ui(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Me())).next(m=>(tN(s,z2(e),m),{documents:m,Qs:u})))}function tN(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class AE{constructor(){this.activeTargetIds=G2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nN{constructor(){this.Mo=new AE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new AE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="ConnectivityMonitor";class RE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(SE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(SE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function km(){return Bc===null?Bc=function(){return 268435456+Math.round(2147483648*Math.random())}():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",rN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=km(),m=this.zo(e,n.toUriEncodedString());ue(um,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=so(y);return this.Jo(e,m,g,s,E).then(S=>(ue(um,`Received RPC '${e}' ${f}: `,S),S),S=>{throw Wa(um,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=rN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class oN extends sN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=km();return new Promise((m,g)=>{const y=new i0;y.setWithCredentials(!0),y.listenOnce(r0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Yc.NO_ERROR:const S=y.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case Yc.TIMEOUT:ue(Xt,`RPC '${e}' ${f} timed out`),g(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const R=y.getStatus();if(ue(Xt,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const H=B?.error;if(H&&H.status&&H.message){const $=function(G){const se=G.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(se)>=0?se:W.UNKNOWN}(H.status);g(new le($,H.message))}else g(new le(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le(W.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ue(Xt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)})}T_(e,n,s){const o=km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=o0(),m=a0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.I_(S);let R=!1,B=!1;const H=new aN({Yo:F=>{B?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(R||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,F),S.send(F))},Zo:()=>S.close()}),$=(F,G,se)=>{F.listen(G,ie=>{try{se(ie)}catch(Re){setTimeout(()=>{throw Re},0)}})};return $(S,bl.EventType.OPEN,()=>{B||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),H.o_())}),$(S,bl.EventType.CLOSE,()=>{B||(B=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(S))}),$(S,bl.EventType.ERROR,F=>{B||(B=!0,Wa(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),H.a_(new le(W.UNAVAILABLE,"The operation could not be completed")))}),$(S,bl.EventType.MESSAGE,F=>{if(!B){const G=F.data[0];He(!!G,16349);const se=G,ie=se?.error||se[0]?.error;if(ie){ue(Xt,`RPC '${e}' stream ${o} received error:`,ie);const Re=ie.status;let de=function(w){const I=vt[w];if(I!==void 0)return q0(I)}(Re),Pe=ie.message;de===void 0&&(de=W.INTERNAL,Pe="Unknown error status: "+Re+" with message "+ie.message),B=!0,H.a_(new le(de,Pe)),S.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,G),H.u_(G)}}),$(m,s0.STAT_EVENT,F=>{F.stat===Sm.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Sm.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{H.__()},0),H}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(r){return new hD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="PersistentStream";class iA{constructor(e,n,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ue(wE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ue(wE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lN extends iA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mD(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?ci(f.readTime):Ae.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Pm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=Cm(g)?{documents:yD(u,g)}:{query:_D(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=G0(u,f.resumeToken);const y=Om(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=ph(u,f.snapshotVersion.toTimestamp());const y=Om(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=ED(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Pm(this.serializer),n.removeTarget=e,this.q_(n)}}class uN extends iA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gD(e.writeResults,e.commitTime),s=ci(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Pm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>pD(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{}class hN extends cN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,Vm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,Vm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(W.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class fN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="RemoteStore";class dN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Ks(this)&&(ue(js,"Restarting streams for network reachability change."),await async function(g){const y=Se(g);y.Ea.add(4),await lu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await kh(y)}(this))})}),this.Ra=new fN(s,o)}}async function kh(r){if(Ks(r))for(const e of r.da)await e(!0)}async function lu(r){for(const e of r.da)await e(!1)}function rA(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sp(n)?Ap(n):ho(n).O_()&&Tp(n,e))}function Ep(r,e){const n=Se(r),s=ho(n);n.Ia.delete(e),s.O_()&&sA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ks(n)&&n.Ra.set("Unknown"))}function Tp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ho(r).Y_(e)}function sA(r,e){r.Va.Ue(e),ho(r).Z_(e)}function Ap(r){r.Va=new oD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ho(r).start(),r.Ra.ua()}function Sp(r){return Ks(r)&&!ho(r).x_()&&r.Ia.size>0}function Ks(r){return Se(r).Ea.size===0}function aA(r){r.Va=void 0}async function mN(r){r.Ra.set("Online")}async function pN(r){r.Ia.forEach((e,n)=>{Tp(r,e)})}async function gN(r,e){aA(r),Sp(r)?(r.Ra.ha(e),Ap(r)):r.Ra.set("Unknown")}async function yN(r,e,n){if(r.Ra.set("Online"),e instanceof F0&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(s){ue(js,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await yh(r,s)}else if(e instanceof Zc?r.Va.Ze(e):e instanceof H0?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await tA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),sA(u,g);const S=new kr(E.target,g,y,E.sequenceNumber);Tp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ue(js,"Failed to raise snapshot:",s),await yh(r,s)}}async function yh(r,e,n){if(!co(e))throw e;r.Ea.add(1),await lu(r),r.Ra.set("Offline"),n||(n=()=>tA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(js,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await kh(r)})}function oA(r,e){return e().catch(n=>yh(r,n,e))}async function Lh(r){const e=Se(r),n=Qr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ap;for(;_N(e);)try{const o=await JD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,vN(e,o)}catch(o){await yh(e,o)}lA(e)&&uA(e)}function _N(r){return Ks(r)&&r.Ta.length<10}function vN(r,e){r.Ta.push(e);const n=Qr(r);n.O_()&&n.X_&&n.ea(e.mutations)}function lA(r){return Ks(r)&&!Qr(r).x_()&&r.Ta.length>0}function uA(r){Qr(r).start()}async function EN(r){Qr(r).ra()}async function TN(r){const e=Qr(r);for(const n of r.Ta)e.ea(n.mutations)}async function AN(r,e,n){const s=r.Ta.shift(),o=dp.from(s,e,n);await oA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Lh(r)}async function SN(r,e){e&&Qr(r).X_&&await async function(s,o){if(function(f){return rD(f)&&f!==W.ABORTED}(o.code)){const u=s.Ta.shift();Qr(s).B_(),await oA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Lh(s)}}(r,e),lA(r)&&uA(r)}async function bE(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),ue(js,"RemoteStore received new credentials");const s=Ks(n);n.Ea.add(3),await lu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kh(n)}async function RN(r,e){const n=Se(r);e?(n.Ea.delete(2),await kh(n)):e||(n.Ea.add(2),await lu(n),n.Ra.set("Unknown"))}function ho(r){return r.ma||(r.ma=function(n,s,o){const u=Se(n);return u.sa(),new lN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:mN.bind(null,r),t_:pN.bind(null,r),r_:gN.bind(null,r),H_:yN.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Sp(r)?Ap(r):r.Ra.set("Unknown")):(await r.ma.stop(),aA(r))})),r.ma}function Qr(r){return r.fa||(r.fa=function(n,s,o){const u=Se(n);return u.sa(),new uN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:EN.bind(null,r),r_:SN.bind(null,r),ta:TN.bind(null,r),na:AN.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Lh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(js,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Rp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wp(r,e){if(Zi("AsyncQueue",`${e}: ${r}`),co(r))return new le(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{static emptySet(e){return new Qa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Il(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Qa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.ga=new at(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class no{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new no(e,n,Qa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class bN{constructor(){this.queries=CE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=CE(),u.forEach((f,m)=>{for(const g of m.Sa)g.onError(s)})})(this,new le(W.ABORTED,"Firestore shutting down"))}}function CE(){return new Fs(r=>D0(r),Nh)}async function cA(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new wN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=wp(f,`Initialization of query '${Ba(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&bp(n)}async function hA(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function IN(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&bp(n)}function CN(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function bp(r){r.Ca.forEach(e=>{e.next()})}var Lm,DE;(DE=Lm||(Lm={})).Ma="default",DE.Cache="cache";class fA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new no(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=no.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.key=e}}class mA{constructor(e){this.key=e}}class DN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=N0(e),this.tu=new Qa(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new IE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const R=o.get(E),B=Oh(this.query,S)?S:null,H=!!R&&this.mutatedKeys.has(R.key),$=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let F=!1;R&&B?R.data.isEqual(B.data)?H!==$&&(s.track({type:3,doc:B}),F=!0):this.su(R,B)||(s.track({type:2,doc:B}),F=!0,(g&&this.eu(B,g)>0||y&&this.eu(B,y)<0)&&(m=!0)):!R&&B?(s.track({type:0,doc:B}),F=!0):R&&!B&&(s.track({type:1,doc:R}),F=!0,(g||y)&&(m=!0)),F&&(B?(f=f.add(B),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((E,S)=>function(B,H){const $=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:F})}};return $(B)-$(H)}(E.type,S.type)||this.eu(E.doc,S.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new no(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new mA(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new dA(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ip="SyncEngine";class NN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ON{constructor(e){this.key=e,this.hu=!1}}class VN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Fs(m=>D0(m),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new at(pe.comparator),this.Au=new Map,this.Ru=new gp,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MN(r,e,n=!0){const s=EA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await pA(s,e,n,!0),o}async function PN(r,e){const n=EA(r);await pA(n,e,!0,!1)}async function pA(r,e,n,s){const o=await eN(r.localStore,ui(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await xN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&rA(r.remoteStore,o),m}async function xN(r,e,n,s,o){r.pu=(S,R,B)=>async function($,F,G,se){let ie=F.view.ru(G);ie.Cs&&(ie=await TE($.localStore,F.query,!1).then(({documents:V})=>F.view.ru(V,ie)));const Re=se&&se.targetChanges.get(F.targetId),de=se&&se.targetMismatches.get(F.targetId)!=null,Pe=F.view.applyChanges(ie,$.isPrimaryClient,Re,de);return OE($,F.targetId,Pe.au),Pe.snapshot}(r,S,R,B);const u=await TE(r.localStore,e,!0),f=new DN(e,u.Qs),m=f.ru(u.documents),g=ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);OE(r,n,y.au);const E=new NN(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function kN(r,e,n){const s=Se(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Nh(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await xm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ep(s.remoteStore,o.targetId),Um(s,o.targetId)}).catch(uo)):(Um(s,o.targetId),await xm(s.localStore,o.targetId,!0))}async function LN(r,e){const n=Se(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ep(n.remoteStore,s.targetId))}async function UN(r,e,n){const s=GN(r);try{const o=await function(f,m){const g=Se(f),y=tt.now(),E=m.reduce((B,H)=>B.add(H.key),Me());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",B=>{let H=Ji(),$=Me();return g.Ns.getEntries(B,E).next(F=>{H=F,H.forEach((G,se)=>{se.isValidDocument()||($=$.add(G))})}).next(()=>g.localDocuments.getOverlayedDocuments(B,H)).next(F=>{S=F;const G=[];for(const se of m){const ie=J2(se,S.get(se.key).overlayedDocument);ie!=null&&G.push(new Gs(se.key,ie,T0(ie.value.mapValue),Qi.exists(!0)))}return g.mutationQueue.addMutationBatch(B,y,G,m)}).next(F=>{R=F;const G=F.applyToLocalDocumentSet(S,$);return g.documentOverlayCache.saveOverlays(B,F.batchId,G)})}).then(()=>({batchId:R.batchId,changes:V0(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new at(Ve)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y}(s,o.batchId,n),await uu(s,o.changes),await Lh(s.remoteStore)}catch(o){const u=wp(o,"Failed to persist write");n.reject(u)}}async function gA(r,e){const n=Se(r);try{const s=await WD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?He(f.hu,14607):o.removedDocuments.size>0&&(He(f.hu,42227),f.hu=!1))}),await uu(n,s,e)}catch(s){await uo(s)}}function NE(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=Se(f);g.onlineState=m;let y=!1;g.queries.forEach((E,S)=>{for(const R of S.Sa)R.va(m)&&(y=!0)}),y&&bp(g)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zN(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new at(pe.comparator);f=f.insert(u,Wt.newNoDocument(u,Ae.min()));const m=Me().add(u),g=new Ph(Ae.min(),new Map,new at(Ve),f,m);await gA(s,g),s.du=s.du.remove(u),s.Au.delete(e),Cp(s)}else await xm(s.localStore,e,!1).then(()=>Um(s,e,n)).catch(uo)}async function BN(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await $D(n.localStore,e);_A(n,s,null),yA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uu(n,o)}catch(o){await uo(o)}}async function jN(r,e,n){const s=Se(r);try{const o=await function(f,m){const g=Se(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(S=>(He(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);_A(s,e,n),yA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await uu(s,o)}catch(o){await uo(o)}}function yA(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function _A(r,e,n){const s=Se(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Um(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||vA(r,s)})}function vA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Ep(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Cp(r))}function OE(r,e,n){for(const s of n)s instanceof dA?(r.Ru.addReference(s.key,e),qN(r,s)):s instanceof mA?(ue(Ip,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||vA(r,s.key)):ve(19791,{wu:s})}function qN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ue(Ip,"New document in limbo: "+n),r.Eu.add(s),Cp(r))}function Cp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(et.fromString(e)),s=r.fu.next();r.Au.set(s,new ON(n)),r.du=r.du.insert(n,s),rA(r.remoteStore,new kr(ui(hp(n.path)),s,"TargetPurposeLimboResolution",Ih.ce))}}async function uu(r,e,n){const s=Se(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,g)=>{f.push(s.pu(g,e,n).then(y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=_p.As(g.targetId,y);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(g,y){const E=Se(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>J.forEach(y,R=>J.forEach(R.Es,B=>E.persistence.referenceDelegate.addReference(S,R.targetId,B)).next(()=>J.forEach(R.ds,B=>E.persistence.referenceDelegate.removeReference(S,R.targetId,B)))))}catch(S){if(!co(S))throw S;ue(vp,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const B=E.Ms.get(R),H=B.snapshotVersion,$=B.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(R,$)}}}(s.localStore,u))}async function HN(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){ue(Ip,"User change. New user:",e.toKey());const s=await eA(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(g=>{g.reject(new le(W.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uu(n,s.Ls)}}function FN(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return Me().add(s.key);{let o=Me();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function EA(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=gA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zN.bind(null,e),e.Pu.H_=IN.bind(null,e.eventManager),e.Pu.yu=CN.bind(null,e.eventManager),e}function GN(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jN.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XD(this.persistence,new KD,e.initialUser,this.serializer)}Cu(e){return new J0(yp.mi,this.serializer)}Du(e){return new nN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class KN extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new OD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new J0(s=>gh.mi(s,n),this.serializer)}}class zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>NE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=HN.bind(null,this.syncEngine),await RN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bN}()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),s=function(u){return new oN(u)}(e.databaseInfo);return function(u,f,m,g){return new hN(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new dN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>NE(this.syncEngine,n,0),function(){return RE.v()?new RE:new iN}())}createSyncEngine(e,n){return function(o,u,f,m,g,y,E){const S=new VN(o,u,f,m,g,y);return E&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Se(n);ue(js,"RemoteStore shutting down."),s.Ea.add(5),await lu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class QN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(Yr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(Yr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=wp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function hm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Yr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await eA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function VE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await YN(r);ue(Yr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>bE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>bE(e.remoteStore,o)),r._onlineComponents=e}async function YN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Yr,"Using user provided OfflineComponentProvider");try{await hm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await hm(r,new _h)}}else ue(Yr,"Using default OfflineComponentProvider"),await hm(r,new KN(void 0));return r._offlineComponents}async function AA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Yr,"Using user provided OnlineComponentProvider"),await VE(r,r._uninitializedComponentsProvider._online)):(ue(Yr,"Using default OnlineComponentProvider"),await VE(r,new zm))),r._onlineComponents}function XN(r){return AA(r).then(e=>e.syncEngine)}async function SA(r){const e=await AA(r),n=e.eventManager;return n.onListen=MN.bind(null,e.syncEngine),n.onUnlisten=kN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LN.bind(null,e.syncEngine),n}function $N(r,e,n={}){const s=new Ki;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new TA({next:R=>{E.Nu(),f.enqueueAndForget(()=>hA(u,S));const B=R.docs.has(m);!B&&R.fromCache?y.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&R.fromCache&&g&&g.source==="server"?y.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new fA(hp(m.path),E,{includeMetadataChanges:!0,qa:!0});return cA(u,S)}(await SA(r),r.asyncQueue,e,n,s)),s.promise}function WN(r,e,n={}){const s=new Ki;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new TA({next:R=>{E.Nu(),f.enqueueAndForget(()=>hA(u,S)),R.fromCache&&g.source==="server"?y.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new fA(m,E,{includeMetadataChanges:!0,qa:!0});return cA(u,S)}(await SA(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="firestore.googleapis.com",PE=!0;class xE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wA,this.ssl=PE}else this.host=e.host,this.ssl=e.ssl??PE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Z0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DD)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new n2;switch(s.type){case"firstParty":return new a2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=ME.get(n);s&&(ue("ComponentProvider","Removing Datastore"),ME.delete(n),s.terminate())}(this),Promise.resolve()}}function ZN(r,e,n,s={}){r=Bs(r,Uh);const o=so(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(dT(`https://${m}`),mT("Firestore",!0)),u.host!==wA&&u.host!==m&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ks(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$t.MOCK_USER;else{y=ab(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(S)}r._authCredentials=new i2(new u0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class St{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ru(n,St._jsonSchema))return new St(e,s||null,new pe(et.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:At("string",St._jsonSchemaVersion),referencePath:At("string")};class qr extends fo{constructor(e,n,s){super(e,n,hp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new pe(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function JN(r,e,...n){if(r=_n(r),c0("collection","path",e),r instanceof Uh){const s=et.fromString(e,...n);return Yv(s),new qr(r,null,s)}{if(!(r instanceof St||r instanceof qr))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return Yv(s),new qr(r.firestore,null,s)}}function kE(r,e,...n){if(r=_n(r),arguments.length===1&&(e=sp.newId()),c0("doc","path",e),r instanceof Uh){const s=et.fromString(e,...n);return Qv(s),new St(r,null,new pe(s))}{if(!(r instanceof St||r instanceof qr))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return Qv(s),new St(r.firestore,r instanceof qr?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="AsyncQueue";class UE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nA(this,"async_queue_retry"),this._c=()=>{const s=cm();s&&ue(LE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ki;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!co(e))throw e;ue(LE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",zE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Rp.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:zE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class zh extends Uh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new UE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UE(e),this._firestoreClient=void 0,await e}}}function eO(r,e){const n=typeof r=="object"?r:_T(),s=typeof r=="string"?r:ch,o=Ym(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=rb("firestore");u&&ZN(o,...u)}return o}function Dp(r){if(r._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||tO(r),r._firestoreClient}function tO(r){const e=r._freezeSettings(),n=function(o,u,f,m){return new S2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,RA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new QN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Gt.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mn(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:At("string",Mn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(e){if(ru(e,hi._jsonSchema))return new hi(e.latitude,e.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:At("string",hi._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new fi(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:At("string",fi._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=/^__.*__$/;class iO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}function bA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class Vp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bA(this.Ac)&&nO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||xh(e)}Cc(e,n,s,o=!1){return new Vp({Ac:e,methodName:n,Dc:s,path:Ft.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IA(r){const e=r._freezeSettings(),n=xh(r._databaseId);return new rO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function sO(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);NA("Data must be an object, but it was:",f,s);const m=CA(s,f);let g,y;if(u.merge)g=new qn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const R=oO(e,S,n);if(!f.contains(R))throw new le(W.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);uO(E,R)||E.push(R)}g=new qn(E),y=f.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=f.fieldTransforms;return new iO(new Vn(m),g,y)}class Mp extends Op{_toFieldTransform(e){return new X2(e.path,new Ql)}isEqual(e){return e instanceof Mp}}function aO(r,e,n,s=!1){return Pp(n,r.Cc(s?4:3,e))}function Pp(r,e){if(DA(r=_n(r)))return NA("Unsupported field value:",e,r),CA(r,e);if(r instanceof Op)return function(s,o){if(!bA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let g=Pp(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=_n(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return K2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=tt.fromDate(s);return{timestampValue:ph(o.serializer,u)}}if(s instanceof tt){const u=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ph(o.serializer,u)}}if(s instanceof hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:G0(o.serializer,s._byteString)};if(s instanceof St){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fi)return function(f,m){return{mapValue:{fields:{[v0]:{stringValue:E0},[hh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return fp(m.serializer,y)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${bh(s)}`)}(r,e)}function CA(r,e){const n={};return d0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(r,(s,o)=>{const u=Pp(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function DA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof hi||r instanceof Mn||r instanceof St||r instanceof Op||r instanceof fi)}function NA(r,e,n){if(!DA(n)||!h0(n)){const s=bh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function oO(r,e,n){if((e=_n(e))instanceof Np)return e._internalPath;if(typeof e=="string")return OA(r,e);throw vh("Field path arguments must be of type string or ",r,!1,void 0,n)}const lO=new RegExp("[~\\*/\\[\\]]");function OA(r,e,n){if(e.search(lO)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Np(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function vh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new le(W.INVALID_ARGUMENT,m+r+g)}function uO(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cO extends VA{data(){return super.data()}}function xp(r,e){return typeof e=="string"?OA(r,e):e instanceof Np?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kp{}class fO extends kp{}function dO(r,e,...n){let s=[];e instanceof kp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof Lp).length,m=u.filter(g=>g instanceof Bh).length;if(f>1||f>0&&m>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Bh extends fO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Bh(e,n,s)}_apply(e){const n=this._parse(e);return MA(e._query,n),new fo(e.firestore,e.converter,Dm(e._query,n))}_parse(e){const n=IA(e.firestore);return function(u,f,m,g,y,E,S){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){jE(S,E);const H=[];for(const $ of S)H.push(BE(g,u,$));R={arrayValue:{values:H}}}else R=BE(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||jE(S,E),R=aO(m,f,S,E==="in"||E==="not-in");return Tt.create(y,E,R)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mO(r,e,n){const s=e,o=xp("where",r);return Bh._create(o,s,n)}class Lp extends kp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)MA(f,g),f=Dm(f,g)}(e._query,n),new fo(e.firestore,e.converter,Dm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function BE(r,e,n){if(typeof(n=_n(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C0(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!pe.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nE(r,new pe(s))}if(n instanceof St)return nE(r,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(n)}.`)}function jE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MA(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pO{convertValue(e,n="none"){switch(Kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Hs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){const n=e.fields?.[hh].arrayValue?.values?.map(s=>mt(s.doubleValue));return new fi(n)}convertGeoPoint(e){return new hi(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Dh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const n=Fr(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);He(W0(s),9688,{name:e});const o=new Gl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||Zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xs extends VA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(xp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",xs._jsonSchema={type:At("string",xs._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class Jc extends xs{data(e={}){return super.data(e)}}class Ya{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Dl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Jc(this._firestore,this._userDataWriter,s.key,s,new Dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new Jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Dl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Dl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:yO(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ya._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(r){r=Bs(r,St);const e=Bs(r.firestore,zh);return $N(Dp(e),r._key).then(n=>AO(e,r,n))}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:At("string",Ya._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class PA extends pO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function vO(r){r=Bs(r,fo);const e=Bs(r.firestore,zh),n=Dp(e),s=new PA(e);return hO(r._query),WN(n,r._query).then(o=>new Ya(e,s,r,o))}function EO(r,e,n){r=Bs(r,St);const s=Bs(r.firestore,zh),o=gO(r.converter,e);return TO(s,[sO(IA(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Qi.none())])}function TO(r,e){return function(s,o){const u=new Ki;return s.asyncQueue.enqueueAndForget(async()=>UN(await XN(s),o,u)),u.promise}(Dp(r),e)}function AO(r,e,n){const s=n.docs.get(e._key),o=new PA(r);return new xs(r,o,e._key,s,new Dl(n.hasPendingWrites,n.fromCache),e.converter)}function SO(){return new Mp("serverTimestamp")}(function(e,n=!0){(function(o){lo=o})(oo),Xa(new Ls("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new zh(new r2(s.getProvider("auth-internal")),new o2(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(y.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),zr(Hv,Fv,e),zr(Hv,Fv,"esm2020")})();const RO={apiKey:"AIzaSyDA_sEEYH4qSwVDfdUkFtFhP3_rE9ea1SY",authDomain:"giangstore.firebaseapp.com",projectId:"giangstore",storageBucket:"giangstore.firebasestorage.app",messagingSenderId:"432186031418",appId:"1:432186031418:web:88a2927b1cf1d71e226403"},xA=yT(RO),qE=e2(xA),fm=eO(xA);function wO(r){return/^(0|\+84)(3|5|7|8|9)[0-9]{8}$/.test(r)}function HE(r){return r.startsWith("0")?"+84"+r.slice(1):r}function bO(r,e,n){r({name:"",phone:"",otp:""}),e(!1)}function IO(){const[r,e]=X.useState(""),[n,s]=X.useState(""),[o,u]=X.useState(""),[f,m]=X.useState(!1),[g,y]=X.useState(!1),[E,S]=X.useState(null),R=JE(),B=()=>{if(!E){const G=new eC(qE,"recaptcha-container",{size:"normal",callback:()=>console.log("✅ reCAPTCHA solved."),"expired-callback":()=>console.log("⚠️ reCAPTCHA expired.")});S(G)}},H=async G=>{const se=dO(JN(fm,"users"),mO("phone","==",G));return!(await vO(se)).empty},$=async G=>{if(G.preventDefault(),!wO(n)){alert("❌ Số điện thoại không hợp lệ.");return}if(!r.trim()){alert("❌ Vui lòng nhập tên.");return}const se=HE(n);try{if(await H(se)){alert("❌ Số điện thoại đã được đăng ký, vui lòng đăng nhập.");return}y(!0),B();const ie=await iC(qE,se,E);window.confirmationResult=ie,m(!0),alert("✅ Mã OTP đã được gửi.")}catch(ie){console.error("❌ Lỗi gửi OTP:",ie),alert("❌ "+ie.message)}finally{y(!1)}},F=async G=>{if(G.preventDefault(),!window.confirmationResult){alert("⚠️ Vui lòng gửi OTP trước.");return}try{y(!0);const ie=(await window.confirmationResult.confirm(o)).user;await EO(kE(fm,"users",ie.uid),{name:r,phone:HE(n),createdAt:SO()});const Re=await _O(kE(fm,"users",ie.uid));console.log("✅ User saved:",Re.data()),alert("✅ Đăng ký thành công!"),bO()}catch(se){console.error("❌ Lỗi xác minh OTP:",se),alert("❌ "+se.message)}finally{y(!1)}};return te.jsx("div",{className:"auth-page",children:te.jsxs("div",{className:"auth-form-container",children:[te.jsx("h2",{children:"Sign Up with Phone"}),!f&&te.jsxs("form",{onSubmit:$,children:[te.jsx("input",{type:"text",placeholder:"Họ tên",value:r,onChange:G=>e(G.target.value)}),te.jsx("input",{type:"text",placeholder:"09XXXXXXXX",value:n,onChange:G=>s(G.target.value)}),te.jsx("div",{id:"recaptcha-container"}),te.jsxs("div",{className:"form-buttons",children:[te.jsx("button",{type:"submit",className:"auth-btn-primary",disabled:g,children:g?"Sending...":"Send OTP"}),te.jsx("button",{type:"button",className:"auth-btn-secondary",onClick:()=>R("/intro"),children:"Cancel"})]})]}),f&&te.jsxs("div",{className:"auth-otp-section",children:[te.jsx("input",{type:"text",placeholder:"Nhập mã OTP",value:o,onChange:G=>u(G.target.value)}),te.jsx("button",{onClick:F,className:"auth-btn-primary",disabled:g,children:g?"Verifying...":"Verify OTP"}),te.jsx("button",{type:"button",className:"auth-btn-secondary",onClick:()=>R("/intro"),children:"Cancel"})]})]})})}function CO(){return te.jsxs("div",{className:"app",children:[te.jsx(jw,{}),te.jsx("main",{children:te.jsxs(ow,{children:[te.jsx(jc,{path:"/",element:te.jsx(Hw,{})}),te.jsx(jc,{path:"/shop",element:te.jsx(Xw,{})}),te.jsx(jc,{path:"/signup",element:te.jsx(IO,{})})]})}),te.jsx(qw,{})]})}yR.createRoot(document.getElementById("root")).render(te.jsx(Nw,{basename:"/giangStore",children:te.jsx(CO,{})}));
